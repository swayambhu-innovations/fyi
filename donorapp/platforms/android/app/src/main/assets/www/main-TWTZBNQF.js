import{$ as it,$a as Fy,$b as Po,A as un,Aa as sa,Ab as Ao,B as yo,Ba as Je,Bb as ua,C as ji,Ca as Dy,Cb as Ar,D as Ey,Da as wl,Db as da,E as ra,Ea as Ry,Eb as Ut,F as Ir,Fa as Qt,Fb as K,G as wo,Ga as fi,Gb as Ly,H as He,Ha as aa,Hb as Uy,I as tf,Ia as Vt,Ib as xl,J as Io,Ja as ca,Jb as Pl,K as Er,Ka as M,Kb as ff,L as nf,La as x,Lb as xo,M as rf,Ma as la,Mb as jy,N as _t,Na as Tr,Nb as kl,O as Cy,Oa as Oy,Ob as Dl,P as Ty,Pa as Il,Pb as ha,Q as bl,Qa as El,Qb as pf,R as Cr,Ra as Eo,Rb as pi,S as Bi,Sa as lf,Sb as mf,T as of,Ta as oe,Tb as By,U as Sy,Ua as My,Ub as zy,V as Ay,Va as Sr,Vb as Sn,W as sf,Wa as Co,Wb as $y,X as yl,Xa as Wt,Xb as qy,Y as zi,Ya as qe,Yb as An,Z as yt,Za as qi,Zb as fa,_ as wn,_a as Ny,_b as zn,a as V,aa as Be,ab as se,ac as Gy,b as be,ba as dn,bb as Lt,bc as Wy,ca as j,cb as B,cc as ce,d as Li,da as ze,db as lt,dc as Gi,e as g,ea as xy,eb as uf,ec as Rl,f as yr,fa as X,fb as df,fc as ko,g as Kh,ga as af,gb as hf,gc as wt,h as At,ha as D,hb as _,hc as It,i as Yh,ia as W,ib as v,ic as Hy,j as Qh,ja as Ue,jb as F,jc as Ky,k as ye,ka as oa,kb as Me,kc as xe,l as dt,la as H,lb as Cl,lc as Yy,m as yy,ma as $e,mb as q,mc as pa,n as wy,na as Ee,nb as Tl,nc as Ol,o as Ui,oa as Py,ob as J,oc as Ml,p as Xh,pa as ct,pb as Sl,q as Jh,qa as ky,qb as To,r as Zh,ra as $i,rb as Al,rc as Nl,s as xt,sa as In,sb as Vy,sc as Do,t as re,ta as En,tb as Bn,tc as gf,u as wr,ua as de,ub as Cn,v as ef,va as he,vb as Tn,vc as xr,w as Iy,wa as hn,wb as So,wc as Ro,x as hi,xa as Ce,xb as E,xc as Oo,y as ue,ya as cf,yb as pe,yc as _f,z as ia,za as Ve,zb as we,zc as vf}from"./chunk-UCSRRF6X.js";var ga=class{},Vl=class{},xn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var yf=class{encodeKey(e){return Qy(e)}encodeValue(e){return Qy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Lx(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var Ux=/%(\d[a-f0-9])/gi,jx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qy(t){return encodeURIComponent(t).replace(Ux,(e,i)=>jx[i]??e)}function Fl(t){return`${t}`}var Hi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Lx(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(Fl):[Fl(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Fl(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Fl(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wf=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Bx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xy(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Jy(t){return typeof Blob<"u"&&t instanceof Blob}function Zy(t){return typeof FormData<"u"&&t instanceof FormData}function zx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ma=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Bx(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new xn,this.context??=new wf,!this.params)this.params=new Hi,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xy(this.body)||Jy(this.body)||Zy(this.body)||zx(this.body)?this.body:this.body instanceof Hi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Zy(this.body)?null:Jy(this.body)?this.body.type||null:Xy(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((b,C)=>b.set(C,e.setHeaders[C]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((b,C)=>b.set(C,e.setParams[C]),h)),new t(i,n,s,{params:h,headers:u,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Ki=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ki||{}),_a=class{constructor(e,i=200,n="OK"){this.headers=e.headers||new xn,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ll=class t extends _a{constructor(e={}){super(e),this.type=Ki.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},va=class t extends _a{constructor(e={}){super(e),this.type=Ki.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wi=class extends _a{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},r0=200,$x=204;function bf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Cf=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof ma)s=n;else{let u;o.headers instanceof xn?u=o.headers:u=new xn(o.headers);let h;o.params&&(o.params instanceof Hi?h=o.params:h=new Hi({fromObject:o.params})),s=new ma(n,r,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=re(s).pipe(Er(u=>this.handler.handle(u)));if(n instanceof ma||o.observe==="events")return a;let l=a.pipe(He(u=>u instanceof va));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(ue(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(ue(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(ue(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(ue(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Hi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,bf(o,r))}post(n,r,o={}){return this.request("POST",n,bf(o,r))}put(n,r,o={}){return this.request("PUT",n,bf(o,r))}};e.\u0275fac=function(r){return new(r||e)(D(ga))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),qx=/^\)\]\}',?\n/,Gx="X-Request-URL";function e0(t){if(t.url)return t.url;let e=Gx.toLocaleLowerCase();return t.headers.get(e)}var Wx=(()=>{let e=class e{constructor(){this.fetchImpl=W(If,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=W(oe)}handle(n){return new At(r=>{let o=new AbortController;return this.doRequest(n,o.signal,r).then(Ef,s=>r.error(new Wi({error:s}))),()=>o.abort()})}doRequest(n,r,o){return g(this,null,function*(){let s=this.createRequestInit(n),a;try{let O=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,V({signal:r},s)));Hx(O),o.next({type:Ki.Sent}),a=yield O}catch(O){o.error(new Wi({error:O,status:O.status??0,statusText:O.statusText,url:n.urlWithParams,headers:O.headers}));return}let l=new xn(a.headers),u=a.statusText,h=e0(a)??n.urlWithParams,p=a.status,b=null;if(n.reportProgress&&o.next(new Ll({headers:l,status:p,statusText:u,url:h})),a.body){let O=a.headers.get("content-length"),L=[],R=a.body.getReader(),$=0,Z,Q,ne=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>g(this,null,function*(){for(;;){let{done:fe,value:T}=yield R.read();if(fe)break;if(L.push(T),$+=T.length,n.reportProgress){Q=n.responseType==="text"?(Q??"")+(Z??=new TextDecoder).decode(T,{stream:!0}):void 0;let y=()=>o.next({type:Ki.DownloadProgress,total:O?+O:void 0,loaded:$,partialText:Q});ne?ne.run(y):y()}}}));let Fe=this.concatChunks(L,$);try{let fe=a.headers.get("Content-Type")??"";b=this.parseBody(n,Fe,fe)}catch(fe){o.error(new Wi({error:fe,headers:new xn(a.headers),status:a.status,statusText:a.statusText,url:e0(a)??n.urlWithParams}));return}}p===0&&(p=b?r0:0),p>=200&&p<300?(o.next(new va({body:b,headers:l,status:p,statusText:u,url:h})),o.complete()):o.error(new Wi({error:b,headers:l,status:p,statusText:u,url:h}))})}parseBody(n,r,o){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(qx,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((s,a)=>r[s]=a.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:o}}concatChunks(n,r){let o=new Uint8Array(r),s=0;for(let a of n)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),If=class{};function Ef(){}function Hx(t){t.then(Ef,Ef)}function o0(t,e){return e(t)}function Kx(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function Yx(t,e,i){return(n,r)=>In(i,()=>e(n,o=>t(o,r)))}var Qx=new X(""),Tf=new X(""),Xx=new X(""),s0=new X("",{providedIn:"root",factory:()=>!0});function Jx(){let t=null;return(e,i)=>{t===null&&(t=(W(Qx,{optional:!0})??[]).reduceRight(Kx,o0));let n=W(sa);if(W(s0)){let o=n.add();return t(e,i).pipe(Cr(()=>n.remove(o)))}else return t(e,i)}}var t0=(()=>{let e=class e extends ga{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=W(sa),this.contributeToStability=W(s0)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Tf),...this.injector.get(Xx,[])]));this.chain=r.reduceRight((o,s)=>Yx(o,s,this.injector),o0)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Cr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(D(Vl),D($i))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();var Zx=/^\)\]\}',?\n/;function eP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var n0=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Be(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xt(r.\u0275loadImpl()):re(null)).pipe(yt(()=>new At(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((R,$)=>a.setRequestHeader(R,$.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let l=n.serializeBody(),u=null,h=()=>{if(u!==null)return u;let R=a.statusText||"OK",$=new xn(a.getAllResponseHeaders()),Z=eP(a)||n.url;return u=new Ll({headers:$,status:a.status,statusText:R,url:Z}),u},p=()=>{let{headers:R,status:$,statusText:Z,url:Q}=h(),ne=null;$!==$x&&(ne=typeof a.response>"u"?a.responseText:a.response),$===0&&($=ne?r0:0);let Fe=$>=200&&$<300;if(n.responseType==="json"&&typeof ne=="string"){let fe=ne;ne=ne.replace(Zx,"");try{ne=ne!==""?JSON.parse(ne):null}catch(T){ne=fe,Fe&&(Fe=!1,ne={error:T,text:ne})}}Fe?(s.next(new va({body:ne,headers:R,status:$,statusText:Z,url:Q||void 0})),s.complete()):s.error(new Wi({error:ne,headers:R,status:$,statusText:Z,url:Q||void 0}))},b=R=>{let{url:$}=h(),Z=new Wi({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:$||void 0});s.error(Z)},C=!1,O=R=>{C||(s.next(h()),C=!0);let $={type:Ki.DownloadProgress,loaded:R.loaded};R.lengthComputable&&($.total=R.total),n.responseType==="text"&&a.responseText&&($.partialText=a.responseText),s.next($)},L=R=>{let $={type:Ki.UploadProgress,loaded:R.loaded};R.lengthComputable&&($.total=R.total),s.next($)};return a.addEventListener("load",p),a.addEventListener("error",b),a.addEventListener("timeout",b),a.addEventListener("abort",b),n.reportProgress&&(a.addEventListener("progress",O),l!==null&&a.upload&&a.upload.addEventListener("progress",L)),a.send(l),s.next({type:Ki.Sent}),()=>{a.removeEventListener("error",b),a.removeEventListener("abort",b),a.removeEventListener("load",p),a.removeEventListener("timeout",b),n.reportProgress&&(a.removeEventListener("progress",O),l!==null&&a.upload&&a.upload.removeEventListener("progress",L)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(D(Ml))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),a0=new X(""),tP="XSRF-TOKEN",nP=new X("",{providedIn:"root",factory:()=>tP}),iP="X-XSRF-TOKEN",rP=new X("",{providedIn:"root",factory:()=>iP}),Ul=class{},oP=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rl(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(D(ce),D(Qt),D(nP))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function sP(t,e){let i=t.url.toLowerCase();if(!W(a0)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=W(Ul).getToken(),r=W(rP);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var c0=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(c0||{});function aP(t,e){return{\u0275kind:t,\u0275providers:e}}function l0(...t){let e=[Cf,n0,t0,{provide:ga,useExisting:t0},{provide:Vl,useFactory:()=>W(Wx,{optional:!0})??W(n0)},{provide:Tf,useValue:sP,multi:!0},{provide:a0,useValue:!0},{provide:Ul,useClass:oP}];for(let i of t)e.push(...i.\u0275providers);return ct(e)}var i0=new X("");function u0(){return aP(c0.LegacyInterceptors,[{provide:i0,useFactory:Jx},{provide:Tf,useExisting:i0,multi:!0}])}var xf=class extends Wy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pf=class t extends xf{static makeCurrent(){Gy(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=uP();return i==null?null:dP(i)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Rl(document.cookie,e)}},ba=null;function uP(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}function dP(t){return new URL(t,document.baseURI).pathname}var hP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),jl=new X(""),f0=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Be(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(D(jl),D(oe))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),ya=class{constructor(e){this._doc=e}},Sf="ng-app-id",p0=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ol(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Sf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Sf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Sf,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(D(ce),D(wl),D(aa,8),D(Qt))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Df=/%COMP%/g,m0="%COMP%",fP=`_nghost-${m0}`,pP=`_ngcontent-${m0}`,mP=!0,gP=new X("",{providedIn:"root",factory:()=>mP});function _P(t){return pP.replace(Df,t)}function vP(t){return fP.replace(Df,t)}function g0(t,e){return e.map(i=>i.replace(Df,t))}var Bl=(()=>{let e=class e{constructor(n,r,o,s,a,l,u,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ol(l),this.defaultRenderer=new wa(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===oa.ShadowDom&&(r=be(V({},r),{encapsulation:oa.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof zl?o.applyToHost(n):o instanceof Ia&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(r.encapsulation){case oa.Emulated:s=new zl(u,h,r,this.appId,p,a,l,b);break;case oa.ShadowDom:return new kf(u,h,n,r,a,l,this.nonce,b);default:s=new Ia(u,h,r,p,a,l,b);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(D(f0),D(p0),D(wl),D(gP),D(ce),D(Qt),D(oe),D(aa))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),wa=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Af[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(d0(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(d0(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Be(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=Af[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Af[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(ca.DashCase|ca.Important)?e.style.setProperty(i,n,r&ca.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&ca.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Po().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function d0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kf=class extends wa{constructor(e,i,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=g0(r.id,r.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends wa{constructor(e,i,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?g0(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zl=class extends Ia{constructor(e,i,n,r,o,s,a,l){let u=r+"-"+n.id;super(e,i,n,o,s,a,l,u),this.contentAttr=_P(u),this.hostAttr=vP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},bP=(()=>{let e=class e extends ya{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),yP=(()=>{let e=class e extends ya{constructor(n){super(n),this.delegate=W(qy,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,r,o){return this.delegate.addEventListener(n,r,o)}removeEventListener(n,r,o){return this.delegate.removeEventListener(n,r,o)}};e.\u0275fac=function(r){return new(r||e)(D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),h0=["alt","control","meta","shift"],wP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},EP=(()=>{let e=class e extends ya{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Po().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),h0.forEach(h=>{let p=r.indexOf(h);p>-1&&(r.splice(p,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let o=wP[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),h0.forEach(a=>{if(a!==o){let l=IP[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function _0(t,e){return $y(V({rootComponent:t},CP(e)))}function CP(t){return{appProviders:[...PP,...t?.providers??[]],platformProviders:xP}}function TP(){Pf.makeCurrent()}function SP(){return new cf}function AP(){return Dy(document),document}var xP=[{provide:Qt,useValue:Yy},{provide:Ry,useValue:TP,multi:!0},{provide:ce,useFactory:AP,deps:[]}];var PP=[{provide:ky,useValue:"root"},{provide:cf,useFactory:SP,deps:[]},{provide:jl,useClass:bP,multi:!0,deps:[ce,oe,Qt]},{provide:jl,useClass:EP,multi:!0,deps:[ce]},{provide:jl,useClass:yP,multi:!0},Bl,p0,f0,{provide:El,useExisting:Bl},{provide:Ml,useClass:hP,deps:[]},[]];var v0=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ve="primary",Ua=Symbol("RouteTitle"),Ff=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Uo(t){return new Ff(t)}function DP(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function RP(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!$n(t[i],e[i]))return!1;return!0}function $n(t,e){let i=t?Vf(t):void 0,n=e?Vf(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!S0(t[r],e[r]))return!1;return!0}function Vf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function S0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function A0(t){return t.length>0?t[t.length-1]:null}function Yi(t){return ef(t)?t:Dl(t)?xt(Promise.resolve(t)):re(t)}var OP={exact:P0,subset:k0},x0={exact:MP,subset:NP,ignored:()=>!0};function b0(t,e,i){return OP[i.paths](t.root,e.root,i.matrixParams)&&x0[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function MP(t,e){return $n(t,e)}function P0(t,e,i){if(!kr(t.segments,e.segments)||!Gl(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!P0(t.children[n],e.children[n],i))return!1;return!0}function NP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>S0(t[i],e[i]))}function k0(t,e,i){return D0(t,e,e.segments,i)}function D0(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!kr(r,i)||e.hasChildren()||!Gl(r,i,n))}else if(t.segments.length===i.length){if(!kr(t.segments,i)||!Gl(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!k0(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!kr(t.segments,r)||!Gl(t.segments,r,n)||!t.children[ve]?!1:D0(t.children[ve],e,o,n)}}function Gl(t,e,i){return e.every((n,r)=>x0[i](t[r].parameters,n.parameters))}var gi=class{constructor(e=new Re([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Uo(this.queryParams),this._queryParamMap}toString(){return LP.serialize(this)}},Re=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wl(this)}},Pr=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=Uo(this.parameters),this._parameterMap}toString(){return O0(this)}};function FP(t,e){return kr(t,e)&&t.every((i,n)=>$n(i.parameters,e[n].parameters))}function kr(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function VP(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ve&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ve&&(i=i.concat(e(r,n)))}),i}var lp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>new Pa,providedIn:"root"});let t=e;return t})(),Pa=class{parse(e){let i=new Uf(e);return new gi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Ea(e.root,!0)}`,n=BP(e.queryParams),r=typeof e.fragment=="string"?`#${UP(e.fragment)}`:"";return`${i}${n}${r}`}},LP=new Pa;function Wl(t){return t.segments.map(e=>O0(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return Wl(t);if(e){let i=t.children[ve]?Ea(t.children[ve],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ve&&n.push(`${r}:${Ea(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=VP(t,(n,r)=>r===ve?[Ea(t.children[ve],!1)]:[`${r}:${Ea(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ve]!=null?`${Wl(t)}/${i[0]}`:`${Wl(t)}/(${i.join("//")})`}}function R0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $l(t){return R0(t).replace(/%3B/gi,";")}function UP(t){return encodeURI(t)}function Lf(t){return R0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hl(t){return decodeURIComponent(t)}function y0(t){return Hl(t.replace(/\+/g,"%20"))}function O0(t){return`${Lf(t.path)}${jP(t.parameters)}`}function jP(t){return Object.entries(t).map(([e,i])=>`;${Lf(e)}=${Lf(i)}`).join("")}function BP(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${$l(i)}=${$l(r)}`).join("&"):`${$l(i)}=${$l(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var zP=/^[^\/()?;#]+/;function Rf(t){let e=t.match(zP);return e?e[0]:""}var $P=/^[^\/()?;=#]+/;function qP(t){let e=t.match($P);return e?e[0]:""}var GP=/^[^=?&#]+/;function WP(t){let e=t.match(GP);return e?e[0]:""}var HP=/^[^&#]+/;function KP(t){let e=t.match(HP);return e?e[0]:""}var Uf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ve]=new Re(e,i)),n}parseSegment(){let e=Rf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Be(4009,!1);return this.capture(e),new Pr(Hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=qP(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Rf(this.remaining);r&&(n=r,this.capture(n))}e[Hl(i)]=Hl(n)}parseQueryParam(e){let i=WP(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=KP(this.remaining);s&&(n=s,this.capture(n))}let r=y0(i),o=y0(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Rf(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Be(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[ve]:new Re([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Be(4011,!1)}};function M0(t){return t.segments.length>0?new Re([],{[ve]:t}):t}function N0(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=N0(r);if(n===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new Re(t.segments,e);return YP(i)}function YP(t){if(t.numberOfChildren===1&&t.children[ve]){let e=t.children[ve];return new Re(t.segments.concat(e.segments),e.children)}return t}function ka(t){return t instanceof gi}function QP(t,e,i=null,n=null){let r=F0(t);return V0(r,e,i,n)}function F0(t){let e;function i(o){let s={};for(let l of o.children){let u=i(l);s[l.outlet]=u}let a=new Re(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=M0(n);return e??r}function V0(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Of(r,r,r,i,n);let o=XP(e);if(o.toRoot())return Of(r,r,new Re([],{}),i,n);let s=JP(o,r,t),a=s.processChildren?Sa(s.segmentGroup,s.index,o.commands):U0(s.segmentGroup,s.index,o.commands);return Of(r,s.segmentGroup,a,i,n)}function Kl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function Of(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;t===e?s=i:s=L0(t,e,i);let a=M0(N0(s));return new gi(a,o,r)}function L0(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=L0(o,e,i)}),new Re(t.segments,n)}var Yl=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Kl(n[0]))throw new Be(4003,!1);let r=n.find(Da);if(r&&r!==A0(n))throw new Be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yl(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Yl(i,e,n)}var Fo=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function JP(t,e,i){if(t.isAbsolute)return new Fo(e,!0,0);if(!i)return new Fo(e,!1,NaN);if(i.parent===null)return new Fo(i,!0,0);let n=Kl(t.commands[0])?0:1,r=i.segments.length-1+n;return ZP(i,r,t.numberOfDoubleDots)}function ZP(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Be(4005,!1);r=n.segments.length}return new Fo(n,!1,r-o)}function ek(t){return Da(t[0])?t[0].outlets:{[ve]:t}}function U0(t,e,i){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return Sa(t,e,i);let n=tk(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Re(t.segments.slice(0,n.pathIndex),{});return o.children[ve]=new Re(t.segments.slice(n.pathIndex),t.children),Sa(o,0,r)}else return n.match&&r.length===0?new Re(t.segments,{}):n.match&&!t.hasChildren()?jf(t,e,i):n.match?Sa(t,0,r):jf(t,e,i)}function Sa(t,e,i){if(i.length===0)return new Re(t.segments,{});{let n=ek(i),r={};if(Object.keys(n).some(o=>o!==ve)&&t.children[ve]&&t.numberOfChildren===1&&t.children[ve].segments.length===0){let o=Sa(t.children[ve],e,i);return new Re(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=U0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Re(t.segments,r)}}function tk(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(Da(a))break;let l=`${a}`,u=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!I0(l,u,s))return o;n+=2}else{if(!I0(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function jf(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(Da(o)){let l=nk(o.outlets);return new Re(n,l)}if(r===0&&Kl(i[0])){let l=t.segments[e];n.push(new Pr(l.path,w0(i[0]))),r++;continue}let s=Da(o)?o.outlets[ve]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Kl(a)?(n.push(new Pr(s,w0(a))),r+=2):(n.push(new Pr(s,{})),r++)}return new Re(n,{})}function nk(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=jf(new Re([],{}),0,n))}),e}function w0(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function I0(t,e,i){return t==i.path&&$n(e,i.parameters)}var Aa="imperative",kt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(kt||{}),fn=class{constructor(e,i){this.id=e,this.url=i}},Ra=class extends fn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=kt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_i=class extends fn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tn||{}),Bf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Bf||{}),mi=class extends fn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends fn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=kt.NavigationSkipped}},Oa=class extends fn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ql=class extends fn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class extends fn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends fn{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qf=class extends fn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gf=class extends fn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class{constructor(e){this.route=e,this.type=kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hf=class{constructor(e){this.route=e,this.type=kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kf=class{constructor(e){this.snapshot=e,this.type=kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(e){this.snapshot=e,this.type=kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{constructor(e){this.snapshot=e,this.type=kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xf=class{constructor(e){this.snapshot=e,this.type=kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ma=class{},jo=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};function ik(t,e){return t.providers&&!t._injector&&(t._injector=Fy(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pn(t){return t.outlet||ve}function rk(t,e){let i=t.filter(n=>Pn(n)===e);return i.push(...t.filter(n=>Pn(n)!==e)),i}function ja(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var Jf=class{get injector(){return ja(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new iu(this.rootInjector),this.attachRef=null}},iu=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Jf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)(D($i))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=Zf(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=Zf(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=ep(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ep(e,this._root).map(i=>i.value)}};function Zf(t,e){if(t===e.value)return e;for(let i of e.children){let n=Zf(t,i);if(n)return n}return null}function ep(t,e){if(t===e.value)return[e];for(let i of e.children){let n=ep(t,i);if(n.length)return n.unshift(e),n}return[]}var en=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function No(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Jl=class extends Xl{constructor(e,i){super(e),this.snapshot=i,up(this,e)}toString(){return this.snapshot.toString()}};function j0(t){let e=ok(t),i=new dt([new Pr("",{})]),n=new dt({}),r=new dt({}),o=new dt({}),s=new dt(""),a=new pn(i,n,o,s,r,ve,t,e.root);return a.snapshot=e.root,new Jl(new en(a,[]),e)}function ok(t){let e={},i={},n={},r="",o=new Vo([],e,n,r,i,ve,t,null,{});return new eu("",new en(o,[]))}var pn=class{constructor(e,i,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(u=>u[Ua]))??re(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ue(e=>Uo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ue(e=>Uo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zl(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),r?.data),t._resolvedData)}:n={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},r&&z0(r)&&(n.resolve[Ua]=r.title),n}var Vo=class{get title(){return this.data?.[Ua]}constructor(e,i,n,r,o,s,a,l,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Uo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},eu=class extends Xl{constructor(e,i){super(i),this.url=e,up(this,i)}toString(){return B0(this._root)}};function up(t,e){e.value._routerState=t,e.children.forEach(i=>up(t,i))}function B0(t){let e=t.children.length>0?` { ${t.children.map(B0).join(", ")} } `:"";return`${t.value}${e}`}function Mf(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,$n(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),$n(e.params,i.params)||t.paramsSubject.next(i.params),RP(e.url,i.url)||t.urlSubject.next(i.url),$n(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function tp(t,e){let i=$n(t.params,e.params)&&FP(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||tp(t.parent,e.parent))}function z0(t){return typeof t.title=="string"||t.title===null}var dp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new Je,this.deactivateEvents=new Je,this.attachEvents=new Je,this.detachEvents=new Je,this.parentContexts=W(iu),this.location=W(Co),this.changeDetector=W(Sn),this.inputBinder=W(hp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Be(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new np(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ee({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[En]});let t=e;return t})(),np=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===pn?this.route:e===iu?this.childContexts:this.parent.get(e,i)}},hp=new X("");function sk(t,e,i){let n=Na(t,e._root,i?i._root:void 0);return new Jl(n,e)}function Na(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=ak(t,e,i);return new en(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Na(t,a)),s}}let n=ck(e.value),r=e.children.map(o=>Na(t,o));return new en(n,r)}}function ak(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Na(t,n,r);return Na(t,n)})}function ck(t){return new pn(new dt(t.url),new dt(t.params),new dt(t.queryParams),new dt(t.fragment),new dt(t.data),t.outlet,t.component,t)}var Fa=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},$0="ngNavigationCancelingError";function tu(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=q0(!1,tn.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function q0(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[$0]=!0,i.cancellationCode=e,i}function lk(t){return G0(t)&&ka(t.url)}function G0(t){return!!t&&t[$0]}var uk=(t,e,i,n)=>ue(r=>(new ip(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),ip=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),Mf(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=No(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=No(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=No(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=No(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Xf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yf(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(Mf(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mf(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,n)}},nu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Lo=class{constructor(e,i){this.component=e,this.route=i}};function dk(t,e,i){let n=t._root,r=e?e._root:null;return Ca(n,r,i,[n.value])}function hk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function zo(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!xy(t)?t:e.get(t):n}function Ca(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=No(e);return t.children.forEach(s=>{fk(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>xa(a,i.getContext(s),r)),r}function fk(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=pk(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new nu(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ca(t,e,a?a.children:null,n,r):Ca(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Lo(a.outlet.component,s))}else s&&xa(e,a,r),r.canActivateChecks.push(new nu(n)),o.component?Ca(t,null,a?a.children:null,n,r):Ca(t,null,i,n,r);return r}function pk(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(t.url,e.url)||!$n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tp(t,e)||!$n(t.queryParams,e.queryParams);case"paramsChange":default:return!tp(t,e)}}function xa(t,e,i){let n=No(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?xa(s,e.children.getContext(o),i):xa(s,null,i):xa(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new Lo(e.outlet.component,r)):i.canDeactivateChecks.push(new Lo(null,r)):i.canDeactivateChecks.push(new Lo(null,r))}function Ba(t){return typeof t=="function"}function mk(t){return typeof t=="boolean"}function gk(t){return t&&Ba(t.canLoad)}function _k(t){return t&&Ba(t.canActivate)}function vk(t){return t&&Ba(t.canActivateChild)}function bk(t){return t&&Ba(t.canDeactivate)}function yk(t){return t&&Ba(t.canMatch)}function W0(t){return t instanceof Iy||t?.name==="EmptyError"}var ql=Symbol("INITIAL_VALUE");function Bo(){return yt(t=>ia(t.map(e=>e.pipe(_t(1),zi(ql)))).pipe(ue(e=>{for(let i of e)if(i!==!0){if(i===ql)return ql;if(i===!1||wk(i))return i}return!0}),He(e=>e!==ql),_t(1)))}function wk(t){return ka(t)||t instanceof Fa}function Ik(t,e){return un(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?re(be(V({},i),{guardsResult:!0})):Ek(s,n,r,t).pipe(un(a=>a&&mk(a)?Ck(n,o,t,e):re(a)),ue(a=>be(V({},i),{guardsResult:a})))})}function Ek(t,e,i,n){return xt(t).pipe(un(r=>Pk(r.component,r.route,i,e,n)),Bi(r=>r!==!0,!0))}function Ck(t,e,i,n){return xt(e).pipe(Er(r=>yo(Sk(r.route.parent,n),Tk(r.route,n),xk(t,r.path,i),Ak(t,r.route,i))),Bi(r=>r!==!0,!0))}function Tk(t,e){return t!==null&&e&&e(new Qf(t)),re(!0)}function Sk(t,e){return t!==null&&e&&e(new Kf(t)),re(!0)}function Ak(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return re(!0);let r=n.map(o=>ji(()=>{let s=ja(e)??i,a=zo(o,s),l=_k(a)?a.canActivate(e,t):In(s,()=>a(e,t));return Yi(l).pipe(Bi())}));return re(r).pipe(Bo())}function xk(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>hk(s)).filter(s=>s!==null).map(s=>ji(()=>{let a=s.guards.map(l=>{let u=ja(s.node)??i,h=zo(l,u),p=vk(h)?h.canActivateChild(n,t):In(u,()=>h(n,t));return Yi(p).pipe(Bi())});return re(a).pipe(Bo())}));return re(o).pipe(Bo())}function Pk(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let l=ja(e)??r,u=zo(a,l),h=bk(u)?u.canDeactivate(t,e,i,n):In(l,()=>u(t,e,i,n));return Yi(h).pipe(Bi())});return re(s).pipe(Bo())}function kk(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return re(!0);let o=r.map(s=>{let a=zo(s,t),l=gk(a)?a.canLoad(e,i):In(t,()=>a(e,i));return Yi(l)});return re(o).pipe(Bo(),H0(n))}function H0(t){return Kh(it(e=>{if(typeof e!="boolean")throw tu(t,e)}),ue(e=>e===!0))}function Dk(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return re(!0);let o=r.map(s=>{let a=zo(s,t),l=yk(a)?a.canMatch(e,i):In(t,()=>a(e,i));return Yi(l)});return re(o).pipe(Bo(),H0(n))}var Va=class{constructor(e){this.segmentGroup=e||null}},La=class extends Error{constructor(e){super(),this.urlTree=e}};function Mo(t){return wr(new Va(t))}function Rk(t){return wr(new Be(4e3,!1))}function Ok(t){return wr(q0(!1,tn.GuardRejected))}var rp=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return re(n);if(r.numberOfChildren>1||!r.children[ve])return Rk(`${e.redirectTo}`);r=r.children[ve]}}applyRedirectCommands(e,i,n,r,o){if(typeof i!="string"){let a=i,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:b,params:C,data:O,title:L}=r,R=In(o,()=>a({params:C,data:O,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:b,title:L}));if(R instanceof gi)throw new La(R);i=R}let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i[0]==="/")throw new La(s);return s}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new gi(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new Re(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new Be(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},op={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mk(t,e,i,n,r){let o=fp(t,e,i);return o.matched?(n=ik(e,n),Dk(n,e,i,r).pipe(ue(s=>s===!0?o:V({},op)))):re(o)}function fp(t,e,i){if(e.path==="**")return Nk(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?V({},op):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||DP)(i,t,e);if(!r)return V({},op);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?V(V({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Nk(t){return{matched:!0,parameters:t.length>0?A0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function E0(t,e,i,n){return i.length>0&&Lk(t,i,n)?{segmentGroup:new Re(e,Vk(n,new Re(i,t.children))),slicedSegments:[]}:i.length===0&&Uk(t,i,n)?{segmentGroup:new Re(t.segments,Fk(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:i}}function Fk(t,e,i,n){let r={};for(let o of i)if(ru(t,e,o)&&!n[Pn(o)]){let s=new Re([],{});r[Pn(o)]=s}return V(V({},n),r)}function Vk(t,e){let i={};i[ve]=e;for(let n of t)if(n.path===""&&Pn(n)!==ve){let r=new Re([],{});i[Pn(n)]=r}return i}function Lk(t,e,i){return i.some(n=>ru(t,e,n)&&Pn(n)!==ve)}function Uk(t,e,i){return i.some(n=>ru(t,e,n))}function ru(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function jk(t,e,i,n){return Pn(t)!==n&&(n===ve||!ru(e,i,t))?!1:fp(e,t,i).matched}function Bk(t,e,i){return e.length===0&&!t.children[i]}var sp=class{};function zk(t,e,i,n,r,o,s="emptyOnly"){return new ap(t,e,i,n,r,s,o).recognize()}var $k=31,ap=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Be(4002,`'${e.segmentGroup}'`)}recognize(){let e=E0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ue(({children:i,rootSnapshot:n})=>{let r=new en(n,i),o=new eu("",r),s=QP(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let i=new Vo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,i).pipe(ue(n=>({children:n,rootSnapshot:i})),Io(n=>{if(n instanceof La)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Va?this.noMatchError(n):n}))}processSegmentGroup(e,i,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n,o):this.processSegment(e,i,n,n.segments,r,!0,o).pipe(ue(s=>s instanceof en?[s]:[]))}processChildren(e,i,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return xt(o).pipe(Er(s=>{let a=n.children[s],l=rk(i,s);return this.processSegmentGroup(e,l,a,s,r)}),sf((s,a)=>(s.push(...a),s)),rf(null),Sy(),un(s=>{if(s===null)return Mo(n);let a=K0(s);return qk(a),re(a)}))}processSegment(e,i,n,r,o,s,a){return xt(i).pipe(Er(l=>this.processSegmentAgainstRoute(l._injector??e,i,l,n,r,o,s,a).pipe(Io(u=>{if(u instanceof Va)return re(null);throw u}))),Bi(l=>!!l),Io(l=>{if(W0(l))return Bk(n,r,o)?re(new sp):Mo(n);throw l}))}processSegmentAgainstRoute(e,i,n,r,o,s,a,l){return jk(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s,l):Mo(r):Mo(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:b}=fp(i,r,o);if(!l)return Mo(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$k&&(this.allowRedirects=!1));let C=new Vo(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,C0(r),Pn(r),r.component??r._loadedComponent??null,r,T0(r)),O=Zl(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(O.params),C.data=Object.freeze(O.data);let L=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,C,e);return this.applyRedirects.lineralizeSegments(r,L).pipe(un(R=>this.processSegment(e,n,i,R.concat(b),s,!1,a)))}matchSegmentAgainstRoute(e,i,n,r,o,s){let a=Mk(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(yt(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(yt(({routes:u})=>{let h=n._loadedInjector??e,{parameters:p,consumedSegments:b,remainingSegments:C}=l,O=new Vo(b,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,C0(n),Pn(n),n.component??n._loadedComponent??null,n,T0(n)),L=Zl(O,s,this.paramsInheritanceStrategy);O.params=Object.freeze(L.params),O.data=Object.freeze(L.data);let{segmentGroup:R,slicedSegments:$}=E0(i,b,C,u);if($.length===0&&R.hasChildren())return this.processChildren(h,u,R,O).pipe(ue(Q=>new en(O,Q)));if(u.length===0&&$.length===0)return re(new en(O,[]));let Z=Pn(n)===o;return this.processSegment(h,u,R,$,Z?ve:o,!0,O).pipe(ue(Q=>new en(O,Q instanceof en?[Q]:[])))}))):Mo(i)))}getChildConfig(e,i,n){return i.children?re({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?re({routes:i._loadedRoutes,injector:i._loadedInjector}):kk(e,i,n,this.urlSerializer).pipe(un(r=>r?this.configLoader.loadChildren(e,i).pipe(it(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):Ok(i))):re({routes:[],injector:e})}};function qk(t){t.sort((e,i)=>e.value.outlet===ve?-1:i.value.outlet===ve?1:e.value.outlet.localeCompare(i.value.outlet))}function Gk(t){let e=t.value.routeConfig;return e&&e.path===""}function K0(t){let e=[],i=new Set;for(let n of t){if(!Gk(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=K0(n.children);e.push(new en(n.value,r))}return e.filter(n=>!i.has(n))}function C0(t){return t.data||{}}function T0(t){return t.resolve||{}}function Wk(t,e,i,n,r,o){return un(s=>zk(t,e,i,n,s.extractedUrl,r,o).pipe(ue(({state:a,tree:l})=>be(V({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Hk(t,e){return un(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return re(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of Y0(l))s.add(u);let a=0;return xt(s).pipe(Er(l=>o.has(l)?Kk(l,n,t,e):(l.data=Zl(l,l.parent,t).resolve,re(void 0))),it(()=>a++),of(1),un(l=>a===s.size?re(i):Ui))})}function Y0(t){let e=t.children.map(i=>Y0(i)).flat();return[t,...e]}function Kk(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!z0(r)&&(o[Ua]=r.title),Yk(o,t,e,n).pipe(ue(s=>(t._resolvedData=s,t.data=Zl(t,t.parent,i).resolve,null)))}function Yk(t,e,i,n){let r=Vf(t);if(r.length===0)return re({});let o={};return xt(r).pipe(un(s=>Qk(t[s],e,i,n).pipe(Bi(),it(a=>{if(a instanceof Fa)throw tu(new Pa,a);o[s]=a}))),of(1),Cy(o),Io(s=>W0(s)?Ui:wr(s)))}function Qk(t,e,i,n){let r=ja(e)??n,o=zo(t,r),s=o.resolve?o.resolve(e,i):In(r,()=>o(e,i));return Yi(s)}function Nf(t){return yt(e=>{let i=t(e);return i?xt(i).pipe(ue(()=>e)):re(e)})}var Q0=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ve);return r}getResolvedTitleForRoute(n){return n.data[Ua]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>W(Xk),providedIn:"root"});let t=e;return t})(),Xk=(()=>{let e=class e extends Q0{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(D(v0))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pp=new X("",{providedIn:"root",factory:()=>({})}),Jk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["ng-component"]],standalone:!0,features:[K],decls:1,vars:0,template:function(r,o){r&1&&F(0,"router-outlet")},dependencies:[dp],encapsulation:2});let t=e;return t})();function mp(t){let e=t.children&&t.children.map(mp),i=e?be(V({},t),{children:e}):V({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ve&&(i.component=Jk),i}var gp=new X(""),Zk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(mf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return re(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Yi(n.loadComponent()).pipe(ue(X0),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Cr(()=>{this.componentLoaders.delete(n)})),o=new Qh(r,()=>new ye).pipe(Yh());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=eD(r,this.compiler,n,this.onLoadEndListener).pipe(Cr(()=>{this.childrenLoaders.delete(r)})),a=new Qh(s,()=>new ye).pipe(Yh());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eD(t,e,i,n){return Yi(t.loadChildren()).pipe(ue(X0),un(r=>r instanceof Ny||Array.isArray(r)?re(r):xt(e.compileModuleAsync(r))),ue(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(gp,[],{optional:!0,self:!0}).flat()),{routes:s.map(mp),injector:o}}))}function tD(t){return t&&typeof t=="object"&&"default"in t}function X0(t){return tD(t)?t.default:t}var _p=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>W(nD),providedIn:"root"});let t=e;return t})(),nD=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iD=new X("");var rD=new X(""),oD=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ye,this.transitionAbortSubject=new ye,this.configLoader=W(Zk),this.environmentInjector=W($i),this.urlSerializer=W(lp),this.rootContexts=W(iu),this.location=W(Gi),this.inputBindingEnabled=W(hp,{optional:!0})!==null,this.titleStrategy=W(Q0),this.options=W(pp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(_p),this.createViewTransition=W(iD,{optional:!0}),this.navigationErrorHandler=W(rD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Wf(o)),r=o=>this.events.next(new Hf(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(be(V(V({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new dt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Aa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(He(s=>s.id!==0),ue(s=>be(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),yt(s=>{let a=!1,l=!1;return re(s).pipe(yt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",tn.SupersededByNewNavigation),Ui;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?be(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!h&&p!=="reload"){let b="";return this.events.next(new Dr(u.id,this.urlSerializer.serialize(u.rawUrl),b,Bf.IgnoredSameUrlNavigation)),u.resolve(!1),Ui}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return re(u).pipe(yt(b=>{let C=this.transitions?.getValue();return this.events.next(new Ra(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),C!==this.transitions?.getValue()?Ui:Promise.resolve(b)}),Wk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),it(b=>{s.targetSnapshot=b.targetSnapshot,s.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=be(V({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let C=new Ql(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:b,extractedUrl:C,source:O,restoredState:L,extras:R}=u,$=new Ra(b,this.urlSerializer.serialize(C),O,L);this.events.next($);let Z=j0(this.rootComponentType).snapshot;return this.currentTransition=s=be(V({},u),{targetSnapshot:Z,urlAfterRedirects:C,extras:be(V({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,re(s)}else{let b="";return this.events.next(new Dr(u.id,this.urlSerializer.serialize(u.extractedUrl),b,Bf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ui}}),it(u=>{let h=new zf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ue(u=>(this.currentTransition=s=be(V({},u),{guards:dk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),Ik(this.environmentInjector,u=>this.events.next(u)),it(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw tu(this.urlSerializer,u.guardsResult);let h=new $f(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),He(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",tn.GuardRejected),!1)),Nf(u=>{if(u.guards.canActivateChecks.length)return re(u).pipe(it(h=>{let p=new qf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),yt(h=>{let p=!1;return re(h).pipe(Hk(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",tn.NoDataFromResolver)}}))}),it(h=>{let p=new Gf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Nf(u=>{let h=p=>{let b=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(p.routeConfig).pipe(it(C=>{p.component=C}),ue(()=>{})));for(let C of p.children)b.push(...h(C));return b};return ia(h(u.targetSnapshot.root)).pipe(rf(null),_t(1))}),Nf(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:u,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return p?xt(p).pipe(ue(()=>s)):re(s)}),ue(u=>{let h=sk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=be(V({},u),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),it(()=>{this.events.next(new Ma)}),uk(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_t(1),it({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _i(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),wn(this.transitionAbortSubject.pipe(it(u=>{throw u}))),Cr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",tn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Io(u=>{if(l=!0,G0(u))this.events.next(new mi(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),lk(u)?this.events.next(new jo(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Oa(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=In(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Fa){let{message:b,cancellationCode:C}=tu(this.urlSerializer,p);this.events.next(new mi(s.id,this.urlSerializer.serialize(s.extractedUrl),b,C)),this.events.next(new jo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let b=n.errorHandler(u);s.resolve(!!b)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Ui}))}))}cancelNavigationTransition(n,r,o){let s=new mi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sD(t){return t!==Aa}var aD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>W(cD),providedIn:"root"});let t=e;return t})(),cp=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},cD=(()=>{let e=class e extends cp{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>W(lD),providedIn:"root"});let t=e;return t})(),lD=(()=>{let e=class e extends J0{constructor(){super(...arguments),this.location=W(Gi),this.urlSerializer=W(lp),this.options=W(pp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(_p),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=j0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ra)this.stateMemento=this.createStateMemento();else if(n instanceof Dr)this.rawUrlTree=r.initialUrl;else if(n instanceof Ql){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof Ma?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof mi&&(n.code===tn.GuardRejected||n.code===tn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Oa?this.restoreHistory(r,!0):n instanceof _i&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=n instanceof gi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=V(V({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ta=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ta||{});function uD(t,e){t.events.pipe(He(i=>i instanceof _i||i instanceof mi||i instanceof Oa||i instanceof Dr),ue(i=>i instanceof _i||i instanceof Dr?Ta.COMPLETE:(i instanceof mi?i.code===tn.Redirect||i.code===tn.SupersededByNewNavigation:!1)?Ta.REDIRECTING:Ta.FAILED),He(i=>i!==Ta.REDIRECTING),_t(1)).subscribe(()=>{e()})}function dD(t){throw t}var hD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ge=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=W(kl),this.stateManager=W(J0),this.options=W(pp,{optional:!0})||{},this.pendingTasks=W(sa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(oD),this.urlSerializer=W(lp),this.location=W(Gi),this.urlHandlingStrategy=W(_p),this._events=new ye,this.errorHandler=this.options.errorHandler||dD,this.navigated=!1,this.routeReuseStrategy=W(aD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(gp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W(hp,{optional:!0}),this.eventsSubscription=new yr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof mi&&r.code!==tn.Redirect&&r.code!==tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _i)this.navigated=!0;else if(r instanceof jo){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),u=V({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sD(o.source)},a);this.scheduleNavigation(l,Aa,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}mD(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Aa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=V({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:a,p=null;switch(l){case"merge":p=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let b;try{let C=o?o.snapshot:this.routerState.snapshot.root;b=F0(C)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),b=this.currentUrlTree.root}return V0(b,n,p,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=ka(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Aa,null,r)}navigate(n,r={skipLocationChange:!1}){return pD(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=V({},hD):r===!1?o=V({},fD):o=r,ka(n))return b0(this.currentUrlTree,n,o);let s=this.parseUrl(n);return b0(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((b,C)=>{l=b,u=C});let p=this.pendingTasks.add();return uD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(b=>Promise.reject(b))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pD(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Be(4008,!1)}function mD(t){return!(t instanceof Ma)&&!(t instanceof jo)}var gD=new X("");function Z0(t,...e){return ct([{provide:gp,multi:!0,useValue:t},[],{provide:pn,useFactory:_D,deps:[ge]},{provide:pf,multi:!0,useFactory:vD},e.map(i=>i.\u0275providers)])}function _D(t){return t.routerState.root}function vD(){let t=W(Ce);return e=>{let i=t.get(pi);if(e!==i.components[0])return;let n=t.get(ge),r=t.get(bD);t.get(yD)===1&&n.initialNavigation(),t.get(wD,null,af.Optional)?.setUpPreloading(),t.get(gD,null,af.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var bD=new X("",{factory:()=>new ye}),yD=new X("",{providedIn:"root",factory:()=>1});var wD=new X("");var ID=(t,e)=>({"disabled-btn":t,primary_botton_gradient:e}),$o=(()=>{let e=class e{constructor(){this.btnName="",this.disabled=!1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["lib-save-btn"]],inputs:{btnName:"btnName",disabled:"disabled"},standalone:!0,features:[K],decls:2,vars:6,consts:[[1,"white","primary_botton_gradient",3,"disabled","ngClass"]],template:function(r,o){r&1&&(_(0,"button",0),E(1),v()),r&2&&(B("disabled",o.disabled)("ngClass",Ly(3,ID,o.disabled,!o.disabled)),M(),we(" ",o.btnName,`
`))},dependencies:[xe,ko],styles:["button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px;font-family:Jura,sans-serif;font-size:16px;font-style:normal;font-weight:700;line-height:normal}.disabled-btn[_ngcontent-%COMP%]{background-color:gray;color:#a9a9a9}"]});let t=e;return t})();var tw=function(t){let e=[],i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},ED=function(t){let e=[],i=0,n=0;for(;i<t.length;){let r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[i++];e[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[i++],s=t[i++],a=t[i++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{let o=t[i++],s=t[i++];e[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,h=o>>2,p=(o&3)<<4|a>>4,b=(a&15)<<2|u>>6,C=u&63;l||(C=64,s||(b=64)),n.push(i[h],i[p],i[b],i[C])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ED(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){let o=i[t.charAt(r++)],a=r<t.length?i[t.charAt(r)]:0;++r;let u=r<t.length?i[t.charAt(r)]:64;++r;let p=r<t.length?i[t.charAt(r)]:64;if(++r,o==null||a==null||u==null||p==null)throw new bp;let b=o<<2|a>>4;if(n.push(b),u!==64){let C=a<<4&240|u>>2;if(n.push(C),p!==64){let O=u<<6&192|p;n.push(O)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CD=function(t){let e=tw(t);return nw.encodeByteArray(e,!0)},za=function(t){return CD(t).replace(/\./g,"")},wp=function(t){try{return nw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SD=()=>TD().__FIREBASE_DEFAULTS__,AD=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wp(t[1]);return e&&JSON.parse(e)},su=()=>{try{return SD()||AD()||xD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ip=t=>{var e,i;return(i=(e=su())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},qo=t=>{let e=Ip(t);if(!e)return;let i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let n=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),n]:[e.substring(0,i),n]},Ep=()=>{var t;return(t=su())===null||t===void 0?void 0:t.config},Cp=t=>{var e;return(e=su())===null||e===void 0?void 0:e[`_${t}`]};var ou=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}};function au(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[za(JSON.stringify(i)),za(JSON.stringify(s)),""].join(".")}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function PD(){var t;let e=(t=su())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sw(){let t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aw(){return!PD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $a(){try{return typeof indexedDB=="object"}catch{return!1}}function cu(){return new Promise((t,e)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){e(i)}})}function cw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var kD="FirebaseError",Et=class t extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=kD,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}},nn=class{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){let n=i[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?DD(o,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Et(r,a,n)}};function DD(t,e){return t.replace(RD,(i,n)=>{let r=e[n];return r!=null?String(r):`<${n}?>`})}var RD=/\{\$([^}]+)}/g;function lw(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rr(t,e){if(t===e)return!0;let i=Object.keys(t),n=Object.keys(e);for(let r of i){if(!n.includes(r))return!1;let o=t[r],s=e[r];if(ew(o)&&ew(s)){if(!Rr(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!i.includes(r))return!1;return!0}function ew(t){return t!==null&&typeof t=="object"}function Go(t){let e=[];for(let[i,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function uw(t,e){let i=new yp(t,e);return i.subscribe.bind(i)}var yp=class{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,n){let r;if(e===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");OD(e,["next","error","complete"])?r=e:r={next:e,error:i,complete:n},r.next===void 0&&(r.next=vp),r.error===void 0&&(r.error=vp),r.complete===void 0&&(r.complete=vp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function OD(t,e){if(typeof t!="object"||t===null)return!1;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function vp(){}var U4=4*60*60*1e3;function Oe(t){return t&&t._delegate?t._delegate:t}var rt=class{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Or="[DEFAULT]";var Tp=class{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){let n=new ou;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;let n=this.normalizeInstanceIdentifier(e?.identifier),r=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ND(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(let[i,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(r)}return r}onInit(e,i){var n;let r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){let n=this.onInitCallbacks.get(i);if(n)for(let r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MD(t){return t===Or?void 0:t}function ND(t){return t.instantiationMode==="EAGER"}var lu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let i=new Tp(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}};var FD=[],Te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Te||{}),VD={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},LD=Te.INFO,UD={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},jD=(t,e,...i)=>{if(e<t.logLevel)return;let n=new Date().toISOString(),r=UD[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qi=class{constructor(e){this.name=e,this._logLevel=LD,this._logHandler=jD,this._userLogHandler=null,FD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};var BD=(t,e)=>e.some(i=>t instanceof i),dw,hw;function zD(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $D(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fw=new WeakMap,Ap=new WeakMap,pw=new WeakMap,Sp=new WeakMap,Pp=new WeakMap;function qD(t){let e=new Promise((i,n)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{i(kn(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(i=>{i instanceof IDBCursor&&fw.set(i,t)}).catch(()=>{}),Pp.set(e,t),e}function GD(t){if(Ap.has(t))return;let e=new Promise((i,n)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{i(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ap.set(t,e)}var xp={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pw.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return kn(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mw(t){xp=t(xp)}function WD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){let n=t.call(uu(this),e,...i);return pw.set(n,e.sort?e.sort():[e]),kn(n)}:$D().includes(t)?function(...e){return t.apply(uu(this),e),kn(fw.get(this))}:function(...e){return kn(t.apply(uu(this),e))}}function HD(t){return typeof t=="function"?WD(t):(t instanceof IDBTransaction&&GD(t),BD(t,zD())?new Proxy(t,xp):t)}function kn(t){if(t instanceof IDBRequest)return qD(t);if(Sp.has(t))return Sp.get(t);let e=HD(t);return e!==t&&(Sp.set(t,e),Pp.set(e,t)),e}var uu=t=>Pp.get(t);function Mr(t,e,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=kn(s);return n&&s.addEventListener("upgradeneeded",l=>{n(kn(s.result),l.oldVersion,l.newVersion,kn(s.transaction),l)}),i&&s.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function du(t,{blocked:e}={}){let i=indexedDB.deleteDatabase(t);return e&&i.addEventListener("blocked",n=>e(n.oldVersion,n)),kn(i).then(()=>{})}var KD=["get","getKey","getAll","getAllKeys","count"],YD=["put","add","delete","clear"],kp=new Map;function gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);let i=e.replace(/FromIndex$/,""),n=e!==i,r=YD.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||KD.includes(i)))return;let o=function(s,...a){return g(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),u=l.store;return n&&(u=u.index(a.shift())),(yield Promise.all([u[i](...a),r&&l.done]))[0]})};return kp.set(e,o),o}mw(t=>be(V({},t),{get:(e,i,n)=>gw(e,i)||t.get(e,i,n),has:(e,i)=>!!gw(e,i)||t.has(e,i)}));var Rp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QD(i)){let n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}};function QD(t){let e=t.getComponent();return e?.type==="VERSION"}var Op="@firebase/app",_w="0.10.6";var Nr=new Qi("@firebase/app"),XD="@firebase/app-compat",JD="@firebase/analytics-compat",ZD="@firebase/analytics",eR="@firebase/app-check-compat",tR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",rR="@firebase/database",oR="@firebase/database-compat",sR="@firebase/functions",aR="@firebase/functions-compat",cR="@firebase/installations",lR="@firebase/installations-compat",uR="@firebase/messaging",dR="@firebase/messaging-compat",hR="@firebase/performance",fR="@firebase/performance-compat",pR="@firebase/remote-config",mR="@firebase/remote-config-compat",gR="@firebase/storage",_R="@firebase/storage-compat",vR="@firebase/firestore",bR="@firebase/vertexai-preview",yR="@firebase/firestore-compat",wR="firebase",IR="10.12.3";var Mp="[DEFAULT]",ER={[Op]:"fire-core",[XD]:"fire-core-compat",[ZD]:"fire-analytics",[JD]:"fire-analytics-compat",[tR]:"fire-app-check",[eR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[rR]:"fire-rtdb",[oR]:"fire-rtdb-compat",[sR]:"fire-fn",[aR]:"fire-fn-compat",[cR]:"fire-iid",[lR]:"fire-iid-compat",[uR]:"fire-fcm",[dR]:"fire-fcm-compat",[hR]:"fire-perf",[fR]:"fire-perf-compat",[pR]:"fire-rc",[mR]:"fire-rc-compat",[gR]:"fire-gcs",[_R]:"fire-gcs-compat",[vR]:"fire-fst",[yR]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};var qa=new Map,CR=new Map,Np=new Map;function vw(t,e){try{t.container.addComponent(e)}catch(i){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Ct(t){let e=t.name;if(Np.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(let i of qa.values())vw(i,t);for(let i of CR.values())vw(i,t);return!0}function Xt(t,e){let i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t.settings!==void 0}var TR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new nn("app","Firebase",TR);var Fp=class{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}};var Gn=IR;function Up(t,e={}){let i=t;typeof e!="object"&&(e={name:e});let n=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Xi.create("bad-app-name",{appName:String(r)});if(i||(i=Ep()),!i)throw Xi.create("no-options");let o=qa.get(r);if(o){if(Rr(i,o.options)&&Rr(n,o.config))return o;throw Xi.create("duplicate-app",{appName:r})}let s=new lu(r);for(let l of Np.values())s.addComponent(l);let a=new Fp(i,n,s);return qa.set(r,a),a}function rn(t=Mp){let e=qa.get(t);if(!e&&t===Mp&&Ep())return Up();if(!e)throw Xi.create("no-app",{appName:t});return e}function hu(){return Array.from(qa.values())}function Ie(t,e,i){var n;let r=(n=ER[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}Ct(new rt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var SR="firebase-heartbeat-database",AR=1,Ga="firebase-heartbeat-store",Dp=null;function Iw(){return Dp||(Dp=Mr(SR,AR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(i){console.warn(i)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Dp}function xR(t){return g(this,null,function*(){try{let i=(yield Iw()).transaction(Ga),n=yield i.objectStore(Ga).get(Ew(t));return yield i.done,n}catch(e){if(e instanceof Et)Nr.warn(e.message);else{let i=Xi.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(i.message)}}})}function bw(t,e){return g(this,null,function*(){try{let n=(yield Iw()).transaction(Ga,"readwrite");yield n.objectStore(Ga).put(e,Ew(t)),yield n.done}catch(i){if(i instanceof Et)Nr.warn(i.message);else{let n=Xi.create("idb-set",{originalErrorMessage:i?.message});Nr.warn(n.message)}}})}function Ew(t){return`${t.name}!${t.options.appId}`}var PR=1024,kR=30*24*60*60*1e3,Vp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new Lp(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return g(this,null,function*(){var e,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=kR}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=yw(),{heartbeatsToSend:n,unsentEntries:r}=DR(this._heartbeatsCache.heartbeats),o=za(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function yw(){return new Date().toISOString().substring(0,10)}function DR(t,e=PR){let i=[],n=t.slice();for(let r of t){let o=i.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),ww(i)>e){o.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),ww(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}var Lp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return $a()?cu().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield xR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bw(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return bw(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function ww(t){return za(JSON.stringify({version:2,heartbeats:t})).length}function RR(t){Ct(new rt("platform-logger",e=>new Rp(e),"PRIVATE")),Ct(new rt("heartbeat",e=>new Vp(e),"PRIVATE")),Ie(Op,_w,t),Ie(Op,_w,"esm2017"),Ie("fire-js","")}RR("");var OR="firebase",MR="10.12.3";Ie(OR,MR,"app");var on=new xo("ANGULARFIRE2_VERSION"),Cw=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Hn(t,e,i){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(t).getImmediate({optional:!0})}var Dn=(t,e)=>{let i=e?[e]:hu(),n=[];return i.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Wn=class{constructor(){return Dn(NR)}},NR="app-check";function Wo(){}var fu=class{zone;delegate;constructor(e,i=wy){this.zone=e,this.delegate=i}now(){return this.delegate.now()}schedule(e,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},jp=class{zone;task=null;constructor(e){this.zone=e}call(e,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),i.pipe(it({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new fu(Zone.current)),this.insideAngular=i.run(()=>new fu(Zone.current,yy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||t)(D(oe))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function FR(t){return pu().ngZone.runOutsideAngular(()=>t())}function Fr(t){return pu().ngZone.run(()=>t())}function VR(t){return LR(pu())(t)}function LR(t){return function(i){return i=i.lift(new jp(t.ngZone)),i.pipe(Zh(t.outsideAngular),Jh(t.insideAngular))}}var UR=(t,e)=>function(){let n=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fr(()=>t.apply(void 0,n))},Ne=(t,e)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(e&&(i||=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo))),n[o]=UR(n[o],i));let r=FR(()=>t.apply(this,n));if(!e)if(r instanceof At){let o=pu();return r.pipe(Zh(o.outsideAngular),Jh(o.insideAngular))}else return Fr(()=>r);return r instanceof At?r.pipe(VR):r instanceof Promise?Fr(()=>new Promise((o,s)=>r.then(a=>Fr(()=>o(a)),a=>Fr(()=>s(a))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:Fr(()=>r)};var Ht=class{constructor(e){return e}},sn=class{constructor(){return hu()}};function jR(t){return t&&t.length===1?t[0]:new Ht(rn())}var Bp=new X("angularfire2._apps"),BR={provide:Ht,useFactory:jR,deps:[[new Ue,Bp]]},zR={provide:sn,deps:[[new Ue,Bp]]};function $R(t){return(e,i)=>{let n=i.get(Qt);Ie("angularfire",on.full,"core"),Ie("angularfire",on.full,"app"),Ie("angular",jy.full,n.toString());let r=e.runOutsideAngular(()=>t(i));return new Ht(r)}}function Tw(t,...e){return ct([BR,zR,{provide:Bp,useFactory:$R(t),multi:!0,deps:[oe,Ce,mn,...e]}])}var Sw=Ne(Up,!0);function zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $w=zw,qw=new nn("auth","Firebase",zw());var yu=new Qi("@firebase/auth");function qR(t,...e){yu.logLevel<=Te.WARN&&yu.warn(`Auth (${Gn}): ${t}`,...e)}function gu(t,...e){yu.logLevel<=Te.ERROR&&yu.error(`Auth (${Gn}): ${t}`,...e)}function er(t,...e){throw fm(t,...e)}function Kn(t,...e){return fm(t,...e)}function Gw(t,e,i){let n=Object.assign(Object.assign({},$w()),{[e]:i});return new nn("auth","Firebase",n).create(e,{appName:t.name})}function Zi(t){return Gw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fm(t,...e){if(typeof t!="string"){let i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return qw.create(t,...e)}function ie(t,e,...i){if(!t)throw fm(e,...i)}function vi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw gu(e),new Error(e)}function tr(t,e){t||vi(e)}function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ww(){return Aw()==="http:"||Aw()==="https:"}function Aw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ww()||rw()||"connection"in navigator)?navigator.onLine:!0}function WR(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vr=class{constructor(e,i){this.shortDelay=e,this.longDelay=i,tr(i>e,"Short delay should be less than long delay!"),this.isMobile=iw()||ow()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pm(t,e){tr(t.emulator,"Emulator should always be set here");let{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}var wu=class{static initialize(e,i,n){this.fetchImpl=e,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var KR=new Vr(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yn(o,s,a,l){return g(this,arguments,function*(t,e,i,n,r={}){return Hw(t,r,()=>g(this,null,function*(){let u={},h={};n&&(e==="GET"?h=n:u={body:JSON.stringify(n)});let p=Go(Object.assign({key:t.config.apiKey},h)).slice(1),b=yield t._getAdditionalHeaders();return b["Content-Type"]="application/json",t.languageCode&&(b["X-Firebase-Locale"]=t.languageCode),wu.fetch()(Kw(t,t.config.apiHost,i,p),Object.assign({method:e,headers:b,referrerPolicy:"no-referrer"},u))}))})}function Hw(t,e,i){return g(this,null,function*(){t._canInitEmulator=!1;let n=Object.assign(Object.assign({},HR),e);try{let r=new Hp(t),o=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wa(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wa(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wa(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wa(t,"user-disabled",s);let h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gw(t,h,u);er(t,h)}}catch(r){if(r instanceof Et)throw r;er(t,"network-request-failed",{message:String(r)})}})}function Du(o,s,a,l){return g(this,arguments,function*(t,e,i,n,r={}){let u=yield Yn(t,e,i,n,r);return"mfaPendingCredential"in u&&er(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Kw(t,e,i,n){let r=`${e}${i}?${n}`;return t.config.emulator?pm(t.config,r):`${t.config.apiScheme}://${r}`}var Hp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(Kn(this.auth,"network-request-failed")),KR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wa(t,e,i){let n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=Kn(t,e,n);return r.customData._tokenResponse=i,r}function xw(t){return t!==void 0&&t.getResponse!==void 0}function YR(t){return g(this,null,function*(){return(yield Yn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function QR(t,e){return g(this,null,function*(){return Yn(t,"POST","/v1/accounts:delete",e)})}function Yw(t,e){return g(this,null,function*(){return Yn(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function mm(t,e=!1){return g(this,null,function*(){let i=Oe(t),n=yield i.getIdToken(e),r=gm(n);ie(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:Ha(zp(r.auth_time)),issuedAtTime:Ha(zp(r.iat)),expirationTime:Ha(zp(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zp(t){return Number(t)*1e3}function gm(t){let[e,i,n]=t.split(".");if(e===void 0||i===void 0||n===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{let r=wp(i);return r?JSON.parse(r):(gu("Failed to decode base64 JWT payload"),null)}catch(r){return gu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Pw(t){let e=gm(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ya(t,e,i=!1){return g(this,null,function*(){if(i)return e;try{return yield e}catch(n){throw n instanceof Et&&XR(n)&&t.auth.currentUser===t&&(yield t.auth.signOut()),n}})}function XR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Kp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let i=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),i)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qa=class{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Iu(t){return g(this,null,function*(){var e;let i=t.auth,n=yield t.getIdToken(),r=yield Ya(t,Yw(i,{idToken:n}));ie(r?.users.length,i,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Qw(o.providerUserInfo):[],a=JR(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qa(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function _m(t){return g(this,null,function*(){let e=Oe(t);yield Iu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function JR(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function Qw(t){return t.map(e=>{var{providerId:i}=e,n=Xh(e,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ZR(t,e){return g(this,null,function*(){let i=yield Hw(t,{},()=>g(this,null,function*(){let n=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=Kw(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wu.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function eO(t,e){return g(this,null,function*(){return Yn(t,"POST","/v2/accounts:revokeToken",yi(t,e))})}var Ka=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");let i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ie(e.length!==0,"internal-error");let i=Pw(e);this.updateTokensAndExpiration(e,null,i)}getToken(e,i=!1){return g(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,i){return g(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield ZR(e,i);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(e,i,n){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,i){let{refreshToken:n,accessToken:r,expirationTime:o}=i,s=new t;return n&&(ie(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),r&&(ie(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return vi("not implemented")}};function Ji(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ho=class t{constructor(e){var{uid:i,auth:n,stsTokenManager:r}=e,o=Xh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let i=yield Ya(this,this.stsTokenManager.getToken(this.auth,e));return ie(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(e){return mm(this,e)}reload(){return _m(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let i=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,i=!1){return g(this,null,function*(){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),i&&(yield Iu(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(qn(this.auth.app))return Promise.reject(Zi(this.auth));let e=yield this.getIdToken();return yield Ya(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var n,r,o,s,a,l,u,h;let p=(n=i.displayName)!==null&&n!==void 0?n:void 0,b=(r=i.email)!==null&&r!==void 0?r:void 0,C=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,O=(s=i.photoURL)!==null&&s!==void 0?s:void 0,L=(a=i.tenantId)!==null&&a!==void 0?a:void 0,R=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,$=(u=i.createdAt)!==null&&u!==void 0?u:void 0,Z=(h=i.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:ne,isAnonymous:Fe,providerData:fe,stsTokenManager:T}=i;ie(Q&&T,e,"internal-error");let y=Ka.fromJSON(this.name,T);ie(typeof Q=="string",e,"internal-error"),Ji(p,e.name),Ji(b,e.name),ie(typeof ne=="boolean",e,"internal-error"),ie(typeof Fe=="boolean",e,"internal-error"),Ji(C,e.name),Ji(O,e.name),Ji(L,e.name),Ji(R,e.name),Ji($,e.name),Ji(Z,e.name);let w=new t({uid:Q,auth:e,email:b,emailVerified:ne,displayName:p,isAnonymous:Fe,photoURL:O,phoneNumber:C,tenantId:L,stsTokenManager:y,createdAt:$,lastLoginAt:Z});return fe&&Array.isArray(fe)&&(w.providerData=fe.map(S=>Object.assign({},S))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,i,n=!1){return g(this,null,function*(){let r=new Ka;r.updateFromServerResponse(i);let o=new t({uid:i.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield Iu(o),o})}static _fromGetAccountInfoResponse(e,i,n){return g(this,null,function*(){let r=i.users[0];ie(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Qw(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Ka;a.updateFromIdToken(n);let l=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Qa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var kw=new Map;function bi(t){tr(t instanceof Function,"Expected a class definition");let e=kw.get(t);return e?(tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kw.set(t,e),e)}var tO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(i,n){return g(this,null,function*(){this.storage[i]=n})}_get(i){return g(this,null,function*(){let n=this.storage[i];return n===void 0?null:n})}_remove(i){return g(this,null,function*(){delete this.storage[i]})}_addListener(i,n){}_removeListener(i,n){}}return t.type="NONE",t})(),Yp=tO;function _u(t,e,i){return`firebase:${t}:${e}:${i}`}var Eu=class t{constructor(e,i,n){this.persistence=e,this.auth=i,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=_u(this.userKey,r.apiKey,o),this.fullPersistenceKey=_u("persistence",r.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ho._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,i,n="authUser"){return g(this,null,function*(){if(!i.length)return new t(bi(Yp),e,n);let r=(yield Promise.all(i.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||bi(Yp),s=_u(n,e.config.apiKey,e.name),a=null;for(let u of i)try{let h=yield u._get(s);if(h){let p=Ho._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,n):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(i.map(u=>g(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,n))})}};function Dw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(vm(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(i);if(n?.length===2)return n[1]}return"Other"}function Xw(t=vt()){return/firefox\//i.test(t)}function vm(t=vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(t=vt()){return/crios\//i.test(t)}function Zw(t=vt()){return/iemobile/i.test(t)}function eI(t=vt()){return/android/i.test(t)}function tI(t=vt()){return/blackberry/i.test(t)}function nI(t=vt()){return/webos/i.test(t)}function Ru(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nO(t=vt()){var e;return Ru(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iO(){return sw()&&document.documentMode===10}function iI(t=vt()){return Ru(t)||eI(t)||nI(t)||tI(t)||/windows phone/i.test(t)||Zw(t)}function rO(){try{return!!(window&&window!==window.top)}catch{return!1}}function rI(t,e=[]){let i;switch(t){case"Browser":i=Dw(vt());break;case"Worker":i=`${Dw(vt())}-${t}`;break;default:i=t}let n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Gn}/${n}`}var Qp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){let n=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});n.onAbort=i,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let i=[];try{for(let n of this.queue)yield n(e),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function oO(i){return g(this,arguments,function*(t,e={}){return Yn(t,"GET","/v2/passwordPolicy",yi(t,e))})}var sO=6,Xp=class{constructor(e){var i,n,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=s.minPasswordLength)!==null&&i!==void 0?i:sO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,n,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,i){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=e.length>=n),r&&(i.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,i,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Jp=class{constructor(e,i,n,r){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cu(this),this.idTokenSubscription=new Cu(this),this.beforeStateQueue=new Qp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=bi(i)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Eu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let i=yield Yw(this,{idToken:e}),n=yield Ho._fromGetAccountInfoResponse(this,i,e);yield this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var i;if(qn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return g(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Iu(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=WR()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(qn(this.app))return Promise.reject(Zi(this));let i=e?Oe(e):null;return i&&ie(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(e,i=!1){return g(this,null,function*(){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return qn(this.app)?Promise.reject(Zi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qn(this.app)?Promise.reject(Zi(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(bi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield oO(this),i=new Xp(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nn("auth","Firebase",e())}onAuthStateChanged(e,i,n){return this.registerStateListener(this.authStateSubscription,e,i,n)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,n){return this.registerStateListener(this.idTokenSubscription,e,i,n)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},i)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),yield eO(this,n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,i){return g(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(i);return e===null?n.removeCurrentUser():n.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let i=e&&bi(e)||this._popupRedirectResolver;ie(i,this,"argument-error"),this.redirectPersistenceManager=yield Eu.create(this,[bi(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var i,n;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,n,r){if(this._deleted)return()=>{};let o=typeof i=="function"?i:i.next.bind(i),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof i=="function"){let l=e.addObserver(i,n,r);return()=>{s=!0,l()}}else{let l=e.addObserver(i);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();n&&(i["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return g(this,null,function*(){var e;let i=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return i?.error&&qR(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function Ko(t){return Oe(t)}var Cu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=uw(i=>this.observer=i)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ou={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aO(t){Ou=t}function oI(t){return Ou.loadJS(t)}function cO(){return Ou.recaptchaV2Script}function lO(){return Ou.gapiScript}function sI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function bm(t,e){let i=Xt(t,"auth");if(i.isInitialized()){let r=i.getImmediate(),o=i.getOptions();if(Rr(o,e??{}))return r;er(r,"already-initialized")}return i.initialize({options:e})}function uO(t,e){let i=e?.persistence||[],n=(Array.isArray(i)?i:[i]).map(bi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function ym(t,e,i){let n=Ko(t);ie(n._canInitEmulator,n,"emulator-config-failed"),ie(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");let r=!!i?.disableWarnings,o=aI(e),{host:s,port:a}=dO(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||hO()}function aI(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dO(t){let e=aI(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:Rw(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:Rw(s)}}}function Rw(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function hO(){function t(){let e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xa=class{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,i){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}};function $p(t,e){return g(this,null,function*(){return Du(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))})}function fO(t,e){return g(this,null,function*(){return Yn(t,"POST","/v1/accounts:sendVerificationCode",yi(t,e))})}function pO(t,e){return g(this,null,function*(){return Du(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,e))})}function mO(t,e){return g(this,null,function*(){let i=yield Du(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,e));if(i.temporaryProof)throw Wa(t,"account-exists-with-different-credential",i);return i})}var gO={USER_NOT_FOUND:"user-not-found"};function _O(t,e){return g(this,null,function*(){let i=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Du(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,i),gO)})}var Tu=class t extends Xa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,i){return new t({verificationId:e,verificationCode:i})}static _fromTokenResponse(e,i){return new t({phoneNumber:e,temporaryProof:i})}_getIdTokenResponse(e){return pO(e,this._makeVerificationRequest())}_linkToIdToken(e,i){return mO(e,Object.assign({idToken:i},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return _O(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:i,verificationId:n,verificationCode:r}=this.params;return e&&i?{temporaryProof:e,phoneNumber:i}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:i,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return!n&&!i&&!r&&!o?null:new t({verificationId:i,verificationCode:n,phoneNumber:r,temporaryProof:o})}};var Su=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zp=class extends Su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ja=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,i,n,r=!1){return g(this,null,function*(){let o=yield Ho._fromIdTokenResponse(e,n,r),s=Ow(n);return new t({user:o,providerId:s,_tokenResponse:n,operationType:i})})}static _forOperation(e,i,n){return g(this,null,function*(){yield e._updateTokensIfNecessary(n,!0);let r=Ow(n);return new t({user:e,providerId:r,_tokenResponse:n,operationType:i})})}};function Ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var em=class t extends Et{constructor(e,i,n,r){var o;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,i,n,r){return new t(e,i,n,r)}};function cI(t,e,i,n){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?em._fromErrorAndOperation(t,o,e,n):o})}function vO(t,e,i=!1){return g(this,null,function*(){let n=yield Ya(t,e._linkToIdToken(t.auth,yield t.getIdToken()),i);return Ja._forOperation(t,"link",n)})}function bO(t,e,i=!1){return g(this,null,function*(){let{auth:n}=t;if(qn(n.app))return Promise.reject(Zi(n));let r="reauthenticate";try{let o=yield Ya(t,cI(n,r,e,t),i);ie(o.idToken,n,"internal-error");let s=gm(o.idToken);ie(s,n,"internal-error");let{sub:a}=s;return ie(t.uid===a,n,"user-mismatch"),Ja._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&er(n,"user-mismatch"),o}})}function lI(t,e,i=!1){return g(this,null,function*(){if(qn(t.app))return Promise.reject(Zi(t));let n="signIn",r=yield cI(t,n,e),o=yield Ja._fromIdTokenResponse(t,n,r);return i||(yield t._updateCurrentUser(o.user)),o})}function wm(t,e){return g(this,null,function*(){return lI(Ko(t),e)})}function ec(t,e,i,n){return Oe(t).onIdTokenChanged(e,i,n)}function Im(t,e,i){return Oe(t).beforeAuthStateChanged(e,i)}function Em(t){return Oe(t).signOut()}function yO(t,e){return Yn(t,"POST","/v2/accounts/mfaEnrollment:start",yi(t,e))}var Au="__sak";var xu=class{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Au,"1"),this.storage.removeItem(Au),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){let i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function wO(){let t=vt();return vm(t)||Ru(t)}var IO=1e3,EO=10,CO=(()=>{class t extends xu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,n)=>this.onStorageEvent(i,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wO()&&rO(),this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&i(n,o,r)}}onStorageEvent(i,n=!1){if(!i.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let r=i.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(i.newValue!==a)i.newValue!==null?this.storage.setItem(r,i.newValue):this.storage.removeItem(r);else if(this.localCache[r]===i.newValue&&!n)return}let o=()=>{let a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);iO()&&s!==i.newValue&&i.newValue!==i.oldValue?setTimeout(o,EO):o()}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:n,newValue:r}),!0)})},IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(i,n){return g(this,null,function*(){yield Li(t.prototype,this,"_set").call(this,i,n),this.localCache[i]=JSON.stringify(n)})}_get(i){return g(this,null,function*(){let n=yield Li(t.prototype,this,"_get").call(this,i);return this.localCache[i]=JSON.stringify(n),n})}_remove(i){return g(this,null,function*(){yield Li(t.prototype,this,"_remove").call(this,i),delete this.localCache[i]})}}return t.type="LOCAL",t})(),uI=CO;var TO=(()=>{class t extends xu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,n){}_removeListener(i,n){}}return t.type="SESSION",t})(),Cm=TO;function SO(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}})))}var AO=(()=>{class t{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){let n=this.receivers.find(o=>o.isListeningto(i));if(n)return n;let r=new t(i);return this.receivers.push(r),r}isListeningto(i){return this.eventTarget===i}handleEvent(i){return g(this,null,function*(){let n=i,{eventId:r,eventType:o,data:s}=n.data,a=this.handlersMap[o];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(h=>g(this,null,function*(){return h(n.origin,s)})),u=yield SO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(i,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(n)}_unsubscribe(i,n){this.handlersMap[i]&&n&&this.handlersMap[i].delete(n),(!n||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dI(t="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(Math.random()*10);return t+i}var tm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,i,n=50){return g(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=dI("",20);r.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(p){let b=p;if(b.data.eventId===u)switch(b.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(b.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:i},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ft(){return window}function xO(t){ft().location.href=t}function Tm(){return typeof ft().WorkerGlobalScope<"u"&&typeof ft().importScripts=="function"}function PO(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function kO(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DO(){return Tm()?self:null}var hI="firebaseLocalStorageDb",RO=1,Pu="firebaseLocalStorage",fI="fbase_key",Lr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}};function Mu(t,e){return t.transaction([Pu],e?"readwrite":"readonly").objectStore(Pu)}function OO(){let t=indexedDB.deleteDatabase(hI);return new Lr(t).toPromise()}function nm(){let t=indexedDB.open(hI,RO);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{let n=t.result;try{n.createObjectStore(Pu,{keyPath:fI})}catch(r){i(r)}}),t.addEventListener("success",()=>g(this,null,function*(){let n=t.result;n.objectStoreNames.contains(Pu)?e(n):(n.close(),yield OO(),e(yield nm()))}))})}function Mw(t,e,i){return g(this,null,function*(){let n=Mu(t,!0).put({[fI]:e,value:i});return new Lr(n).toPromise()})}function MO(t,e){return g(this,null,function*(){let i=Mu(t,!1).get(e),n=yield new Lr(i).toPromise();return n===void 0?null:n.value})}function Nw(t,e){let i=Mu(t,!0).delete(e);return new Lr(i).toPromise()}var NO=800,FO=3,VO=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield nm(),this.db)})}_withRetries(i){return g(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield i(r)}catch(r){if(n++>FO)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return Tm()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=AO._getInstance(DO()),this.receiver._subscribe("keyChanged",(i,n)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(i,n)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var i,n;if(this.activeServiceWorker=yield PO(),!this.activeServiceWorker)return;this.sender=new tm(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((i=r[0])===null||i===void 0)&&i.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(i){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||kO()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let i=yield nm();return yield Mw(i,Au,"1"),yield Nw(i,Au),!0}catch{}return!1})}_withPendingWrite(i){return g(this,null,function*(){this.pendingWrites++;try{yield i()}finally{this.pendingWrites--}})}_set(i,n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>Mw(r,i,n)),this.localCache[i]=n,this.notifyServiceWorker(i)}))})}_get(i){return g(this,null,function*(){let n=yield this._withRetries(r=>MO(r,i));return this.localCache[i]=n,n})}_remove(i){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(n=>Nw(n,i)),delete this.localCache[i],this.notifyServiceWorker(i)}))})}_poll(){return g(this,null,function*(){let i=yield this._withRetries(o=>{let s=Mu(o,!1).getAll();return new Lr(s).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(i.length!==0)for(let{fbase_key:o,value:s}of i)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),pI=VO;function LO(t,e){return Yn(t,"POST","/v2/accounts/mfaSignIn:start",yi(t,e))}var UO=500,jO=6e4,mu=1e12,im=class{constructor(e){this.auth=e,this.counter=mu,this._widgets=new Map}render(e,i){let n=this.counter;return this._widgets.set(n,new rm(e,this.auth.name,i||{})),this.counter++,n}reset(e){var i;let n=e||mu;(i=this._widgets.get(n))===null||i===void 0||i.delete(),this._widgets.delete(n)}getResponse(e){var i;let n=e||mu;return((i=this._widgets.get(n))===null||i===void 0?void 0:i.getResponse())||""}execute(e){return g(this,null,function*(){var i;let n=e||mu;return(i=this._widgets.get(n))===null||i===void 0||i.execute(),""})}},rm=class{constructor(e,i,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;ie(r,"argument-error",{appName:i}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=BO(50);let{callback:e,"expired-callback":i}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,i)try{i()}catch{}this.isVisible&&this.execute()},jO)},UO))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function BO(t){let e=[],i="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}var qp=sI("rcb"),zO=new Vr(3e4,6e4),om=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ft().grecaptcha)===null||e===void 0)&&e.render)}load(e,i=""){return ie($O(i),e,"argument-error"),this.shouldResolveImmediately(i)&&xw(ft().grecaptcha)?Promise.resolve(ft().grecaptcha):new Promise((n,r)=>{let o=ft().setTimeout(()=>{r(Kn(e,"network-request-failed"))},zO.get());ft()[qp]=()=>{ft().clearTimeout(o),delete ft()[qp];let a=ft().grecaptcha;if(!a||!xw(a)){r(Kn(e,"internal-error"));return}let l=a.render;a.render=(u,h)=>{let p=l(u,h);return this.counter++,p},this.hostLanguage=i,n(a)};let s=`${cO()}?${Go({onload:qp,render:"explicit",hl:i})}`;oI(s).catch(()=>{clearTimeout(o),r(Kn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var i;return!!(!((i=ft().grecaptcha)===null||i===void 0)&&i.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function $O(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var sm=class{load(e){return g(this,null,function*(){return new im(e)})}clearedOneInstance(){}};var mI="recaptcha",qO={theme:"light",type:"image"},Ur=class{constructor(e,i,n=Object.assign({},qO)){this.parameters=n,this.type=mI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ko(e),this.isInvisible=this.parameters.size==="invisible",ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof i=="string"?document.getElementById(i):i;ie(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sm:new om,this.validateStartingState()}verify(){return g(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),i=this.getAssertedRecaptcha(),n=i.getResponse(e);return n||new Promise(r=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),r(s))};this.tokenChangeListeners.add(o),this.isInvisible&&i.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return i=>{if(this.tokenChangeListeners.forEach(n=>n(i)),typeof e=="function")e(i);else if(typeof e=="string"){let n=ft()[e];typeof n=="function"&&n(i)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return g(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let i=document.createElement("div");e.appendChild(i),e=i}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return g(this,null,function*(){ie(Ww()&&!Tm(),this.auth,"internal-error"),yield GO(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield YR(this.auth);ie(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function GO(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var am=class{constructor(e,i){this.verificationId=e,this.onConfirmation=i}confirm(e){let i=Tu._fromVerification(this.verificationId,e);return this.onConfirmation(i)}};function Sm(t,e,i){return g(this,null,function*(){if(qn(t.app))return Promise.reject(Zi(t));let n=Ko(t),r=yield WO(n,e,Oe(i));return new am(r,o=>wm(n,o))})}function WO(t,e,i){return g(this,null,function*(){var n;let r=yield i.verify();try{ie(typeof r=="string",t,"argument-error"),ie(i.type===mI,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){let s=o.session;if("phoneNumber"in o)return ie(s.type==="enroll",t,"internal-error"),(yield yO(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{ie(s.type==="signin",t,"internal-error");let a=((n=o.multiFactorHint)===null||n===void 0?void 0:n.uid)||o.multiFactorUid;return ie(a,t,"missing-multi-factor-info"),(yield LO(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:s}=yield fO(t,{phoneNumber:o.phoneNumber,recaptchaToken:r});return s}}finally{i._reset()}})}function HO(t,e){return e?bi(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Za=class extends Xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $p(e,this._buildIdpRequest())}_linkToIdToken(e,i){return $p(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return $p(e,this._buildIdpRequest())}_buildIdpRequest(e){let i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}};function KO(t){return lI(t.auth,new Za(t),t.bypassAuthState)}function YO(t){let{auth:e,user:i}=t;return ie(i,e,"internal-error"),bO(i,new Za(t),t.bypassAuthState)}function QO(t){return g(this,null,function*(){let{auth:e,user:i}=t;return ie(i,e,"internal-error"),vO(i,new Za(t),t.bypassAuthState)})}var cm=class{constructor(e,i,n,r,o=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise((e,i)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:i};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:i,sessionId:n,postBody:r,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:i,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return YO;default:er(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Mz=new Vr(2e3,1e4);var XO="pendingRedirect",vu=new Map,lm=class t extends cm{constructor(e,i,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}execute(){return g(this,null,function*(){let e=vu.get(this.auth._key());if(!e){try{let n=(yield JO(this.resolver,this.auth))?yield Li(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(n)}catch(i){e=()=>Promise.reject(i)}vu.set(this.auth._key(),e)}return this.bypassAuthState||vu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Li(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let i=yield this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,Li(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function JO(t,e){return g(this,null,function*(){let i=t1(e),n=e1(t);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(i))==="true";return yield n._remove(i),r})}function ZO(t,e){vu.set(t._key(),e)}function e1(t){return bi(t._redirectPersistence)}function t1(t){return _u(XO,t.config.apiKey,t.name)}function n1(t,e,i=!1){return g(this,null,function*(){if(qn(t.app))return Promise.reject(Zi(t));let n=Ko(t),r=HO(n,e),s=yield new lm(n,r,i).execute();return s&&!i&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,e)),s})}var i1=10*60*1e3,um=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(i=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var n;if(e.error&&!gI(e)){let r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(Kn(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){let n=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}};function Fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function r1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gI(t);default:return!1}}function o1(i){return g(this,arguments,function*(t,e={}){return Yn(t,"GET","/v1/projects",e)})}var s1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a1=/^https?/;function c1(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield o1(t);for(let i of e)try{if(l1(i))return}catch{}er(t,"unauthorized-domain")})}function l1(t){let e=Wp(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&n===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&s.hostname===n}if(!a1.test(i))return!1;if(s1.test(t))return n===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var u1=new Vr(3e4,6e4);function Vw(){let t=ft().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function d1(t){return new Promise((e,i)=>{var n,r,o;function s(){Vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vw(),i(Kn(t,"network-request-failed"))},timeout:u1.get()})}if(!((r=(n=ft().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ft().gapi)===null||o===void 0)&&o.load)s();else{let a=sI("iframefcb");return ft()[a]=()=>{gapi.load?s():i(Kn(t,"network-request-failed"))},oI(`${lO()}?onload=${a}`).catch(l=>i(l))}}).catch(e=>{throw bu=null,e})}var bu=null;function h1(t){return bu=bu||d1(t),bu}var f1=new Vr(5e3,15e3),p1="__/auth/iframe",m1="emulator/auth/iframe",g1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v1(t){let e=t.config;ie(e.authDomain,t,"auth-domain-config-required");let i=e.emulator?pm(e,m1):`https://${t.config.authDomain}/${p1}`,n={apiKey:e.apiKey,appName:t.name,v:Gn},r=_1.get(t.config.apiHost);r&&(n.eid=r);let o=t._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${Go(n).slice(1)}`}function b1(t){return g(this,null,function*(){let e=yield h1(t),i=ft().gapi;return ie(i,t,"internal-error"),e.open({where:document.body,url:v1(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g1,dontclear:!0},n=>new Promise((r,o)=>g(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=Kn(t,"network-request-failed"),a=ft().setTimeout(()=>{o(s)},f1.get());function l(){ft().clearTimeout(a),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var y1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w1=500,I1=600,E1="_blank",C1="http://localhost",ku=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function T1(t,e,i,n=w1,r=I1){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),a="",l=Object.assign(Object.assign({},y1),{width:n.toString(),height:r.toString(),top:o,left:s}),u=vt().toLowerCase();i&&(a=Jw(u)?E1:i),Xw(u)&&(e=e||C1,l.scrollbars="yes");let h=Object.entries(l).reduce((b,[C,O])=>`${b}${C}=${O},`,"");if(nO(u)&&a!=="_self")return S1(e||"",a),new ku(null);let p=window.open(e||"",a,h);ie(p,t,"popup-blocked");try{p.focus()}catch{}return new ku(p)}function S1(t,e){let i=document.createElement("a");i.href=t,i.target=e;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}var A1="__/auth/handler",x1="emulator/auth/handler",P1=encodeURIComponent("fac");function Lw(t,e,i,n,r,o){return g(this,null,function*(){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:Gn,eventId:r};if(e instanceof Su){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lw(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Zp){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield t._getAppCheckToken(),u=l?`#${P1}=${encodeURIComponent(l)}`:"";return`${k1(t)}?${Go(a).slice(1)}${u}`})}function k1({config:t}){return t.emulator?pm(t,x1):`https://${t.authDomain}/${A1}`}var Gp="webStorageSupport",dm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cm,this._completeRedirectFn=n1,this._overrideRedirectResult=ZO}_openPopup(e,i,n,r){return g(this,null,function*(){var o;tr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Lw(e,i,n,Wp(),r);return T1(e,s,dI())})}_openRedirect(e,i,n,r){return g(this,null,function*(){yield this._originValidation(e);let o=yield Lw(e,i,n,Wp(),r);return xO(o),new Promise(()=>{})})}_initialize(e){let i=e._key();if(this.eventManagers[i]){let{manager:r,promise:o}=this.eventManagers[i];return r?Promise.resolve(r):(tr(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(e);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}initAndGetManager(e){return g(this,null,function*(){let i=yield b1(e),n=new um(e);return i.register("authEvent",r=>(ie(r?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=i,n})}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gp,{type:Gp},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Gp];s!==void 0&&i(!!s),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=c1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return iI()||vm()||Ru()}},_I=dm;var Uw="@firebase/auth",jw="1.7.5";var hm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let i=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function D1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R1(t){Ct(new rt("auth",(e,{options:i})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(t)},u=new Jp(n,r,o,l);return uO(u,i),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,n)=>{e.getProvider("auth-internal").initialize()})),Ct(new rt("auth-internal",e=>{let i=Ko(e.getProvider("auth").getImmediate());return(n=>new hm(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ie(Uw,jw,D1(t)),Ie(Uw,jw,"esm2017")}var O1=5*60,M1=Cp("authIdTokenMaxAge")||O1,Bw=null,N1=t=>e=>g(void 0,null,function*(){let i=e&&(yield e.getIdTokenResult()),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>M1)return;let r=i?.token;Bw!==r&&(Bw=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Am(t=rn()){let e=Xt(t,"auth");if(e.isInitialized())return e.getImmediate();let i=bm(t,{popupRedirectResolver:_I,persistence:[pI,uI,Cm]}),n=Cp("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=N1(o.toString());Im(i,s,()=>s(i.currentUser)),ec(i,a=>s(a))}}let r=Ip("auth");return r&&ym(i,`http://${r}`),i}function F1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aO({loadJS(t){return new Promise((e,i)=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{let o=Kn("internal-error");o.customData=r,i(o)},n.type="text/javascript",n.charset="UTF-8",F1().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R1("Browser");function yI(t){return new At(function(e){var i=ec(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:i}})}var wI="auth",Rn=class{constructor(e){return e}},wi=class{constructor(){return Dn(wI)}};var xm=new X("angularfire2.auth-instances");function TM(t,e){let i=Hn(wI,t,e);return i&&new Rn(i)}function SM(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new Rn(n)}}var AM={provide:wi,deps:[[new Ue,xm]]},xM={provide:Rn,useFactory:TM,deps:[[new Ue,xm],Ht]};function II(t,...e){return Ie("angularfire",on.full,"auth"),ct([xM,AM,{provide:xm,useFactory:SM(t),multi:!0,deps:[oe,Ce,mn,sn,[new Ue,Wn],...e]}])}var EI=Ne(yI,!0);var Nu=Ne(Am,!0);var CI=Ne(Sm,!0);var TI=Ne(Em,!0);var MI=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(x(Eo),x(Ve))},e.\u0275dir=Ee({type:e});let t=e;return t})(),Hu=(()=>{let e=class e extends MI{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,features:[qe]});let t=e;return t})(),Br=new X("");var PM={provide:Br,useExisting:dn(()=>gn),multi:!0};function kM(){let t=Po()?Po().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var DM=new X(""),gn=(()=>{let e=class e extends MI{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kM())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(x(Eo),x(Ve),x(DM,8))},e.\u0275dir=Ee({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&q("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ut([PM]),qe]});let t=e;return t})();function nr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function NI(t){return t!=null&&typeof t.length=="number"}var zr=new X(""),Ku=new X(""),RM=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ye=class{static min(e){return OM(e)}static max(e){return MM(e)}static required(e){return NM(e)}static requiredTrue(e){return FM(e)}static email(e){return VM(e)}static minLength(e){return FI(e)}static maxLength(e){return VI(e)}static pattern(e){return LI(e)}static nullValidator(e){return Vu(e)}static compose(e){return qI(e)}static composeAsync(e){return WI(e)}};function OM(t){return e=>{if(nr(e.value)||nr(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function MM(t){return e=>{if(nr(e.value)||nr(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function NM(t){return nr(t.value)?{required:!0}:null}function FM(t){return t.value===!0?null:{required:!0}}function VM(t){return nr(t.value)||RM.test(t.value)?null:{email:!0}}function FI(t){return e=>nr(e.value)||!NI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function VI(t){return e=>NI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function LI(t){if(!t)return Vu;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(nr(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Vu(t){return null}function UI(t){return t!=null}function jI(t){return Dl(t)?xt(t):t}function BI(t){let e={};return t.forEach(i=>{e=i!=null?V(V({},e),i):e}),Object.keys(e).length===0?null:e}function zI(t,e){return e.map(i=>i(t))}function LM(t){return!t.validate}function $I(t){return t.map(e=>LM(e)?e:i=>e.validate(i))}function qI(t){if(!t)return null;let e=t.filter(UI);return e.length==0?null:function(i){return BI(zI(i,e))}}function GI(t){return t!=null?qI($I(t)):null}function WI(t){if(!t)return null;let e=t.filter(UI);return e.length==0?null:function(i){let n=zI(i,e).map(jI);return Ey(n).pipe(ue(BI))}}function HI(t){return t!=null?WI($I(t)):null}function AI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KI(t){return t._rawValidators}function YI(t){return t._rawAsyncValidators}function Pm(t){return t?Array.isArray(t)?t:[t]:[]}function Lu(t,e){return Array.isArray(t)?t.includes(e):t===e}function xI(t,e){let i=Pm(e);return Pm(t).forEach(r=>{Lu(i,r)||i.push(r)}),i}function PI(t,e){return Pm(e).filter(i=>!Lu(t,i))}var Uu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},jr=class extends Uu{get formDirective(){return null}get path(){return null}},Ii=class extends Uu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ju=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},UM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j5=be(V({},UM),{"[class.ng-submitted]":"isSubmitted"}),Xn=(()=>{let e=class e extends ju{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(x(Ii,2))},e.\u0275dir=Ee({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&lt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[qe]});let t=e;return t})(),Xo=(()=>{let e=class e extends ju{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(x(jr,10))},e.\u0275dir=Ee({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&lt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[qe]});let t=e;return t})();var tc="VALID",Fu="INVALID",Yo="PENDING",nc="DISABLED",ir=class{},Bu=class extends ir{constructor(e,i){super(),this.value=e,this.source=i}},ic=class extends ir{constructor(e,i){super(),this.pristine=e,this.source=i}},rc=class extends ir{constructor(e,i){super(),this.touched=e,this.source=i}},Qo=class extends ir{constructor(e,i){super(),this.status=e,this.source=i}},km=class extends ir{constructor(e){super(),this.source=e}},Dm=class extends ir{constructor(e){super(),this.source=e}};function QI(t){return(Yu(t)?t.validators:t)||null}function jM(t){return Array.isArray(t)?GI(t):t||null}function XI(t,e){return(Yu(e)?e.asyncValidators:t)||null}function BM(t){return Array.isArray(t)?HI(t):t||null}function Yu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function zM(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new Be(1e3,"");if(!n[i])throw new Be(1001,"")}function $M(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new Be(1002,"")})}var zu=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=fa(()=>this.statusReactive()),this.statusReactive=Wt(void 0),this._pristine=fa(()=>this.pristineReactive()),this.pristineReactive=Wt(!0),this._touched=fa(()=>this.touchedReactive()),this.touchedReactive=Wt(!1),this._events=new ye,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(e){zn(()=>this.statusReactive.set(e))}get valid(){return this.status===tc}get invalid(){return this.status===Fu}get pending(){return this.status==Yo}get disabled(){return this.status===nc}get enabled(){return this.status!==nc}get pristine(){return zn(this.pristineReactive)}set pristine(e){zn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(e){zn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PI(e,this._rawAsyncValidators))}hasValidator(e){return Lu(this._rawValidators,e)}hasAsyncValidator(e){return Lu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be(V({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new rc(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),i&&e.emitEvent!==!1&&this._events.next(new rc(!1,n))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be(V({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new ic(!1,n))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&e.emitEvent!==!1&&this._events.next(new ic(!0,n))}markAsPending(e={}){this.status=Yo;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qo(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be(V({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=nc,this.errors=null,this._forEachChild(r=>{r.disable(be(V({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bu(this.value,n)),this._events.next(new Qo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be(V({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=tc,this._forEachChild(n=>{n.enable(be(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be(V({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tc||this.status===Yo)&&this._runAsyncValidator(n,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bu(this.value,i)),this._events.next(new Qo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be(V({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nc:tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=Yo,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=jI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Qo(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,n)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?nc:this.errors?Fu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yo)?Yo:this._anyControlsHaveStatus(Fu)?Fu:tc}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new ic(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new rc(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jM(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=BM(this._rawAsyncValidators)}},Qn=class extends zu{constructor(e,i,n){super(QI(i),XI(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){$M(this,!0,e),Object.keys(e).forEach(n=>{zM(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var oc=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Qu}),Qu="always";function JI(t,e){return[...e.path,t]}function $u(t,e,i=Qu){Rm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),GM(t,e),HM(t,e),WM(t,e),qM(t,e)}function qu(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Wu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Gu(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function qM(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function Rm(t,e){let i=KI(t);e.validator!==null?t.setValidators(AI(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=YI(t);e.asyncValidator!==null?t.setAsyncValidators(AI(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();Gu(e._rawValidators,r),Gu(e._rawAsyncValidators,r)}function Wu(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=KI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(i=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=YI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(i=!0,t.setAsyncValidators(o))}}}let n=()=>{};return Gu(e._rawValidators,n),Gu(e._rawAsyncValidators,n),i}function GM(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ZI(t,e)})}function WM(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ZI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ZI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function HM(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function KM(t,e){t==null,Rm(t,e)}function YM(t,e){return Wu(t,e)}function Om(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function QM(t){return Object.getPrototypeOf(t.constructor)===Hu}function XM(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Mm(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(o=>{o.constructor===gn?i=o:QM(o)?n=o:r=o}),r||n||i||null}function JM(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function kI(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function DI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ke=class extends zu{constructor(e=null,i,n){super(QI(i),XI(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yu(i)&&(i.nonNullable||i.initialValueIsDefault)&&(DI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZM=t=>t instanceof ke;var eN={provide:Ii,useExisting:dn(()=>Nm)},RI=Promise.resolve(),Nm=(()=>{let e=class e extends Ii{constructor(n,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new ke,this._registered=!1,this.name="",this.update=new Je,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Mm(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Om(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$u(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){RI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&An(r);RI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?JI(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(x(jr,9),x(zr,10),x(Ku,10),x(Br,10),x(Sn,8),x(oc,8))},e.\u0275dir=Ee({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([eN]),qe,En]});let t=e;return t})(),Jo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ee({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),tN={provide:Br,useExisting:dn(()=>Fm),multi:!0},Fm=(()=>{let e=class e extends Hu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&q("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Ut([tN]),qe]});let t=e;return t})();var Vm=new X(""),nN={provide:Ii,useExisting:dn(()=>Lm)},Lm=(()=>{let e=class e extends Ii{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new Je,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Mm(this,o)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&qu(r,this,!1),$u(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Om(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(x(zr,10),x(Ku,10),x(Br,10),x(Vm,8),x(oc,8))},e.\u0275dir=Ee({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ut([nN]),qe,En]});let t=e;return t})(),iN={provide:jr,useExisting:dn(()=>$r)},$r=(()=>{let e=class e extends jr{get submitted(){return zn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,o){super(),this.callSetDisabledState=o,this._submitted=fa(()=>this._submittedReactive()),this._submittedReactive=Wt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Je,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return $u(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){qu(n.control||null,n,!1),JM(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),XM(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new km(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Dm(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(qu(r||null,n),ZM(o)&&($u(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);KM(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&YM(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rm(this.form,this),this._oldForm&&Wu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(x(zr,10),x(Ku,10),x(oc,8))},e.\u0275dir=Ee({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&q("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([iN]),qe,En]});let t=e;return t})();var rN={provide:Ii,useExisting:dn(()=>qr)},qr=(()=>{let e=class e extends Ii{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Je,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Mm(this,s)}ngOnChanges(n){this._added||this._setUpControl(),Om(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return JI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(x(jr,13),x(zr,10),x(Ku,10),x(Br,10),x(Vm,8))},e.\u0275dir=Ee({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([rN]),qe,En]});let t=e;return t})(),oN={provide:Br,useExisting:dn(()=>rr),multi:!0};function eE(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function sN(t){return t.split(":")[0]}var rr=(()=>{let e=class e extends Hu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),o=eE(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=sN(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&q("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([oN]),qe]});let t=e;return t})(),Zo=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(eE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(x(Ve),x(Eo),x(rr,9))},e.\u0275dir=Ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),aN={provide:Br,useExisting:dn(()=>tE),multi:!0};function OI(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function cN(t){return t.split(":")[0]}var tE=(()=>{let e=class e extends Hu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let u=a[l],h=this._getOptionValue(u.value);o.push(h)}}else{let a=r.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let h=this._getOptionValue(u.value);o.push(h)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=cN(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&q("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ut([aN]),qe]});let t=e;return t})(),es=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(OI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(OI(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(x(Ve),x(Eo),x(tE,9))},e.\u0275dir=Ee({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function nE(t){return typeof t=="number"?t:parseInt(t,10)}var Um=(()=>{let e=class e{constructor(){this._validator=Vu}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ee({type:e,features:[En]});let t=e;return t})();var lN={provide:zr,useExisting:dn(()=>jm),multi:!0},jm=(()=>{let e=class e extends Um{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>nE(n),this.createValidator=n=>FI(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Lt("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[Ut([lN]),qe]});let t=e;return t})(),uN={provide:zr,useExisting:dn(()=>sc),multi:!0},sc=(()=>{let e=class e extends Um{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>nE(n),this.createValidator=n=>VI(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Lt("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ut([uN]),qe]});let t=e;return t})(),dN={provide:zr,useExisting:dn(()=>Bm),multi:!0},Bm=(()=>{let e=class e extends Um{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>LI(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=hn(e)))(o||e)}})(),e.\u0275dir=Ee({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Lt("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},features:[Ut([dN]),qe]});let t=e;return t})();var iE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=ze({});let t=e;return t})();var ts=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:oc,useValue:n.callSetDisabledState??Qu}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=ze({imports:[iE]});let t=e;return t})(),Jn=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:Vm,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:oc,useValue:n.callSetDisabledState??Qu}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=ze({imports:[iE]});let t=e;return t})();var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oE={};var or,zm;(function(){var t;function e(T,y){function w(){}w.prototype=y.prototype,T.D=y.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(S,A,k){for(var I=Array(arguments.length-2),li=2;li<arguments.length;li++)I[li-2]=arguments[li];return y.prototype[A].apply(S,I)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,y,w){w||(w=0);var S=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)S[A]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(A=0;16>A;++A)S[A]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=T.g[0],w=T.g[1],A=T.g[2];var k=T.g[3],I=y+(k^w&(A^k))+S[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=k+(A^y&(w^A))+S[1]+3905402710&4294967295,k=y+(I<<12&4294967295|I>>>20),I=A+(w^k&(y^w))+S[2]+606105819&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(y^A&(k^y))+S[3]+3250441966&4294967295,w=A+(I<<22&4294967295|I>>>10),I=y+(k^w&(A^k))+S[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(A^y&(w^A))+S[5]+1200080426&4294967295,k=y+(I<<12&4294967295|I>>>20),I=A+(w^k&(y^w))+S[6]+2821735955&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(y^A&(k^y))+S[7]+4249261313&4294967295,w=A+(I<<22&4294967295|I>>>10),I=y+(k^w&(A^k))+S[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(A^y&(w^A))+S[9]+2336552879&4294967295,k=y+(I<<12&4294967295|I>>>20),I=A+(w^k&(y^w))+S[10]+4294925233&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(y^A&(k^y))+S[11]+2304563134&4294967295,w=A+(I<<22&4294967295|I>>>10),I=y+(k^w&(A^k))+S[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(A^y&(w^A))+S[13]+4254626195&4294967295,k=y+(I<<12&4294967295|I>>>20),I=A+(w^k&(y^w))+S[14]+2792965006&4294967295,A=k+(I<<17&4294967295|I>>>15),I=w+(y^A&(k^y))+S[15]+1236535329&4294967295,w=A+(I<<22&4294967295|I>>>10),I=y+(A^k&(w^A))+S[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(y^w))+S[6]+3225465664&4294967295,k=y+(I<<9&4294967295|I>>>23),I=A+(y^w&(k^y))+S[11]+643717713&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(A^k))+S[0]+3921069994&4294967295,w=A+(I<<20&4294967295|I>>>12),I=y+(A^k&(w^A))+S[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(y^w))+S[10]+38016083&4294967295,k=y+(I<<9&4294967295|I>>>23),I=A+(y^w&(k^y))+S[15]+3634488961&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(A^k))+S[4]+3889429448&4294967295,w=A+(I<<20&4294967295|I>>>12),I=y+(A^k&(w^A))+S[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(y^w))+S[14]+3275163606&4294967295,k=y+(I<<9&4294967295|I>>>23),I=A+(y^w&(k^y))+S[3]+4107603335&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(A^k))+S[8]+1163531501&4294967295,w=A+(I<<20&4294967295|I>>>12),I=y+(A^k&(w^A))+S[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^A&(y^w))+S[2]+4243563512&4294967295,k=y+(I<<9&4294967295|I>>>23),I=A+(y^w&(k^y))+S[7]+1735328473&4294967295,A=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(A^k))+S[12]+2368359562&4294967295,w=A+(I<<20&4294967295|I>>>12),I=y+(w^A^k)+S[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^A)+S[8]+2272392833&4294967295,k=y+(I<<11&4294967295|I>>>21),I=A+(k^y^w)+S[11]+1839030562&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^y)+S[14]+4259657740&4294967295,w=A+(I<<23&4294967295|I>>>9),I=y+(w^A^k)+S[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^A)+S[4]+1272893353&4294967295,k=y+(I<<11&4294967295|I>>>21),I=A+(k^y^w)+S[7]+4139469664&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^y)+S[10]+3200236656&4294967295,w=A+(I<<23&4294967295|I>>>9),I=y+(w^A^k)+S[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^A)+S[0]+3936430074&4294967295,k=y+(I<<11&4294967295|I>>>21),I=A+(k^y^w)+S[3]+3572445317&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^y)+S[6]+76029189&4294967295,w=A+(I<<23&4294967295|I>>>9),I=y+(w^A^k)+S[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^A)+S[12]+3873151461&4294967295,k=y+(I<<11&4294967295|I>>>21),I=A+(k^y^w)+S[15]+530742520&4294967295,A=k+(I<<16&4294967295|I>>>16),I=w+(A^k^y)+S[2]+3299628645&4294967295,w=A+(I<<23&4294967295|I>>>9),I=y+(A^(w|~k))+S[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~A))+S[7]+1126891415&4294967295,k=y+(I<<10&4294967295|I>>>22),I=A+(y^(k|~w))+S[14]+2878612391&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~y))+S[5]+4237533241&4294967295,w=A+(I<<21&4294967295|I>>>11),I=y+(A^(w|~k))+S[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~A))+S[3]+2399980690&4294967295,k=y+(I<<10&4294967295|I>>>22),I=A+(y^(k|~w))+S[10]+4293915773&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~y))+S[1]+2240044497&4294967295,w=A+(I<<21&4294967295|I>>>11),I=y+(A^(w|~k))+S[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~A))+S[15]+4264355552&4294967295,k=y+(I<<10&4294967295|I>>>22),I=A+(y^(k|~w))+S[6]+2734768916&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~y))+S[13]+1309151649&4294967295,w=A+(I<<21&4294967295|I>>>11),I=y+(A^(w|~k))+S[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~A))+S[11]+3174756917&4294967295,k=y+(I<<10&4294967295|I>>>22),I=A+(y^(k|~w))+S[2]+718787259&4294967295,A=k+(I<<15&4294967295|I>>>17),I=w+(k^(A|~y))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+k&4294967295}n.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var w=y-this.blockSize,S=this.B,A=this.h,k=0;k<y;){if(A==0)for(;k<=w;)r(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<y;)if(S[A++]=T.charCodeAt(k++),A==this.blockSize){r(this,S),A=0;break}}else for(;k<y;)if(S[A++]=T[k++],A==this.blockSize){r(this,S),A=0;break}}this.h=A,this.o+=y},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var w=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=w&255,w/=256;for(this.u(T),T=Array(16),y=w=0;4>y;++y)for(var S=0;32>S;S+=8)T[w++]=this.g[y]>>>S&255;return T};function o(T,y){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=y(T)}function s(T,y){this.h=y;for(var w=[],S=!0,A=T.length-1;0<=A;A--){var k=T[A]|0;S&&k==y||(w[A]=k,S=!1)}this.g=w}var a={};function l(T){return-128<=T&&128>T?o(T,function(y){return new s([y|0],0>y?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(u(-T));for(var y=[],w=1,S=0;T>=w;S++)y[S]=T/w|0,w*=4294967296;return new s(y,0)}function h(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return R(h(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),S=p,A=0;A<T.length;A+=8){var k=Math.min(8,T.length-A),I=parseInt(T.substring(A,A+k),y);8>k?(k=u(Math.pow(y,k)),S=S.j(k).add(u(I))):(S=S.j(w),S=S.add(u(I)))}return S}var p=l(0),b=l(1),C=l(16777216);t=s.prototype,t.m=function(){if(L(this))return-R(this).m();for(var T=0,y=1,w=0;w<this.g.length;w++){var S=this.i(w);T+=(0<=S?S:4294967296+S)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O(this))return"0";if(L(this))return"-"+R(this).toString(T);for(var y=u(Math.pow(T,6)),w=this,S="";;){var A=ne(w,y).g;w=$(w,A.j(y));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=A,O(w))return k+S;for(;6>k.length;)k="0"+k;S=k+S}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function O(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function L(T){return T.h==-1}t.l=function(T){return T=$(this,T),L(T)?-1:O(T)?0:1};function R(T){for(var y=T.g.length,w=[],S=0;S<y;S++)w[S]=~T.g[S];return new s(w,~T.h).add(b)}t.abs=function(){return L(this)?R(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],S=0,A=0;A<=y;A++){var k=S+(this.i(A)&65535)+(T.i(A)&65535),I=(k>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);S=I>>>16,k&=65535,I&=65535,w[A]=I<<16|k}return new s(w,w[w.length-1]&-2147483648?-1:0)};function $(T,y){return T.add(R(y))}t.j=function(T){if(O(this)||O(T))return p;if(L(this))return L(T)?R(this).j(R(T)):R(R(this).j(T));if(L(T))return R(this.j(R(T)));if(0>this.l(C)&&0>T.l(C))return u(this.m()*T.m());for(var y=this.g.length+T.g.length,w=[],S=0;S<2*y;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<T.g.length;A++){var k=this.i(S)>>>16,I=this.i(S)&65535,li=T.i(A)>>>16,Ls=T.i(A)&65535;w[2*S+2*A]+=I*Ls,Z(w,2*S+2*A),w[2*S+2*A+1]+=k*Ls,Z(w,2*S+2*A+1),w[2*S+2*A+1]+=I*li,Z(w,2*S+2*A+1),w[2*S+2*A+2]+=k*li,Z(w,2*S+2*A+2)}for(S=0;S<y;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=y;S<2*y;S++)w[S]=0;return new s(w,0)};function Z(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function Q(T,y){this.g=T,this.h=y}function ne(T,y){if(O(y))throw Error("division by zero");if(O(T))return new Q(p,p);if(L(T))return y=ne(R(T),y),new Q(R(y.g),R(y.h));if(L(y))return y=ne(T,R(y)),new Q(R(y.g),y.h);if(30<T.g.length){if(L(T)||L(y))throw Error("slowDivide_ only works with positive integers.");for(var w=b,S=y;0>=S.l(T);)w=Fe(w),S=Fe(S);var A=fe(w,1),k=fe(S,1);for(S=fe(S,2),w=fe(w,2);!O(S);){var I=k.add(S);0>=I.l(T)&&(A=A.add(w),k=I),S=fe(S,1),w=fe(w,1)}return y=$(T,A.j(y)),new Q(A,y)}for(A=p;0<=T.l(y);){for(w=Math.max(1,Math.floor(T.m()/y.m())),S=Math.ceil(Math.log(w)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),k=u(w),I=k.j(y);L(I)||0<I.l(T);)w-=S,k=u(w),I=k.j(y);O(k)&&(k=b),A=A.add(k),T=$(T,I)}return new Q(A,T)}t.A=function(T){return ne(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],S=0;S<y;S++)w[S]=this.i(S)&T.i(S);return new s(w,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],S=0;S<y;S++)w[S]=this.i(S)|T.i(S);return new s(w,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),w=[],S=0;S<y;S++)w[S]=this.i(S)^T.i(S);return new s(w,this.h^T.h)};function Fe(T){for(var y=T.g.length+1,w=[],S=0;S<y;S++)w[S]=T.i(S)<<1|T.i(S-1)>>>31;return new s(w,T.h)}function fe(T,y){var w=y>>5;y%=32;for(var S=T.g.length-w,A=[],k=0;k<S;k++)A[k]=0<y?T.i(k+w)>>>y|T.i(k+w+1)<<32-y:T.i(k+w);return new s(A,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,zm=oE.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,or=oE.Integer=s}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var Xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ei={};var $m,qm,ns,Gm,cc,Ju,Wm,Hm,Km;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xu=="object"&&Xu];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var n=i(this);function r(c,d){if(d)e:{var f=n;c=c.split(".");for(var m=0;m<c.length-1;m++){var P=c[m];if(!(P in f))break e;f=f[P]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,P={next:function(){if(!m&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,m),c.apply(d,P)}}return function(){return c.apply(d,arguments)}}function b(c,d,f){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,b.apply(null,arguments)}function C(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function O(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,P,N){for(var G=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)G[Le-2]=arguments[Le];return d.prototype[P].apply(m,G)}}function L(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let P=c.length||0,N=m.length||0;c.length=P+N;for(let G=0;G<N;G++)c[P+G]=m[G]}else c.push(m)}}class ${constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var Fe=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,d){let f,m;for(let P=1;P<arguments.length;P++){m=arguments[P];for(f in m)c[f]=m[f];for(let N=0;N<w.length;N++)f=w[N],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function A(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function k(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Eh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class li{constructor(){this.h=this.g=null}add(d,f){let m=Ls.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ls=new $(()=>new ix,c=>c.reset());class ix{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Us,js=!1,Eh=new li,bb=()=>{let c=a.Promise.resolve(void 0);Us=()=>{c.then(rx)}};var rx=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){k(f)}var d=Ls;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}js=!1};function Mi(){this.s=this.s,this.C=this.C}Mi.prototype.s=!1,Mi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var ox=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Bs(c,d){if(Ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Fe){e:{try{ne(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Bs.aa.h.call(this)}}O(Bs,Ot);var sx={2:"touch",3:"pen",4:"mouse"};Bs.prototype.h=function(){Bs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var zs="closure_listenable_"+(1e6*Math.random()|0),ax=0;function cx(c,d,f,m,P){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=P,this.key=++ax,this.da=this.fa=!1}function nl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function il(c){this.src=c,this.g={},this.h=0}il.prototype.add=function(c,d,f,m,P){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var G=Th(c,d,m,P);return-1<G?(d=c[G],f||(d.fa=!1)):(d=new cx(d,this.src,N,!!m,P),d.fa=f,c.push(d)),d};function Ch(c,d){var f=d.type;if(f in c.g){var m=c.g[f],P=Array.prototype.indexOf.call(m,d,void 0),N;(N=0<=P)&&Array.prototype.splice.call(m,P,1),N&&(nl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Th(c,d,f,m){for(var P=0;P<c.length;++P){var N=c[P];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==m)return P}return-1}var Sh="closure_lm_"+(1e6*Math.random()|0),Ah={};function yb(c,d,f,m,P){if(m&&m.once)return Ib(c,d,f,m,P);if(Array.isArray(d)){for(var N=0;N<d.length;N++)yb(c,d[N],f,m,P);return null}return f=Dh(f),c&&c[zs]?c.K(d,f,u(m)?!!m.capture:!!m,P):wb(c,d,f,!1,m,P)}function wb(c,d,f,m,P,N){if(!d)throw Error("Invalid event type");var G=u(P)?!!P.capture:!!P,Le=Ph(c);if(Le||(c[Sh]=Le=new il(c)),f=Le.add(d,f,m,G,N),f.proxy)return f;if(m=lx(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)ox||(P=G),P===void 0&&(P=!1),c.addEventListener(d.toString(),m,P);else if(c.attachEvent)c.attachEvent(Cb(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lx(){function c(f){return d.call(c.src,c.listener,f)}let d=ux;return c}function Ib(c,d,f,m,P){if(Array.isArray(d)){for(var N=0;N<d.length;N++)Ib(c,d[N],f,m,P);return null}return f=Dh(f),c&&c[zs]?c.L(d,f,u(m)?!!m.capture:!!m,P):wb(c,d,f,!0,m,P)}function Eb(c,d,f,m,P){if(Array.isArray(d))for(var N=0;N<d.length;N++)Eb(c,d[N],f,m,P);else m=u(m)?!!m.capture:!!m,f=Dh(f),c&&c[zs]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Th(N,f,m,P),-1<f&&(nl(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Ph(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Th(d,f,m,P)),(f=-1<c?d[c]:null)&&xh(f))}function xh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[zs])Ch(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Cb(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Ph(d))?(Ch(f,c),f.h==0&&(f.src=null,d[Sh]=null)):nl(c)}}}function Cb(c){return c in Ah?Ah[c]:Ah[c]="on"+c}function ux(c,d){if(c.da)c=!0;else{d=new Bs(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&xh(c),c=f.call(m,d)}return c}function Ph(c){return c=c[Sh],c instanceof il?c:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dh(c){return typeof c=="function"?c:(c[kh]||(c[kh]=function(d){return c.handleEvent(d)}),c[kh])}function Mt(){Mi.call(this),this.i=new il(this),this.M=this,this.F=null}O(Mt,Mi),Mt.prototype[zs]=!0,Mt.prototype.removeEventListener=function(c,d,f,m){Eb(this,c,d,f,m)};function qt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Ot(d,c);else if(d instanceof Ot)d.target=d.target||c;else{var P=d;d=new Ot(m,c),S(d,P)}if(P=!0,f)for(var N=f.length-1;0<=N;N--){var G=d.g=f[N];P=rl(G,m,!0,d)&&P}if(G=d.g=c,P=rl(G,m,!0,d)&&P,P=rl(G,m,!1,d)&&P,f)for(N=0;N<f.length;N++)G=d.g=f[N],P=rl(G,m,!1,d)&&P}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)nl(f[m]);delete c.g[d],c.h--}}this.F=null},Mt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Mt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function rl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,N=0;N<d.length;++N){var G=d[N];if(G&&!G.da&&G.capture==f){var Le=G.listener,St=G.ha||G.src;G.fa&&Ch(c.i,G),P=Le.call(St,m)!==!1&&P}}return P&&!m.defaultPrevented}function Tb(c,d,f){if(typeof c=="function")f&&(c=b(c,f));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Sb(c){c.g=Tb(()=>{c.g=null,c.i&&(c.i=!1,Sb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class dx extends Mi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Sb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(c){Mi.call(this),this.h=c,this.g={}}O($s,Mi);var Ab=[];function xb(c){fe(c.g,function(d,f){this.g.hasOwnProperty(f)&&xh(d)},c),c.g={}}$s.prototype.N=function(){$s.aa.N.call(this),xb(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rh=a.JSON.stringify,hx=a.JSON.parse,fx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Oh(){}Oh.prototype.h=null;function Pb(c){return c.h||(c.h=c.i())}function kb(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mh(){Ot.call(this,"d")}O(Mh,Ot);function Nh(){Ot.call(this,"c")}O(Nh,Ot);var gr={},Db=null;function ol(){return Db=Db||new Mt}gr.La="serverreachability";function Rb(c){Ot.call(this,gr.La,c)}O(Rb,Ot);function Gs(c){let d=ol();qt(d,new Rb(d))}gr.STAT_EVENT="statevent";function Ob(c,d){Ot.call(this,gr.STAT_EVENT,c),this.stat=d}O(Ob,Ot);function Gt(c){let d=ol();qt(d,new Ob(d,c))}gr.Ma="timingevent";function Mb(c,d){Ot.call(this,gr.Ma,c),this.size=d}O(Mb,Ot);function Ws(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function px(c,d,f,m,P,N){c.info(function(){if(c.g)if(N)for(var G="",Le=N.split("&"),St=0;St<Le.length;St++){var Pe=Le[St].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var Ft=Nt.split("_");G=2<=Ft.length&&Ft[1]=="type"?G+(Nt+"="+Pe+"&"):G+(Nt+"=redacted&")}}else G=null;else G=N;return"XMLHTTP REQ ("+m+") [attempt "+P+"]: "+d+`
`+f+`
`+G})}function mx(c,d,f,m,P,N,G){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+P+"]: "+d+`
`+f+`
`+N+" "+G})}function go(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+_x(c,f)+(m?" "+m:"")})}function gx(c,d){c.info(function(){return"TIMEOUT: "+d})}Hs.prototype.info=function(){};function _x(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var P=m[1];if(Array.isArray(P)&&!(1>P.length)){var N=P[0];if(N!="noop"&&N!="stop"&&N!="close")for(var G=1;G<P.length;G++)P[G]=""}}}}return Rh(f)}catch{return d}}var sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fh;function al(){}O(al,Oh),al.prototype.g=function(){return new XMLHttpRequest},al.prototype.i=function(){return{}},Fh=new al;function Ni(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new $s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fb}function Fb(){this.i=null,this.g="",this.h=!1}var Vb={},Vh={};function Lh(c,d,f){c.L=1,c.v=dl(ui(d)),c.m=f,c.P=!0,Lb(c,null)}function Lb(c,d){c.F=Date.now(),cl(c),c.A=ui(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Jb(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Fb,c.g=gy(c.j,f?d:null,!c.m),0<c.O&&(c.M=new dx(b(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ab[0]=P.toString()),P=Ab);for(var N=0;N<P.length;N++){var G=yb(f,P[N],m||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Gs(),px(c.i,c.u,c.A,c.l,c.R,c.m)}Ni.prototype.ca=function(c){c=c.target;let d=this.M;d&&di(c)==3?d.j():this.Y(c)},Ni.prototype.Y=function(c){try{if(c==this.g)e:{let Ft=di(this.g);var d=this.g.Ba();let bo=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||oy(this.g)))){this.J||Ft!=4||d==7||(d==8||0>=bo?Gs(3):Gs(2)),Uh(this);var f=this.g.Z();this.X=f;t:if(Ub(this)){var m=oy(this.g);c="";var P=m.length,N=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),Ks(this);var G="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(N&&d==P-1)});m.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=f==200,mx(this.i,this.u,this.A,this.l,this.R,Ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,St=this.g;if((Le=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Le)){var Pe=Le;break t}}Pe=null}if(f=Pe)go(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jh(this,f);else{this.o=!1,this.s=3,Gt(12),_r(this),Ks(this);break e}}if(this.P){f=!0;let yn;for(;!this.J&&this.C<G.length;)if(yn=vx(this,G),yn==Vh){Ft==4&&(this.s=4,Gt(14),f=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Vb){this.s=4,Gt(15),go(this.i,this.l,G,"[Invalid Chunk]"),f=!1;break}else go(this.i,this.l,yn,null),jh(this,yn);if(Ub(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||G.length!=0||this.h.h||(this.s=1,Gt(16),f=!1),this.o=this.o&&f,!f)go(this.i,this.l,G,"[Invalid Chunked Response]"),_r(this),Ks(this);else if(0<G.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Wh(Nt),Nt.M=!0,Gt(11))}}else go(this.i,this.l,G,null),jh(this,G);Ft==4&&_r(this),this.o&&!this.J&&(Ft==4?hy(this.j,this):(this.o=!1,cl(this)))}else Nx(this.g),f==400&&0<G.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),_r(this),Ks(this)}}}catch{}finally{}};function Ub(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Vh:(f=Number(d.substring(f,m)),isNaN(f)?Vb:(m+=1,m+f>d.length?Vh:(d=d.slice(m,m+f),c.C=m+f,d)))}Ni.prototype.cancel=function(){this.J=!0,_r(this)};function cl(c){c.S=Date.now()+c.I,jb(c,c.I)}function jb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ws(b(c.ba,c),d)}function Uh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ni.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(gx(this.i,this.A),this.L!=2&&(Gs(),Gt(17)),_r(this),this.s=2,Ks(this)):jb(this,this.S-c)};function Ks(c){c.j.G==0||c.J||hy(c.j,c)}function _r(c){Uh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,xb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function jh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Bh(f.h,c))){if(!c.K&&Bh(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var P=m;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gl(f),pl(f);else break e;Gh(f),Gt(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ws(b(f.Za,f),6e3));if(1>=$b(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else br(f,11)}else if((c.K||f.g==c)&&gl(f),!Z(d))for(P=f.Da.g.parse(d),d=0;d<P.length;d++){let Pe=P[d];if(f.T=Pe[0],Pe=Pe[1],f.G==2)if(Pe[0]=="c"){f.K=Pe[1],f.ia=Pe[2];let Nt=Pe[3];Nt!=null&&(f.la=Nt,f.j.info("VER="+f.la));let Ft=Pe[4];Ft!=null&&(f.Aa=Ft,f.j.info("SVER="+f.Aa));let bo=Pe[5];bo!=null&&typeof bo=="number"&&0<bo&&(m=1.5*bo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let yn=c.g;if(yn){let vl=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var N=m.h;N.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(zh(N,N.h),N.h=null))}if(m.D){let Hh=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hh&&(m.ya=Hh,We(m.I,m.D,Hh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var G=c;if(m.qa=my(m,m.J?m.ia:null,m.W),G.K){qb(m.h,G);var Le=G,St=m.L;St&&(Le.I=St),Le.B&&(Uh(Le),cl(Le)),m.g=G}else uy(m);0<f.i.length&&ml(f)}else Pe[0]!="stop"&&Pe[0]!="close"||br(f,7);else f.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?br(f,7):qh(f):Pe[0]!="noop"&&f.l&&f.l.ta(Pe),f.v=0)}}Gs(4)}catch{}}var bx=class{constructor(c,d){this.g=c,this.map=d}};function Bb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $b(c){return c.h?1:c.g?c.g.size:0}function Bh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function zh(c,d){c.g?c.g.add(d):c.h=d}function qb(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Bb.prototype.cancel=function(){if(this.i=Gb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Gb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return L(c.i)}function yx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function wx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Wb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=wx(c),m=yx(c),P=m.length,N=0;N<P;N++)d.call(void 0,m[N],f&&f[N],c)}var Hb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ix(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),P=null;if(0<=m){var N=c[f].substring(0,m);P=c[f].substring(m+1)}else N=c[f];d(N,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vr){this.h=c.h,ll(this,c.j),this.o=c.o,this.g=c.g,ul(this,c.s),this.l=c.l;var d=c.i,f=new Xs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Kb(this,f),this.m=c.m}else c&&(d=String(c).match(Hb))?(this.h=!1,ll(this,d[1]||"",!0),this.o=Ys(d[2]||""),this.g=Ys(d[3]||"",!0),ul(this,d[4]),this.l=Ys(d[5]||"",!0),Kb(this,d[6]||"",!0),this.m=Ys(d[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}vr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Qs(d,Yb,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Qs(d,Yb,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Qs(f,f.charAt(0)=="/"?Tx:Cx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Qs(f,Ax)),c.join("")};function ui(c){return new vr(c)}function ll(c,d,f){c.j=f?Ys(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ul(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Kb(c,d,f){d instanceof Xs?(c.i=d,xx(c.i,c.h)):(f||(d=Qs(d,Sx)),c.i=new Xs(d,c.h))}function We(c,d,f){c.i.set(d,f)}function dl(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ys(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Ex),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ex(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yb=/[#\/\?@]/g,Cx=/[#\?:]/g,Tx=/[#\?]/g,Sx=/[#\?@]/g,Ax=/#/g;function Xs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fi(c){c.g||(c.g=new Map,c.h=0,c.i&&Ix(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Xs.prototype,t.add=function(c,d){Fi(this),this.i=null,c=_o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Qb(c,d){Fi(c),d=_o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Xb(c,d){return Fi(c),d=_o(c,d),c.g.has(d)}t.forEach=function(c,d){Fi(this),this.g.forEach(function(f,m){f.forEach(function(P){c.call(d,P,m,this)},this)},this)},t.na=function(){Fi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let P=c[m];for(let N=0;N<P.length;N++)f.push(d[m])}return f},t.V=function(c){Fi(this);let d=[];if(typeof c=="string")Xb(this,c)&&(d=d.concat(this.g.get(_o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Fi(this),this.i=null,c=_o(this,c),Xb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Jb(c,d,f){Qb(c,d),0<f.length&&(c.i=null,c.g.set(_o(c,d),L(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let N=encodeURIComponent(String(m)),G=this.V(m);for(m=0;m<G.length;m++){var P=N;G[m]!==""&&(P+="="+encodeURIComponent(String(G[m]))),c.push(P)}}return this.i=c.join("&")};function _o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function xx(c,d){d&&!c.j&&(Fi(c),c.i=null,c.g.forEach(function(f,m){var P=m.toLowerCase();m!=P&&(Qb(this,m),Jb(this,P,f))},c)),c.j=d}function Px(c,d){let f=new Hs;if(a.Image){let m=new Image;m.onload=C(Vi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=C(Vi,f,"TestLoadImage: error",!1,d,m),m.onabort=C(Vi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=C(Vi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function kx(c,d){let f=new Hs,m=new AbortController,P=setTimeout(()=>{m.abort(),Vi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(N=>{clearTimeout(P),N.ok?Vi(f,"TestPingServer: ok",!0,d):Vi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),Vi(f,"TestPingServer: error",!1,d)})}function Vi(c,d,f,m,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),m(f)}catch{}}function Dx(){this.g=new fx}function Rx(c,d,f){let m=f||"";try{Wb(c,function(P,N){let G=P;u(P)&&(G=Rh(P)),d.push(m+N+"="+encodeURIComponent(G))})}catch(P){throw d.push(m+"type="+encodeURIComponent("_badmap")),P}}function Js(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Js,Oh),Js.prototype.g=function(){return new hl(this.l,this.j)},Js.prototype.i=function(c){return function(){return c}}({});function hl(c,d){Mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(hl,Mt),t=hl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Zs(this):ea(this),this.readyState==3&&Zb(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Zs(this))},t.Qa=function(c){this.g&&(this.response=c,Zs(this))},t.ga=function(){this.g&&Zs(this)};function Zs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ea(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ey(c){let d="";return fe(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function $h(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=ey(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):We(c,d,f))}function nt(c){Mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nt,Mt);var Ox=/^https?$/i,Mx=["POST","PUT"];t=nt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fh.g(),this.v=this.o?Pb(this.o):Pb(Fh),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){ty(this,N);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var P in m)f.set(P,m[P]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mx,d,void 0))||m||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,G]of f)this.g.setRequestHeader(N,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ry(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){ty(this,N)}};function ty(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ny(c),fl(c)}function ny(c){c.A||(c.A=!0,qt(c,"complete"),qt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qt(this,"complete"),qt(this,"abort"),fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iy(this):this.bb())},t.bb=function(){iy(this)};function iy(c){if(c.h&&typeof s<"u"&&(!c.v[1]||di(c)!=4||c.Z()!=2)){if(c.u&&di(c)==4)Tb(c.Ea,0,c);else if(qt(c,"readystatechange"),di(c)==4){c.h=!1;try{let G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=G===0){var P=String(c.D).match(Hb)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),m=!Ox.test(P?P.toLowerCase():"")}f=m}if(f)qt(c,"complete"),qt(c,"success");else{c.m=6;try{var N=2<di(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",ny(c)}}finally{fl(c)}}}}function fl(c,d){if(c.g){ry(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||qt(c,"ready");try{f.onreadystatechange=m}catch{}}}function ry(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function di(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),hx(d)}};function oy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Nx(c){let d={};c=(c.g&&2<=di(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Z(c[m]))continue;var f=A(c[m]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[P]||[];d[P]=N,N.push(f)}T(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function sy(c){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bb(c&&c.concurrentRequestLimit),this.Da=new Dx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sy.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Gt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=my(this,null,this.W),ml(this)};function qh(c){if(ay(c),c.G==3){var d=c.U++,f=ui(c.I);if(We(f,"SID",c.K),We(f,"RID",d),We(f,"TYPE","terminate"),na(c,f),d=new Ni(c,c.j,d),d.L=2,d.v=dl(ui(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=gy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cl(d)}py(c)}function pl(c){c.g&&(Wh(c),c.g.cancel(),c.g=null)}function ay(c){pl(c),c.u&&(a.clearTimeout(c.u),c.u=null),gl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ml(c){if(!zb(c.h)&&!c.s){c.s=!0;var d=c.Ga;Us||bb(),js||(Us(),js=!0),Eh.add(d,c),c.B=0}}function Fx(c,d){return $b(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ws(b(c.Ga,c,d),fy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new Ni(this,this.j,c),N=this.o;if(this.S&&(N?(N=y(N),S(N,this.S)):N=this.S),this.m!==null||this.O||(P.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ly(this,P,d),f=ui(this.I),We(f,"RID",c),We(f,"CVER",22),this.D&&We(f,"X-HTTP-Session-Id",this.D),na(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(ey(N)))+"&"+d:this.m&&$h(f,this.m,N)),zh(this.h,P),this.Ua&&We(f,"TYPE","init"),this.P?(We(f,"$req",d),We(f,"SID","null"),P.T=!0,Lh(P,f,null)):Lh(P,f,d),this.G=2}}else this.G==3&&(c?cy(this,c):this.i.length==0||zb(this.h)||cy(this))};function cy(c,d){var f;d?f=d.l:f=c.U++;let m=ui(c.I);We(m,"SID",c.K),We(m,"RID",f),We(m,"AID",c.T),na(c,m),c.m&&c.o&&$h(m,c.m,c.o),f=new Ni(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ly(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zh(c.h,f),Lh(f,m,d)}function na(c,d){c.H&&fe(c.H,function(f,m){We(d,m,f)}),c.l&&Wb({},function(f,m){We(d,m,f)})}function ly(c,d,f){f=Math.min(c.i.length,f);var m=c.l?b(c.l.Na,c.l,c):null;e:{var P=c.i;let N=-1;for(;;){let G=["count="+f];N==-1?0<f?(N=P[0].g,G.push("ofs="+N)):N=0:G.push("ofs="+N);let Le=!0;for(let St=0;St<f;St++){let Pe=P[St].g,Nt=P[St].map;if(Pe-=N,0>Pe)N=Math.max(0,P[St].g-100),Le=!1;else try{Rx(Nt,G,"req"+Pe+"_")}catch{m&&m(Nt)}}if(Le){m=G.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function uy(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Us||bb(),js||(Us(),js=!0),Eh.add(d,c),c.v=0}}function Gh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ws(b(c.Fa,c),fy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,dy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ws(b(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),pl(this),dy(this))};function Wh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dy(c){c.g=new Ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=ui(c.qa);We(d,"RID","rpc"),We(d,"SID",c.K),We(d,"AID",c.T),We(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(d,"TO",c.ja),We(d,"TYPE","xmlhttp"),na(c,d),c.m&&c.o&&$h(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=dl(ui(d)),f.m=null,f.P=!0,Lb(f,c)}t.Za=function(){this.C!=null&&(this.C=null,pl(this),Gh(this),Gt(19))};function gl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hy(c,d){var f=null;if(c.g==d){gl(c),Wh(c),c.g=null;var m=2}else if(Bh(c.h,d))f=d.D,qb(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var P=c.B;m=ol(),qt(m,new Mb(m,f)),ml(c)}else uy(c);else if(P=d.s,P==3||P==0&&0<d.X||!(m==1&&Fx(c,d)||m==2&&Gh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),P){case 1:br(c,5);break;case 4:br(c,10);break;case 3:br(c,6);break;default:br(c,2)}}}function fy(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function br(c,d){if(c.j.info("Error code "+d),d==2){var f=b(c.fb,c),m=c.Xa;let P=!m;m=new vr(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ll(m,"https"),dl(m),P?Px(m.toString(),f):kx(m.toString(),f)}else Gt(2);c.G=0,c.l&&c.l.sa(d),py(c),ay(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function py(c){if(c.G=0,c.ka=[],c.l){let d=Gb(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function my(c,d,f){var m=f instanceof vr?ui(f):new vr(f);if(m.g!="")d&&(m.g=d+"."+m.g),ul(m,m.s);else{var P=a.location;m=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var N=new vr(null);m&&ll(N,m),d&&(N.g=d),P&&ul(N,P),f&&(N.l=f),m=N}return f=c.D,d=c.ya,f&&d&&We(m,f,d),We(m,"VER",c.la),na(c,m),m}function gy(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new nt(new Js({eb:f})):new nt(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _y(){}t=_y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(c,d){return new Zt(c,d)};function Zt(c,d){Mt.call(this),this.g=new sy(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new vo(this)}O(Zt,Mt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){qh(this.g)},Zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Rh(c),c=f);d.i.push(new bx(d.Ya++,c)),d.G==3&&ml(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,Zt.aa.N.call(this)};function vy(c){Mh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}O(vy,Mh);function by(){Nh.call(this),this.status=1}O(by,Nh);function vo(c){this.g=c}O(vo,_y),vo.prototype.ua=function(){qt(this.g,"a")},vo.prototype.ta=function(c){qt(this.g,new vy(c))},vo.prototype.sa=function(c){qt(this.g,new by)},vo.prototype.ra=function(){qt(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Km=Ei.createWebChannelTransport=function(){return new _l},Hm=Ei.getStatEventTarget=function(){return ol()},Wm=Ei.Event=gr,Ju=Ei.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,cc=Ei.ErrorCode=sl,Nb.COMPLETE="complete",Gm=Ei.EventType=Nb,kb.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,ns=Ei.WebChannel=kb,qm=Ei.FetchXmlHttpFactory=Js,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,$m=Ei.XhrIo=nt}).apply(typeof Xu<"u"?Xu:typeof self<"u"?self:typeof window<"u"?window:{});var sE="@firebase/firestore";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var Is="10.12.3";var Kr=new Qi("@firebase/firestore");function lc(){return Kr.logLevel}function te(t,...e){if(Kr.logLevel<=Te.DEBUG){let i=e.map(D_);Kr.debug(`Firestore (${Is}): ${t}`,...i)}}function Ti(t,...e){if(Kr.logLevel<=Te.ERROR){let i=e.map(D_);Kr.error(`Firestore (${Is}): ${t}`,...i)}}function ls(t,...e){if(Kr.logLevel<=Te.WARN){let i=e.map(D_);Kr.warn(`Firestore (${Is}): ${t}`,...i)}}function D_(t){if(typeof t=="string")return t;try{return function(i){return JSON.stringify(i)}(t)}catch{return t}}function le(t="Unexpected state"){let e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+t;throw Ti(e),new Error(e)}function Ge(t,e){t||le()}function me(t,e){return t}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends Et{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var On=class{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}};var id=class{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Tt.UNAUTHENTICATED))}shutdown(){}},eg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},tg=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),o=new On;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new On,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>g(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new On)}},0),s()}getToken(){let e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ge(typeof n.accessToken=="string"),new id(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Tt(e)}},ng=class{constructor(e,i,n){this.l=e,this.h=i,this.P=n,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ig=class{constructor(e,i,n){this.l=e,this.h=i,this.P=n}getToken(){return Promise.resolve(new ng(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},og=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){let n=o=>{o.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,te("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};let r=o=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ge(typeof i.token=="string"),this.R=i.token,new rg(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function hN(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}var rd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=hN(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=e.charAt(r[o]%e.length))}return n}};function De(t,e){return t<e?-1:t>e?1:0}function us(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}var Dt=class t{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Y(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new t(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Dt(0,0))}static max(){return new t(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var od=class t{constructor(e,i,n){i===void 0?i=0:i>e.length&&le(),n===void 0?n=e.length-i:n>e.length-i&&le(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){let n=Math.min(e.length,i.length);for(let r=0;r<n;r++){let o=e.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<i.length?-1:e.length>i.length?1:0}},Ze=class t extends od{construct(e,i,n){return new t(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let i=[];for(let n of e){if(n.indexOf("//")>=0)throw new Y(U.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new t(i)}static emptyPath(){return new t([])}},fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cn=class t extends od{construct(e,i,n){return new t(e,i,n)}static isValidIdentifier(e){return fN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Y(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(n+=a,r++):(o(),r++)}if(o(),s)throw new Y(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(i)}static emptyPath(){return new t([])}};var ae=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ze.fromString(e))}static fromName(e){return new t(Ze.fromString(e).popFirst(5))}static empty(){return new t(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ze.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ze(e.slice()))}};var sg=class{constructor(e,i,n,r){this.indexId=e,this.collectionGroup=i,this.fields=n,this.indexState=r}};sg.UNKNOWN_ID=-1;function pN(t,e){let i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(n===1e9?new Dt(i+1,0):new Dt(i,n));return new Yr(r,ae.empty(),e)}function mN(t){return new Yr(t.readTime,t.key,-1)}var Yr=class t{constructor(e,i,n){this.readTime=e,this.documentKey=i,this.largestBatchId=n}static min(){return new t(_e.min(),ae.empty(),-1)}static max(){return new t(_e.max(),ae.empty(),-1)}};function gN(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=ae.comparator(t.documentKey,e.documentKey),i!==0?i:De(t.largestBatchId,e.largestBatchId))}var _N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ag=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function kc(t){return g(this,null,function*(){if(t.code!==U.FAILED_PRECONDITION||t.message!==_N)throw t;te("LocalStore","Unexpectedly lost primary lease")})}var z=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{let i=e();return i instanceof t?i:t.resolve(i)}catch(i){return t.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):t.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):t.reject(i)}static resolve(e){return new t((i,n)=>{i(e)})}static reject(e){return new t((i,n)=>{n(e)})}static waitFor(e){return new t((i,n)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&i()},l=>n(l))}),s=!0,o===r&&i()})}static or(e){let i=t.resolve(!1);for(let n of e)i=i.next(r=>r?t.resolve(r):n());return i}static forEach(e,i){let n=[];return e.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(e,i){return new t((n,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;i(e[u]).next(h=>{s[u]=h,++a,a===o&&n(s)},h=>r(h))}})}static doWhile(e,i){return new t((n,r)=>{let o=()=>{e()===!0?i().next(()=>{o()},r):n()};o()})}};function vN(t){let e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dc(t){return t.name==="IndexedDbTransactionError"}var LE=(()=>{class t{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return t.oe=-1,t})();function Nd(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function bN(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var yN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],e$=[...yN,"documentOverlays"],wN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],IN=wN,t$=[...IN,"indexConfiguration","indexState","indexEntries"];function aE(t){let e=0;for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function no(t,e){for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function UE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var st=class t{constructor(e,i){this.comparator=e,this.root=i||ei.EMPTY}insert(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){let e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ss(this.root,e,this.comparator,!0)}},ss=class{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?n(e.key,i):1,i&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ei=class t{constructor(e,i,n,r,o){this.key=e,this.value=i,this.color=n??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,o){return new t(e??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this,o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,i,n,r,o){return this}insert(e,i,n){return new ei(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bt=class t{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new sd(this.data.getIterator())}getIteratorFrom(e){return new sd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(i=>{e.push(i)}),e}toString(){let e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){let i=new t(this.comparator);return i.data=e,i}},sd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class t{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new t([])}unionWith(e){let i=new Bt(cn.comparator);for(let n of this.fields)i=i.add(n);for(let n of e)i=i.add(n);return new t(i.toArray())}covers(e){for(let i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(i,n)=>i.isEqual(n))}};var ad=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Kt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ad("Invalid base64 string: "+o):o}}(e);return new t(i)}static fromUint8Array(e){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Kt.EMPTY_BYTE_STRING=new Kt("");var EN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Ge(!!t),typeof t=="string"){let e=0,i=EN.exec(t);if(Ge(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}let n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ar(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}function R_(t){var e,i;return((i=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function O_(t){let e=t.mapValue.fields.__previous_value__;return R_(e)?O_(e):e}function gc(t){let e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}var cg=class{constructor(e,i,n,r,o,s,a,l,u){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},cd=class t{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R_(t)?4:jE(t)?9007199254740991:10:le()}function ii(t,e){if(t===e)return!0;let i=Qr(t);if(i!==Qr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Si(r.timestampValue),a=Si(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return ar(r.bytesValue).isEqual(ar(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return ot(r.geoPointValue.latitude)===ot(o.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ot(r.integerValue)===ot(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=ot(r.doubleValue),a=ot(o.doubleValue);return s===a?mc(s)===mc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(aE(s)!==aE(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ii(s[l],a[l])))return!1;return!0}(t,e);default:return le()}}function _c(t,e){return(t.values||[]).find(i=>ii(i,e))!==void 0}function ds(t,e){if(t===e)return 0;let i=Qr(t),n=Qr(e);if(i!==n)return De(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ot(o.integerValue||o.doubleValue),l=ot(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(gc(t),gc(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ar(o),l=ar(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=De(a[u],l[u]);if(h!==0)return h}return De(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=De(ot(o.latitude),ot(s.latitude));return a!==0?a:De(ot(o.longitude),ot(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){let h=ds(a[u],l[u]);if(h)return h}return De(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Zu.mapValue&&s===Zu.mapValue)return 0;if(o===Zu.mapValue)return 1;if(s===Zu.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let b=De(l[p],h[p]);if(b!==0)return b;let C=ds(a[l[p]],u[h[p]]);if(C!==0)return C}return De(l.length,h.length)}(t.mapValue,e.mapValue);default:throw le()}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let i=Si(t),n=Si(e),r=De(i.seconds,n.seconds);return r!==0?r:De(i.nanos,n.nanos)}function hs(t){return lg(t)}function lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){let n=Si(i);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(i){return ar(i).toBase64()}(t.bytesValue):"referenceValue"in t?function(i){return ae.fromName(i).toString()}(t.referenceValue):"geoPointValue"in t?function(i){return`geo(${i.latitude},${i.longitude})`}(t.geoPointValue):"arrayValue"in t?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=lg(o);return n+"]"}(t.arrayValue):"mapValue"in t?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${lg(i.fields[s])}`;return r+"}"}(t.mapValue):le()}function lE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ug(t){return!!t&&"integerValue"in t}function M_(t){return!!t&&"arrayValue"in t}function uE(t){return!!t&&"nullValue"in t}function dE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return no(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=dc(n)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=dc(t.arrayValue.values[i]);return e}return Object.assign({},t)}function jE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var an=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!td(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(i)}setAll(e){let i=cn.emptyPath(),n={},r=[];e.forEach((s,a)=>{if(!i.isImmediateParentOf(a)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=a.popLast()}s?n[a.lastSegment()]=dc(s):r.push(a.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(e){let i=this.field(e.popLast());td(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];td(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){no(i,(r,o)=>e[r]=o);for(let r of n)delete e[r]}clone(){return new t(dc(this.value))}};function BE(t){let e=[];return no(t.fields,(i,n)=>{let r=new cn([i]);if(td(n)){let o=BE(n.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new _n(e)}var Mn=class t{constructor(e,i,n,r,o,s,a){this.key=e,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,_e.min(),_e.min(),_e.min(),an.empty(),0)}static newFoundDocument(e,i,n,r){return new t(e,1,i,_e.min(),n,r,0)}static newNoDocument(e,i){return new t(e,2,i,_e.min(),_e.min(),an.empty(),0)}static newUnknownDocument(e,i){return new t(e,3,i,_e.min(),_e.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fs=class{constructor(e,i){this.position=e,this.inclusive=i}};function hE(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?n=ae.comparator(ae.fromName(s.referenceValue),i.key):n=ds(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function fE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!ii(t.position[i],e.position[i]))return!1;return!0}var ps=class{constructor(e,i="asc"){this.field=e,this.dir=i}};function CN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ld=class{},gt=class t extends ld{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,n):new hg(e,i,n):i==="array-contains"?new mg(e,n):i==="in"?new gg(e,n):i==="not-in"?new _g(e,n):i==="array-contains-any"?new vg(e,n):new t(e,i,n)}static createKeyFieldInFilter(e,i,n){return i==="in"?new fg(e,n):new pg(e,n)}matches(e){let i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ds(i,this.value)):i!==null&&Qr(this.value)===Qr(i)&&this.matchesComparison(ds(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nn=class t extends ld{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new t(e,i)}matches(e){return zE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function zE(t){return t.op==="and"}function $E(t){return TN(t)&&zE(t)}function TN(t){for(let e of t.filters)if(e instanceof Nn)return!1;return!0}function dg(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+hs(t.value);if($E(t))return t.filters.map(e=>dg(e)).join(",");{let e=t.filters.map(i=>dg(i)).join(",");return`${t.op}(${e})`}}function qE(t,e){return t instanceof gt?function(n,r){return r instanceof gt&&n.op===r.op&&n.field.isEqual(r.field)&&ii(n.value,r.value)}(t,e):t instanceof Nn?function(n,r){return r instanceof Nn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,a)=>o&&qE(s,r.filters[a]),!0):!1}(t,e):void le()}function GE(t){return t instanceof gt?function(i){return`${i.field.canonicalString()} ${i.op} ${hs(i.value)}`}(t):t instanceof Nn?function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"}(t):"Filter"}var hg=class extends gt{constructor(e,i,n){super(e,i,n),this.key=ae.fromName(n.referenceValue)}matches(e){let i=ae.comparator(e.key,this.key);return this.matchesComparison(i)}},fg=class extends gt{constructor(e,i){super(e,"in",i),this.keys=WE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}},pg=class extends gt{constructor(e,i){super(e,"not-in",i),this.keys=WE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}};function WE(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>ae.fromName(n.referenceValue))}var mg=class extends gt{constructor(e,i){super(e,"array-contains",i)}matches(e){let i=e.data.field(this.field);return M_(i)&&_c(i.arrayValue,this.value)}},gg=class extends gt{constructor(e,i){super(e,"in",i)}matches(e){let i=e.data.field(this.field);return i!==null&&_c(this.value.arrayValue,i)}},_g=class extends gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=e.data.field(this.field);return i!==null&&!_c(this.value.arrayValue,i)}},vg=class extends gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){let i=e.data.field(this.field);return!(!M_(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>_c(this.value.arrayValue,n))}};var bg=class{constructor(e,i=null,n=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function pE(t,e=null,i=[],n=[],r=null,o=null,s=null){return new bg(t,e,i,n,r,o,s)}function N_(t){let e=me(t);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>dg(n)).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Nd(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(n=>hs(n)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(n=>hs(n)).join(",")),e.ue=i}return e.ue}function F_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!CN(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!qE(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fE(t.startAt,e.startAt)&&fE(t.endAt,e.endAt)}function yg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Xr=class{constructor(e,i=null,n=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function SN(t,e,i,n,r,o,s,a){return new Xr(t,e,i,n,r,o,s,a)}function Fd(t){return new Xr(t)}function mE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HE(t){return t.collectionGroup!==null}function hc(t){let e=me(t);if(e.ce===null){e.ce=[];let i=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),i.add(o.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Bt(cn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ps(o,n))}),i.has(cn.keyField().canonicalString())||e.ce.push(new ps(cn.keyField(),n))}return e.ce}function ti(t){let e=me(t);return e.le||(e.le=AN(e,hc(t))),e.le}function AN(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new ps(r.field,o)});let i=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}}function wg(t,e){let i=t.filters.concat([e]);return new Xr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function Ig(t,e,i){return new Xr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Vd(t,e){return F_(ti(t),ti(e))&&t.limitType===e.limitType}function KE(t){return`${N_(ti(t))}|lt:${t.limitType}`}function is(t){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>GE(r)).join(", ")}]`),Nd(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>hs(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>hs(r)).join(",")),`Target(${n})`}(ti(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ae.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(let o of hc(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,a,l){let u=hE(s,a,l);return s.inclusive?u<=0:u<0}(n.startAt,hc(n),r)||n.endAt&&!function(s,a,l){let u=hE(s,a,l);return s.inclusive?u>=0:u>0}(n.endAt,hc(n),r))}(t,e)}function xN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YE(t){return(e,i)=>{let n=!1;for(let r of hc(t)){let o=PN(r,e,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function PN(t,e,i){let n=t.field.isKeyField()?ae.comparator(e.key,i.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ds(l,u):le()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return le()}}var cr=class{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){let i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){let i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(i,n)=>{for(let[r,o]of n)e(r,o)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}};var kN=new st(ae.comparator);function Ai(){return kN}var QE=new st(ae.comparator);function uc(...t){let e=QE;for(let i of t)e=e.insert(i.key,i);return e}function XE(t){let e=QE;return t.forEach((i,n)=>e=e.insert(i,n.overlayedDocument)),e}function Gr(){return fc()}function JE(){return fc()}function fc(){return new cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var DN=new st(ae.comparator),RN=new Bt(ae.comparator);function Se(...t){let e=RN;for(let i of t)e=e.add(i);return e}var ON=new Bt(De);function MN(){return ON}function ZE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function eC(t){return{integerValue:""+t}}function NN(t,e){return bN(e)?eC(e):ZE(t,e)}var ms=class{constructor(){this._=void 0}};function FN(t,e,i){return t instanceof gs?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&R_(o)&&(o=O_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,e):t instanceof Jr?nC(t,e):t instanceof Zr?iC(t,e):function(r,o){let s=tC(r,o),a=gE(s)+gE(r.Pe);return ug(s)&&ug(r.Pe)?eC(a):ZE(r.serializer,a)}(t,e)}function VN(t,e,i){return t instanceof Jr?nC(t,e):t instanceof Zr?iC(t,e):i}function tC(t,e){return t instanceof _s?function(n){return ug(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}var gs=class extends ms{},Jr=class extends ms{constructor(e){super(),this.elements=e}};function nC(t,e){let i=rC(e);for(let n of t.elements)i.some(r=>ii(r,n))||i.push(n);return{arrayValue:{values:i}}}var Zr=class extends ms{constructor(e){super(),this.elements=e}};function iC(t,e){let i=rC(e);for(let n of t.elements)i=i.filter(r=>!ii(r,n));return{arrayValue:{values:i}}}var _s=class extends ms{constructor(e,i){super(),this.serializer=e,this.Pe=i}};function gE(t){return ot(t.integerValue||t.doubleValue)}function rC(t){return M_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LN(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Jr&&r instanceof Jr||n instanceof Zr&&r instanceof Zr?us(n.elements,r.elements,ii):n instanceof _s&&r instanceof _s?ii(n.Pe,r.Pe):n instanceof gs&&r instanceof gs}(t.transform,e.transform)}var Eg=class{constructor(e,i){this.version=e,this.transformResults=i}},Ci=class t{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var vs=class{};function oC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vc(t.key,Ci.none()):new eo(t.key,t.data,Ci.none());{let i=t.data,n=an.empty(),r=new Bt(cn.comparator);for(let o of e.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new ri(t.key,n,new _n(r.toArray()),Ci.none())}}function UN(t,e,i){t instanceof eo?function(r,o,s){let a=r.value.clone(),l=vE(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,i):t instanceof ri?function(r,o,s){if(!nd(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=vE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(sC(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,i)}function pc(t,e,i,n){return t instanceof eo?function(o,s,a,l){if(!nd(o.precondition,s))return a;let u=o.value.clone(),h=bE(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,i,n):t instanceof ri?function(o,s,a,l){if(!nd(o.precondition,s))return a;let u=bE(o.fieldTransforms,l,s),h=s.data;return h.setAll(sC(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,i,n):function(o,s,a){return nd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,i)}function jN(t,e){let i=null;for(let n of t.fieldTransforms){let r=e.data.field(n.field),o=tC(n.transform,r||null);o!=null&&(i===null&&(i=an.empty()),i.set(n.field,o))}return i||null}function _E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&us(n,r,(o,s)=>LN(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var eo=class extends vs{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ri=class extends vs{constructor(e,i,n,r,o=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sC(t){let e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=t.data.field(i);e.set(i,n)}}),e}function vE(t,e,i){let n=new Map;Ge(t.length===i.length);for(let r=0;r<i.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);n.set(o.field,VN(s,a,i[r]))}return n}function bE(t,e,i){let n=new Map;for(let r of t){let o=r.transform,s=i.data.field(r.field);n.set(r.field,FN(o,s,e))}return n}var vc=class extends vs{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Cg=class extends vs{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Tg=class{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&UN(o,e,n[r])}}applyToLocalView(e,i){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(i=pc(n,e,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(i=pc(n,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){let n=JE();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=i.has(r.key)?null:a;let l=oC(s,a);l!==null&&n.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),n}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Se())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(i,n)=>_E(i,n))&&us(this.baseMutations,e.baseMutations,(i,n)=>_E(i,n))}},Sg=class t{constructor(e,i,n,r){this.batch=e,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(e,i,n){Ge(e.mutations.length===n.length);let r=function(){return DN}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new t(e,i,n,r)}};var Ag=class{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xg=class{constructor(e,i){this.count=e,this.unchangedNames=i}};var pt,Ae;function BN(t){switch(t){default:return le();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function aC(t){if(t===void 0)return Ti("GRPC error has no .code"),U.UNKNOWN;switch(t){case pt.OK:return U.OK;case pt.CANCELLED:return U.CANCELLED;case pt.UNKNOWN:return U.UNKNOWN;case pt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case pt.INTERNAL:return U.INTERNAL;case pt.UNAVAILABLE:return U.UNAVAILABLE;case pt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case pt.NOT_FOUND:return U.NOT_FOUND;case pt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case pt.ABORTED:return U.ABORTED;case pt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case pt.DATA_LOSS:return U.DATA_LOSS;default:return le()}}(Ae=pt||(pt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";var yE=null;function zN(){return new TextEncoder}var $N=new or([4294967295,4294967295],0);function wE(t){let e=zN().encode(t),i=new zm;return i.update(e),new Uint8Array(i.digest())}function IE(t){let e=new DataView(t.buffer),i=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new or([i,n],0),new or([r,o],0)]}var Pg=class t{constructor(e,i,n){if(this.bitmap=e,this.padding=i,this.hashCount=n,i<0||i>=8)throw new Wr(`Invalid padding: ${i}`);if(n<0)throw new Wr(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Wr(`Invalid hash count: ${n}`);if(e.length===0&&i!==0)throw new Wr(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=or.fromNumber(this.Ie)}Ee(e,i,n){let r=e.add(i.multiply(or.fromNumber(n)));return r.compare($N)===1&&(r=new or([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let i=wE(e),[n,r]=IE(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);if(!this.de(s))return!1}return!0}static create(e,i,n){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,i);return n.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let i=wE(e),[n,r]=IE(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);this.Ae(s)}}Ae(e){let i=Math.floor(e/8),n=e%8;this.bitmap[i]|=1<<n}},Wr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ud=class t{constructor(e,i,n,r,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i,n){let r=new Map;return r.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,i,n)),new t(_e.min(),r,new st(De),Ai(),Se())}},bc=class t{constructor(e,i,n,r,o){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i,n){return new t(n,i,Se(),Se(),Se())}};var as=class{constructor(e,i,n,r){this.Re=e,this.removedTargetIds=i,this.key=n,this.Ve=r}},dd=class{constructor(e,i){this.targetId=e,this.me=i}},hd=class{constructor(e,i,n=Kt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}},fd=class{constructor(){this.fe=0,this.ge=CE(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Se(),i=Se(),n=Se();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:le()}}),new bc(this.pe,this.ye,e,i,n)}ve(){this.we=!1,this.ge=CE()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},kg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ai(),this.qe=EE(),this.Qe=new st(De)}Ke(e){for(let i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(let i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{let n=this.Ge(i);switch(e.state){case 0:this.ze(i)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(e.resumeToken));break;default:le()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(e){let i=e.targetId,n=e.me.count,r=this.Je(i);if(r){let o=r.target;if(yg(o))if(n===0){let s=new ae(o.path);this.Ue(i,s,Mn.newNoDocument(s,_e.min()))}else Ge(n===1);else{let s=this.Ye(i);if(s!==n){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(i);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,u)}yE?.et(function(h,p,b,C,O){var L,R,$,Z,Q,ne;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:b.database,projectId:b.projectId},fe=p.unchangedNames;return fe&&(Fe.bloomFilter={applied:O===0,hashCount:(L=fe?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(Z=($=(R=fe?.bits)===null||R===void 0?void 0:R.bitmap)===null||$===void 0?void 0:$.length)!==null&&Z!==void 0?Z:0,padding:(ne=(Q=fe?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&ne!==void 0?ne:0,mightContain:T=>{var y;return(y=C?.mightContain(T))!==null&&y!==void 0&&y}}),Fe}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let i=e.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,a;try{s=ar(n).toUint8Array()}catch(l){if(l instanceof ad)return ls("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pg(s,r,o)}catch(l){return ls(l instanceof Wr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,i,n){return i.me.count===n-this.nt(e,i.targetId)?0:2}nt(e,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(i,o,null),r++)}),r}rt(e){let i=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&yg(a.target)){let l=new ae(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Mn.newNoDocument(l,e))}o.be&&(i.set(s,o.Ce()),o.ve())}});let n=Se();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new ud(e,i,this.Qe,this.ke,n);return this.ke=Ai(),this.qe=EE(),this.Qe=new st(De),r}$e(e,i){if(!this.ze(e))return;let n=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,n){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let i=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new fd,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Bt(De),this.qe=this.qe.insert(e,i)),i}ze(e){let i=this.Je(e)!==null;return i||te("WatchChangeAggregator","Detected inactive target",e),i}Je(e){let i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fd),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}};function EE(){return new st(ae.comparator)}function CE(){return new st(ae.comparator)}var qN={asc:"ASCENDING",desc:"DESCENDING"},GN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WN={and:"AND",or:"OR"},Dg=class{constructor(e,i){this.databaseId=e,this.useProto3Json=i}};function Rg(t,e){return t.useProto3Json||Nd(e)?e:{value:e}}function pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HN(t,e){return pd(t,e.toTimestamp())}function ni(t){return Ge(!!t),_e.fromTimestamp(function(i){let n=Si(i);return new Dt(n.seconds,n.nanos)}(t))}function V_(t,e){return Og(t,e).canonicalString()}function Og(t,e){let i=function(r){return new Ze(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?i:i.child(e)}function lC(t){let e=Ze.fromString(t);return Ge(pC(e)),e}function Mg(t,e){return V_(t.databaseId,e.path)}function Ym(t,e){let i=lC(e);if(i.get(1)!==t.databaseId.projectId)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new Y(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new ae(dC(i))}function uC(t,e){return V_(t.databaseId,e)}function KN(t){let e=lC(t);return e.length===4?Ze.emptyPath():dC(e)}function Ng(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dC(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TE(t,e,i){return{name:Mg(t,e),fields:i.value.mapValue.fields}}function YN(t,e){let i;if("targetChange"in e){e.targetChange;let n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ge(h===void 0||typeof h=="string"),Kt.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Kt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?U.UNKNOWN:aC(u.code);return new Y(h,u.message||"")}(s);i=new hd(n,r,o,a||null)}else if("documentChange"in e){e.documentChange;let n=e.documentChange;n.document,n.document.name,n.document.updateTime;let r=Ym(t,n.document.name),o=ni(n.document.updateTime),s=n.document.createTime?ni(n.document.createTime):_e.min(),a=new an({mapValue:{fields:n.document.fields}}),l=Mn.newFoundDocument(r,o,s,a),u=n.targetIds||[],h=n.removedTargetIds||[];i=new as(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let n=e.documentDelete;n.document;let r=Ym(t,n.document),o=n.readTime?ni(n.readTime):_e.min(),s=Mn.newNoDocument(r,o),a=n.removedTargetIds||[];i=new as([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let n=e.documentRemove;n.document;let r=Ym(t,n.document),o=n.removedTargetIds||[];i=new as([],o,r,null)}else{if(!("filter"in e))return le();{e.filter;let n=e.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new xg(r,o),a=n.targetId;i=new dd(a,s)}}return i}function QN(t,e){let i;if(e instanceof eo)i={update:TE(t,e.key,e.value)};else if(e instanceof vc)i={delete:Mg(t,e.key)};else if(e instanceof ri)i={update:TE(t,e.key,e.data),updateMask:oF(e.fieldMask)};else{if(!(e instanceof Cg))return le();i={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(n=>function(o,s){let a=s.transform;if(a instanceof gs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _s)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw le()}(0,n))),e.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:HN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(t,e.precondition)),i}function XN(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(i=>function(r,o){let s=r.updateTime?ni(r.updateTime):ni(o);return s.isEqual(_e.min())&&(s=ni(o)),new Eg(s,r.transformResults||[])}(i,e))):[]}function JN(t,e){return{documents:[uC(t,e.path)]}}function ZN(t,e){let i={structuredQuery:{}},n=e.path,r;e.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=uC(t,r);let o=function(u){if(u.length!==0)return fC(Nn.create(u,"and"))}(e.filters);o&&(i.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(b){return{field:rs(b.field),direction:nF(b.dir)}}(h))}(e.orderBy);s&&(i.structuredQuery.orderBy=s);let a=Rg(t,e.limit);return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:i,parent:r}}function eF(t){let e=KN(t.parent),i=t.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){Ge(n===1);let h=i.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];i.where&&(o=function(p){let b=hC(p);return b instanceof Nn&&$E(b)?b.getFilters():[b]}(i.where));let s=[];i.orderBy&&(s=function(p){return p.map(b=>function(O){return new ps(os(O.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(b))}(i.orderBy));let a=null;i.limit&&(a=function(p){let b;return b=typeof p=="object"?p.value:p,Nd(b)?null:b}(i.limit));let l=null;i.startAt&&(l=function(p){let b=!!p.before,C=p.values||[];return new fs(C,b)}(i.startAt));let u=null;return i.endAt&&(u=function(p){let b=!p.before,C=p.values||[];return new fs(C,b)}(i.endAt)),SN(e,r,s,o,a,"F",l,u)}function tF(t,e){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function hC(t){return t.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=os(i.unaryFilter.field);return gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=os(i.unaryFilter.field);return gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=os(i.unaryFilter.field);return gt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=os(i.unaryFilter.field);return gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(i){return gt.create(os(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(i.fieldFilter.op),i.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(i){return Nn.create(i.compositeFilter.filters.map(n=>hC(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return le()}}(i.compositeFilter.op))}(t):le()}function nF(t){return qN[t]}function iF(t){return GN[t]}function rF(t){return WN[t]}function rs(t){return{fieldPath:t.canonicalString()}}function os(t){return cn.fromServerFormat(t.fieldPath)}function fC(t){return t instanceof gt?function(i){if(i.op==="=="){if(dE(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NAN"}};if(uE(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dE(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NAN"}};if(uE(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(i.field),op:iF(i.op),value:i.value}}}(t):t instanceof Nn?function(i){let n=i.getFilters().map(r=>fC(r));return n.length===1?n[0]:{compositeFilter:{op:rF(i.op),filters:n}}}(t):le()}function oF(t){let e=[];return t.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function pC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yc=class t{constructor(e,i,n,r,o=_e.min(),s=_e.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Fg=class{constructor(e){this.ct=e}};function sF(t){let e=eF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}var md=class{constructor(){}Pt(e,i){this.It(e,i),i.Tt()}It(e,i){if("nullValue"in e)this.Et(i,5);else if("booleanValue"in e)this.Et(i,10),i.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(i,15),i.dt(ot(e.integerValue));else if("doubleValue"in e){let n=ot(e.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),mc(n)?i.dt(0):i.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(i,20),typeof n=="string"&&(n=Si(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,i),this.Vt(i);else if("bytesValue"in e)this.Et(i,30),i.ft(ar(e.bytesValue)),this.Vt(i);else if("referenceValue"in e)this.gt(e.referenceValue,i);else if("geoPointValue"in e){let n=e.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in e?jE(e)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,i),this.Vt(i)):"arrayValue"in e?(this.wt(e.arrayValue,i),this.Vt(i)):le()}Rt(e,i){this.Et(i,25),this.St(e,i)}St(e,i){i.At(e)}yt(e,i){let n=e.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(e,i){let n=e.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(e,i){this.Et(i,37),ae.fromName(e).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(e,i){e.dt(i)}Vt(e){e.dt(2)}};md.bt=new md;var Vg=class{constructor(){this._n=new Lg}addToCollectionParentIndex(e,i){return this._n.add(i),z.resolve()}getCollectionParents(e,i){return z.resolve(this._n.getEntries(i))}addFieldIndex(e,i){return z.resolve()}deleteFieldIndex(e,i){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,i){return z.resolve()}getDocumentsMatchingTarget(e,i){return z.resolve(null)}getIndexType(e,i){return z.resolve(0)}getFieldIndexes(e,i){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,i){return z.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,i){return z.resolve(Yr.min())}updateCollectionGroup(e,i,n){return z.resolve()}updateIndexEntries(e,i){return z.resolve()}},Lg=class{constructor(){this.index={}}add(e){let i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new Bt(Ze.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(e){let i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Bt(Ze.comparator)).toArray()}};var i$=new Uint8Array(0);var Zn=class t{constructor(e,i,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);var wc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Ug=class{constructor(){this.changes=new cr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?z.resolve(n):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jg=class{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}};var Bg=class{constructor(e,i,n,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,i){let n=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(n!==null&&pc(n.mutation,r,_n.empty(),Dt.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.getLocalViewOfDocuments(e,n,Se()).next(()=>n))}getLocalViewOfDocuments(e,i,n=Se()){let r=Gr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,n).next(o=>{let s=uc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,i){let n=Gr();return this.populateOverlays(e,n,i).next(()=>this.computeViews(e,i,n,Se()))}populateOverlays(e,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{i.set(s,a)})})}computeViews(e,i,n,r){let o=Ai(),s=fc(),a=function(){return fc()}();return i.forEach((l,u)=>{let h=n.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof ri)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),pc(h.mutation,u,h.mutation.getFieldMask(),Dt.now())):s.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),i.forEach((u,h)=>{var p;return a.set(u,new jg(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,i){let n=fc(),r=new st((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=i.get(l);if(u===null)return;let h=n.get(l)||_n.empty();h=a.applyToLocalView(u,h),n.set(l,h);let p=(r.get(a.batchId)||Se()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=JE();h.forEach(b=>{if(!o.has(b)){let C=oC(i.get(b),n.get(b));C!==null&&p.set(b,C),o=o.add(b)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return z.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,i,n,r){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):HE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,n,r):this.getDocumentsMatchingCollectionQuery(e,i,n,r)}getNextDocuments(e,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,n.largestBatchId,r-o.size):z.resolve(Gr()),a=-1,l=o;return s.next(u=>z.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(b=>{l=l.insert(h,b)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:XE(h)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ae(i)).next(n=>{let r=uc();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,n,r){let o=i.collectionGroup,s=uc();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{let u=function(p,b){return new Xr(b,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,n,r).next(h=>{h.forEach((p,b)=>{s=s.insert(p,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,n,o,r))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Mn.newInvalidDocument(h)))});let a=uc();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&pc(h.mutation,u,_n.empty(),Dt.now()),Ld(i,u)&&(a=a.insert(l,u))}),a})}};var zg=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,i){return z.resolve(this.cr.get(i))}saveBundleMetadata(e,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:ni(r.createTime)}}(i)),z.resolve()}getNamedQuery(e,i){return z.resolve(this.lr.get(i))}saveNamedQuery(e,i){return this.lr.set(i.name,function(r){return{name:r.name,query:sF(r.bundledQuery),readTime:ni(r.readTime)}}(i)),z.resolve()}};var $g=class{constructor(){this.overlays=new st(ae.comparator),this.hr=new Map}getOverlay(e,i){return z.resolve(this.overlays.get(i))}getOverlays(e,i){let n=Gr();return z.forEach(i,r=>this.getOverlay(e,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(e,i,n){return n.forEach((r,o)=>{this.ht(e,i,o)}),z.resolve()}removeOverlaysForBatchId(e,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),z.resolve()}getOverlaysForCollection(e,i,n){let r=Gr(),o=i.length+1,s=new ae(i.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!i.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return z.resolve(r)}getOverlaysForCollectionGroup(e,i,n,r){let o=new st((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===i&&u.largestBatchId>n){let h=o.get(u.largestBatchId);h===null&&(h=Gr(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Gr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return z.resolve(a)}ht(e,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Ag(i,n));let o=this.hr.get(i);o===void 0&&(o=Se(),this.hr.set(i,o)),this.hr.set(i,o.add(n.key))}};var Ic=class{constructor(){this.Pr=new Bt(mt.Ir),this.Tr=new Bt(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,i){let n=new mt(e,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.Ar(new mt(e,i))}Rr(e,i){e.forEach(n=>this.removeReference(n,i))}Vr(e){let i=new ae(new Ze([])),n=new mt(i,e),r=new mt(i,e+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let i=new ae(new Ze([])),n=new mt(i,e),r=new mt(i,e+1),o=Se();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(e){let i=new mt(e,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}},mt=class{constructor(e,i){this.key=e,this.pr=i}static Ir(e,i){return ae.comparator(e.key,i.key)||De(e.pr,i.pr)}static Er(e,i){return De(e.pr,i.pr)||ae.comparator(e.key,i.key)}};var qg=class{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Bt(mt.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,n,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Tg(o,i,n,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,i){return z.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(e,i){let n=i+1,r=this.br(n),o=r<0?0:r;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){let n=new mt(i,0),r=new mt(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{let a=this.Sr(s.pr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new Bt(De);return i.forEach(r=>{let o=new mt(r,0),s=new mt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{n=n.add(a.pr)})}),z.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,i){let n=i.path,r=n.length+1,o=n;ae.isDocumentKey(o)||(o=o.child(""));let s=new mt(new ae(o),0),a=new Bt(De);return this.wr.forEachWhile(l=>{let u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.pr)),!0)},s),z.resolve(this.Dr(a))}Dr(e){let i=[];return e.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){Ge(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return z.forEach(i.mutations,r=>{let o=new mt(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,i){let n=new mt(i,0),r=this.wr.firstAfterOrEqual(n);return z.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,i){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let i=this.br(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var Gg=class{constructor(e){this.vr=e,this.docs=function(){return new st(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){let n=this.docs.get(i);return z.resolve(n?n.document.mutableCopy():Mn.newInvalidDocument(i))}getEntries(e,i){let n=Ai();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))}),z.resolve(n)}getDocumentsMatchingQuery(e,i,n,r){let o=Ai(),s=i.path,a=new ae(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||gN(mN(h),n)<=0||(r.has(h.key)||Ld(i,h))&&(o=o.insert(h.key,h.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,i,n,r){le()}Fr(e,i){return z.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new Wg(this)}getSize(e){return z.resolve(this.size)}},Wg=class extends Ug{constructor(e){super(),this.ar=e}applyChanges(e){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)}),z.waitFor(i)}getFromCache(e,i){return this.ar.getEntry(e,i)}getAllFromCache(e,i){return this.ar.getEntries(e,i)}};var Hg=class{constructor(e){this.persistence=e,this.Mr=new cr(i=>N_(i),F_),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ic,this.targetCount=0,this.Lr=wc.Nn()}forEachTarget(e,i){return this.Mr.forEach((n,r)=>i(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),z.resolve()}qn(e){this.Mr.set(e.target,e);let i=e.targetId;i>this.highestTargetId&&(this.Lr=new wc(i),this.highestTargetId=i),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,i){return this.qn(i),this.targetCount+=1,z.resolve()}updateTargetData(e,i){return this.qn(i),z.resolve()}removeTargetData(e,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,i,n){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=i&&n.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),z.waitFor(o).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,i){let n=this.Mr.get(i)||null;return z.resolve(n)}addMatchingKeys(e,i,n){return this.Nr.dr(i,n),z.resolve()}removeMatchingKeys(e,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.Nr.Vr(i),z.resolve()}getMatchingKeysForTargetId(e,i){let n=this.Nr.gr(i);return z.resolve(n)}containsKey(e,i){return z.resolve(this.Nr.containsKey(i))}};var Kg=class{constructor(e,i){this.Br={},this.overlays={},this.kr=new LE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Hg(this),this.indexManager=new Vg,this.remoteDocumentCache=function(r){return new Gg(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new Fg(i),this.$r=new zg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $g,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let n=this.Br[e.toKey()];return n||(n=new qg(i,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,i,n){te("MemoryPersistence","Starting transaction:",e);let r=new Yg(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,i){return z.or(Object.values(this.Br).map(n=>()=>n.containsKey(e,i)))}},Yg=class extends ag{constructor(e){super(),this.currentSequenceNumber=e}},Qg=class t{constructor(e){this.persistence=e,this.zr=new Ic,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),z.resolve()}removeReference(e,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),z.resolve()}markPotentiallyOrphaned(e,i){return this.Jr.add(i.toString()),z.resolve()}removeTarget(e,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(e,i))}Ur(){this.jr=new Set}Wr(e){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,n=>{let r=ae.fromPath(n);return this.Yr(e,r).next(o=>{o||i.removeEntry(r,_e.min())})}).next(()=>(this.jr=null,i.apply(e)))}updateLimboDocument(e,i){return this.Yr(e,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(e){return 0}Yr(e,i){return z.or([()=>z.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gr(e,i)])}};var Xg=class t{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(e,i){let n=Se(),r=Se();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,i.fromCache,n,r)}};var Jg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Zg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return aw()?8:vN(vt())>0?6:4}()}initialize(e,i){this.zi=e,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(e,i,n,r){let o={result:null};return this.ji(e,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jg;return this.Ji(e,i,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,i,s,a.size)})}).next(()=>o.result)}Yi(e,i,n,r){return n.documentReadCount<this.Wi?(lc()<=Te.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(lc()<=Te.DEBUG&&te("QueryEngine","Query:",is(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(lc()<=Te.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):z.resolve())}ji(e,i){if(mE(i))return z.resolve(null);let n=ti(i);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Ig(i,null,"F"),n=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{let s=Se(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{let u=this.Zi(i,a);return this.Xi(i,u,s,l.readTime)?this.ji(e,Ig(i,null,"F")):this.es(e,u,i,l)}))})))}Hi(e,i,n,r){return mE(i)||r.isEqual(_e.min())?z.resolve(null):this.zi.getDocuments(e,n).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,n,r)?z.resolve(null):(lc()<=Te.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),is(i)),this.es(e,s,i,pN(r,-1)).next(a=>a))})}Zi(e,i){let n=new Bt(YE(e));return i.forEach((r,o)=>{Ld(e,o)&&(n=n.add(o))}),n}Xi(e,i,n,r){if(e.limit===null)return!1;if(n.size!==i.size)return!0;let o=e.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,i,n){return lc()<=Te.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",is(i)),this.zi.getDocumentsMatchingQuery(e,i,Yr.min(),n)}es(e,i,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var e_=class{constructor(e,i,n,r){this.persistence=e,this.ts=i,this.serializer=r,this.ns=new st(De),this.rs=new cr(o=>N_(o),F_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.ns))}};function aF(t,e,i,n){return new e_(t,e,i,n)}function mC(t,e){return g(this,null,function*(){let i=me(t);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i._s(e),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],a=[],l=Se();for(let u of r){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(n,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})})}function cF(t,e){let i=me(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=e.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,b=p.keys(),C=z.resolve();return b.forEach(O=>{C=C.next(()=>h.getEntry(l,O)).next(L=>{let R=u.docVersions.get(O);Ge(R!==null),L.version.compareTo(R)<0&&(p.applyToRemoteDocument(L,u),L.isValidDocument()&&(L.setReadTime(u.commitVersion),h.addEntry(L)))})}),C.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(i,n,e,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>i.localDocuments.getDocuments(n,r))})}function gC(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Qr.getLastRemoteSnapshotVersion(i))}function lF(t,e){let i=me(t),n=e.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let a=[];e.targetChanges.forEach((h,p)=>{let b=r.get(p);if(!b)return;a.push(i.Qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>i.Qr.addMatchingKeys(o,h.addedDocuments,p)));let C=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?C=C.withResumeToken(Kt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,n)),r=r.insert(p,C),function(L,R,$){return L.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(b,C,h)&&a.push(i.Qr.updateTargetData(o,C))});let l=Ai(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(uF(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!n.isEqual(_e.min())){let h=i.Qr.getLastRemoteSnapshotVersion(o).next(p=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(h)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(i.ns=r,o))}function uF(t,e,i){let n=Se(),r=Se();return i.forEach(o=>n=n.add(o)),e.getEntries(t,n).next(o=>{let s=Ai();return i.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:r}})}function dF(t,e){let i=me(t);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function hF(t,e){let i=me(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,e).next(o=>o?(r=o,z.resolve(r)):i.Qr.allocateTargetId(n).next(s=>(r=new yc(e,s,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(e,n.targetId)),n})}function t_(t,e,i){return g(this,null,function*(){let n=me(t),r=n.ns.get(e),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Dc(s))throw s;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.ns=n.ns.remove(e),n.rs.delete(r.target)})}function SE(t,e,i){let n=me(t),r=_e.min(),o=Se();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=me(l),b=p.rs.get(h);return b!==void 0?z.resolve(p.ns.get(b)):p.Qr.getTargetData(u,h)}(n,s,ti(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,e,i?r:_e.min(),i?o:Se())).next(a=>(fF(n,xN(e),a),{documents:a,hs:o})))}function fF(t,e,i){let n=t.ss.get(e)||_e.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),t.ss.set(e,n)}var gd=class{constructor(){this.activeTargetIds=MN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var n_=class{constructor(){this.no=new gd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,i,n){this.ro[e]=i}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gd,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var i_=class{io(e){}shutdown(){}};var _d=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ed=null;function Qm(){return ed===null?ed=function(){return 268435456+Math.round(2147483648*Math.random())}():ed++,"0x"+ed.toString(16)}var pF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var r_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var jt="WebChannelConnection",o_=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,n,r,o,s){let a=Qm(),l=this.vo(i,n.toUriEncodedString());te("RestConnection",`Sending RPC '${i}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(i,l,u,r).then(h=>(te("RestConnection",`Received RPC '${i}' ${a}: `,h),h),h=>{throw ls("RestConnection",`RPC '${i}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}xo(i,n,r,o,s,a){return this.Co(i,n,r,o,s)}Fo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,n){let r=pF[i];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,i,n,r){let o=Qm();return new Promise((s,a)=>{let l=new $m;l.setWithCredentials(!0),l.listenOnce(Gm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cc.NO_ERROR:let h=l.getResponseJson();te(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case cc.TIMEOUT:te(jt,`RPC '${e}' ${o} timed out`),a(new Y(U.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:let p=l.getStatus();if(te(jt,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let b=l.getResponseJson();Array.isArray(b)&&(b=b[0]);let C=b?.error;if(C&&C.status&&C.message){let O=function(R){let $=R.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf($)>=0?$:U.UNKNOWN}(C.status);a(new Y(O,C.message))}else a(new Y(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(U.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{te(jt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);te(jt,`RPC '${e}' ${o} sending request:`,r),l.send(i,"POST",u,n,15)})}Oo(e,i,n){let r=Qm(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Km(),a=Hm(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new qm({})),this.Fo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let h=o.join("");te(jt,`Creating RPC '${e}' stream ${r}: ${h}`,l);let p=s.createWebChannel(h,l),b=!1,C=!1,O=new r_({lo:R=>{C?te(jt,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(b||(te(jt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),b=!0),te(jt,`RPC '${e}' stream ${r} sending:`,R),p.send(R))},ho:()=>p.close()}),L=(R,$,Z)=>{R.listen($,Q=>{try{Z(Q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return L(p,ns.EventType.OPEN,()=>{C||(te(jt,`RPC '${e}' stream ${r} transport opened.`),O.mo())}),L(p,ns.EventType.CLOSE,()=>{C||(C=!0,te(jt,`RPC '${e}' stream ${r} transport closed`),O.po())}),L(p,ns.EventType.ERROR,R=>{C||(C=!0,ls(jt,`RPC '${e}' stream ${r} transport errored:`,R),O.po(new Y(U.UNAVAILABLE,"The operation could not be completed")))}),L(p,ns.EventType.MESSAGE,R=>{var $;if(!C){let Z=R.data[0];Ge(!!Z);let Q=Z,ne=Q.error||(($=Q[0])===null||$===void 0?void 0:$.error);if(ne){te(jt,`RPC '${e}' stream ${r} received error:`,ne);let Fe=ne.status,fe=function(w){let S=pt[w];if(S!==void 0)return aC(S)}(Fe),T=ne.message;fe===void 0&&(fe=U.INTERNAL,T="Unknown error status: "+Fe+" with message "+ne.message),C=!0,O.po(new Y(fe,T)),p.close()}else te(jt,`RPC '${e}' stream ${r} received:`,Z),O.yo(Z)}}),L(a,Wm.STAT_EVENT,R=>{R.stat===Ju.PROXY?te(jt,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===Ju.NOPROXY&&te(jt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.fo()},0),O}};function Xm(){return typeof document<"u"?document:null}function Ud(t){return new Dg(t,!0)}var vd=class{constructor(e,i,n=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=i,this.No=n,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let i=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-n);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var bd=class{constructor(e,i,n,r,o,s,a,l){this.oi=e,this.Go=n,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new vd(e,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return g(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return g(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,i){return g(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():i&&i.code===U.RESOURCE_EXHAUSTED?(Ti(i.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===i&&this.u_(n,r)},n=>{e(()=>{let r=new Y(U.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(e,i){let n=this.a_(this.jo);this.stream=this.l_(e,i),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>g(this,null,function*(){this.state=0,this.start()}))}c_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return i=>{this.oi.enqueueAndForget(()=>this.jo===e?i():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},s_=class extends bd{constructor(e,i,n,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}l_(e,i){return this.connection.Oo("Listen",e,i)}onMessage(e){this.Yo.reset();let i=YN(this.serializer,e),n=function(o){if(!("targetChange"in o))return _e.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?ni(s.readTime):_e.min()}(e);return this.listener.h_(i,n)}P_(e){let i={};i.database=Ng(this.serializer),i.addTarget=function(o,s){let a,l=s.target;if(a=yg(l)?{documents:JN(o,l)}:{query:ZN(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cC(o,s.resumeToken);let u=Rg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=pd(o,s.snapshotVersion.toTimestamp());let u=Rg(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let n=tF(this.serializer,e);n&&(i.labels=n),this.i_(i)}I_(e){let i={};i.database=Ng(this.serializer),i.removeTarget=e,this.i_(i)}},a_=class extends bd{constructor(e,i,n,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,i){return this.connection.Oo("Write",e,i)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let i=XN(e.writeResults,e.commitTime),n=ni(e.commitTime);return this.listener.A_(n,i)}return Ge(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Ng(this.serializer),this.i_(e)}d_(e){let i={streamToken:this.lastStreamToken,writes:e.map(n=>QN(this.serializer,n))};this.i_(i)}};var c_=class extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,i,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Og(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(U.UNKNOWN,o.toString())})}xo(e,i,n,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Og(i,n),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(U.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},l_=class{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ti(i),this.y_=!1):te("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var u_=class{constructor(e,i,n,r,o){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{n.enqueueAndForget(()=>g(this,null,function*(){io(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(l){return g(this,null,function*(){let u=me(l);u.M_.add(4),yield Rc(u),u.N_.set("Unknown"),u.M_.delete(4),yield jd(u)})}(this))}))}),this.N_=new l_(n,r)}};function jd(t){return g(this,null,function*(){if(io(t))for(let e of t.x_)yield e(!0)})}function Rc(t){return g(this,null,function*(){for(let e of t.x_)yield e(!1)})}function _C(t,e){let i=me(t);i.F_.has(e.targetId)||(i.F_.set(e.targetId,e),B_(i)?j_(i):Es(i).Xo()&&U_(i,e))}function L_(t,e){let i=me(t),n=Es(i);i.F_.delete(e),n.Xo()&&vC(i,e),i.F_.size===0&&(n.Xo()?n.n_():io(i)&&i.N_.set("Unknown"))}function U_(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Es(t).P_(e)}function vC(t,e){t.L_.xe(e),Es(t).I_(e)}function j_(t){t.L_=new kg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Es(t).start(),t.N_.w_()}function B_(t){return io(t)&&!Es(t).Zo()&&t.F_.size>0}function io(t){return me(t).M_.size===0}function bC(t){t.L_=void 0}function mF(t){return g(this,null,function*(){t.N_.set("Online")})}function gF(t){return g(this,null,function*(){t.F_.forEach((e,i)=>{U_(t,e)})})}function _F(t,e){return g(this,null,function*(){bC(t),B_(t)?(t.N_.D_(e),j_(t)):t.N_.set("Unknown")})}function vF(t,e,i){return g(this,null,function*(){if(t.N_.set("Online"),e instanceof hd&&e.state===2&&e.cause)try{yield function(r,o){return g(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(n){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield yd(t,n)}else if(e instanceof as?t.L_.Ke(e):e instanceof dd?t.L_.He(e):t.L_.We(e),!i.isEqual(_e.min()))try{let n=yield gC(t.localStore);i.compareTo(n)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.F_.get(u);h&&o.F_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.F_.get(l);if(!h)return;o.F_.set(l,h.withResumeToken(Kt.EMPTY_BYTE_STRING,h.snapshotVersion)),vC(o,l);let p=new yc(h.target,l,u,h.sequenceNumber);U_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,i))}catch(n){te("RemoteStore","Failed to raise snapshot:",n),yield yd(t,n)}})}function yd(t,e,i){return g(this,null,function*(){if(!Dc(e))throw e;t.M_.add(1),yield Rc(t),t.N_.set("Offline"),i||(i=()=>gC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield i(),t.M_.delete(1),yield jd(t)}))})}function yC(t,e){return e().catch(i=>yd(t,i,e))}function Bd(t){return g(this,null,function*(){let e=me(t),i=lr(e),n=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;bF(e);)try{let r=yield dF(e.localStore,n);if(r===null){e.v_.length===0&&i.n_();break}n=r.batchId,yF(e,r)}catch(r){yield yd(e,r)}wC(e)&&IC(e)})}function bF(t){return io(t)&&t.v_.length<10}function yF(t,e){t.v_.push(e);let i=lr(t);i.Xo()&&i.E_&&i.d_(e.mutations)}function wC(t){return io(t)&&!lr(t).Zo()&&t.v_.length>0}function IC(t){lr(t).start()}function wF(t){return g(this,null,function*(){lr(t).V_()})}function IF(t){return g(this,null,function*(){let e=lr(t);for(let i of t.v_)e.d_(i.mutations)})}function EF(t,e,i){return g(this,null,function*(){let n=t.v_.shift(),r=Sg.from(n,e,i);yield yC(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Bd(t)})}function CF(t,e){return g(this,null,function*(){e&&lr(t).E_&&(yield function(n,r){return g(this,null,function*(){if(function(s){return BN(s)&&s!==U.ABORTED}(r.code)){let o=n.v_.shift();lr(n).t_(),yield yC(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Bd(n)}})}(t,e)),wC(t)&&IC(t)})}function AE(t,e){return g(this,null,function*(){let i=me(t);i.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let n=io(i);i.M_.add(3),yield Rc(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.M_.delete(3),yield jd(i)})}function TF(t,e){return g(this,null,function*(){let i=me(t);e?(i.M_.delete(2),yield jd(i)):e||(i.M_.add(2),yield Rc(i),i.N_.set("Unknown"))})}function Es(t){return t.B_||(t.B_=function(i,n,r){let o=me(i);return o.f_(),new s_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:mF.bind(null,t),To:gF.bind(null,t),Ao:_F.bind(null,t),h_:vF.bind(null,t)}),t.x_.push(e=>g(this,null,function*(){e?(t.B_.t_(),B_(t)?j_(t):t.N_.set("Unknown")):(yield t.B_.stop(),bC(t))}))),t.B_}function lr(t){return t.k_||(t.k_=function(i,n,r){let o=me(i);return o.f_(),new a_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:wF.bind(null,t),Ao:CF.bind(null,t),R_:IF.bind(null,t),A_:EF.bind(null,t)}),t.x_.push(e=>g(this,null,function*(){e?(t.k_.t_(),yield Bd(t)):(yield t.k_.stop(),t.v_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var d_=class t{constructor(e,i,n,r,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,n,r,o){let s=Date.now()+n,a=new t(e,i,s,r,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function z_(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),Dc(t))return new Y(U.UNAVAILABLE,`${e}: ${t}`);throw t}var wd=class t{constructor(e){this.comparator=e?(i,n)=>e(i,n)||ae.comparator(i.key,n.key):(i,n)=>ae.comparator(i.key,n.key),this.keyedMap=uc(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){let i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){let i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){let n=new t;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}};var Id=class{constructor(){this.q_=new st(ae.comparator)}track(e){let i=e.doc.key,n=this.q_.get(i);n?e.type!==0&&n.type===3?this.q_=this.q_.insert(i,e):e.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.q_=this.q_.remove(i):e.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(i,e)}Q_(){let e=[];return this.q_.inorderTraversal((i,n)=>{e.push(n)}),e}},bs=class t{constructor(e,i,n,r,o,s,a,l,u){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,i,n,r,o){let s=[];return i.forEach(a=>{s.push({type:0,doc:a})}),new t(e,i,wd.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var h_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},f_=class{constructor(){this.queries=new cr(e=>KE(e),Vd),this.onlineState="Unknown",this.z_=new Set}};function $_(t,e){return g(this,null,function*(){let i=me(t),n=3,r=e.query,o=i.queries.get(r);o?!o.W_()&&e.G_()&&(n=2):(o=new h_,n=e.G_()?0:1);try{switch(n){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let a=z_(s,`Initialization of query '${is(e.query)}' failed`);return void e.onError(a)}i.queries.set(r,o),o.U_.push(e),e.j_(i.onlineState),o.K_&&e.H_(o.K_)&&G_(i)})}function q_(t,e){return g(this,null,function*(){let i=me(t),n=e.query,r=3,o=i.queries.get(n);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function SF(t,e){let i=me(t),n=!1;for(let r of e){let o=r.query,s=i.queries.get(o);if(s){for(let a of s.U_)a.H_(r)&&(n=!0);s.K_=r}}n&&G_(i)}function AF(t,e,i){let n=me(t),r=n.queries.get(e);if(r)for(let o of r.U_)o.onError(i);n.queries.delete(e)}function G_(t){t.z_.forEach(e=>{e.next()})}var p_,xE;(xE=p_||(p_={})).J_="default",xE.Cache="cache";var Ec=class{constructor(e,i,n){this.query=e,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){let n=[];for(let r of e.docChanges)r.type!==3&&n.push(r);e=new bs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),i=!0):this.ta(e,this.onlineState)&&(this.na(e),i=!0),this.X_=e,i}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),i=!0),i}ta(e,i){if(!e.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(e){e=bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==p_.Cache}};var Ed=class{constructor(e){this.key=e}},Cd=class{constructor(e){this.key=e}},m_=class{constructor(e,i){this.query=e,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Se(),this.mutatedKeys=Se(),this.Ia=YE(e),this.Ta=new wd(this.Ia)}get Ea(){return this.la}da(e,i){let n=i?i.Aa:new Id,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let b=r.get(h),C=Ld(this.query,p)?p:null,O=!!b&&this.mutatedKeys.has(b.key),L=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),R=!1;b&&C?b.data.isEqual(C.data)?O!==L&&(n.track({type:3,doc:C}),R=!0):this.Ra(b,C)||(n.track({type:2,doc:C}),R=!0,(l&&this.Ia(C,l)>0||u&&this.Ia(C,u)<0)&&(a=!0)):!b&&C?(n.track({type:0,doc:C}),R=!0):b&&!C&&(n.track({type:1,doc:b}),R=!0,(l||u)&&(a=!0)),R&&(C?(s=s.add(C),o=L?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),n.track({type:1,doc:h})}return{Ta:s,Aa:n,Xi:a,mutatedKeys:o}}Ra(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n,r){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,p)=>function(C,O){let L=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return L(C)-L(O)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(n),r=r!=null&&r;let a=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new bs(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Id,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(i=>this.la=this.la.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Se(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return e.forEach(n=>{this.Pa.has(n)||i.push(new Cd(n))}),this.Pa.forEach(n=>{e.has(n)||i.push(new Ed(n))}),i}pa(e){this.la=e.hs,this.Pa=Se();let i=this.da(e.documents);return this.applyChanges(i,!0)}ya(){return bs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},g_=class{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}},__=class{constructor(e){this.key=e,this.wa=!1}},v_=class{constructor(e,i,n,r,o,s){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new cr(a=>KE(a),Vd),this.Da=new Map,this.Ca=new Set,this.va=new st(ae.comparator),this.Fa=new Map,this.Ma=new Ic,this.xa={},this.Oa=new Map,this.Na=wc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function xF(t,e,i=!0){return g(this,null,function*(){let n=xC(t),r,o=n.ba.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield EC(n,e,i,!0),r})}function PF(t,e){return g(this,null,function*(){let i=xC(t);yield EC(i,e,!0,!1)})}function EC(t,e,i,n){return g(this,null,function*(){let r=yield hF(t.localStore,ti(e)),o=r.targetId,s=i?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return n&&(a=yield kF(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&i&&_C(t.remoteStore,r),a})}function kF(t,e,i,n,r){return g(this,null,function*(){t.Ba=(p,b,C)=>function(L,R,$,Z){return g(this,null,function*(){let Q=R.view.da($);Q.Xi&&(Q=yield SE(L.localStore,R.query,!1).then(({documents:T})=>R.view.da(T,Q)));let ne=Z&&Z.targetChanges.get(R.targetId),Fe=Z&&Z.targetMismatches.get(R.targetId)!=null,fe=R.view.applyChanges(Q,L.isPrimaryClient,ne,Fe);return kE(L,R.targetId,fe.fa),fe.snapshot})}(t,p,b,C);let o=yield SE(t.localStore,e,!0),s=new m_(e,o.hs),a=s.da(o.documents),l=bc.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline",r),u=s.applyChanges(a,t.isPrimaryClient,l);kE(t,i,u.fa);let h=new g_(e,i,s);return t.ba.set(e,h),t.Da.has(i)?t.Da.get(i).push(e):t.Da.set(i,[e]),u.snapshot})}function DF(t,e,i){return g(this,null,function*(){let n=me(t),r=n.ba.get(e),o=n.Da.get(r.targetId);if(o.length>1)return n.Da.set(r.targetId,o.filter(s=>!Vd(s,e))),void n.ba.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield t_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&L_(n.remoteStore,r.targetId),b_(n,r.targetId)}).catch(kc))):(b_(n,r.targetId),yield t_(n.localStore,r.targetId,!0))})}function RF(t,e){return g(this,null,function*(){let i=me(t),n=i.ba.get(e),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),L_(i.remoteStore,n.targetId))})}function OF(t,e,i){return g(this,null,function*(){let n=jF(t);try{let r=yield function(s,a){let l=me(s),u=Dt.now(),h=a.reduce((C,O)=>C.add(O.key),Se()),p,b;return l.persistence.runTransaction("Locally write mutations","readwrite",C=>{let O=Ai(),L=Se();return l.os.getEntries(C,h).next(R=>{O=R,O.forEach(($,Z)=>{Z.isValidDocument()||(L=L.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(C,O)).next(R=>{p=R;let $=[];for(let Z of a){let Q=jN(Z,p.get(Z.key).overlayedDocument);Q!=null&&$.push(new ri(Z.key,Q,BE(Q.value.mapValue),Ci.exists(!0)))}return l.mutationQueue.addMutationBatch(C,u,$,a)}).next(R=>{b=R;let $=R.applyToLocalDocumentSet(p,L);return l.documentOverlayCache.saveOverlays(C,R.batchId,$)})}).then(()=>({batchId:b.batchId,changes:XE(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new st(De)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(n,r.batchId,i),yield Oc(n,r.changes),yield Bd(n.remoteStore)}catch(r){let o=z_(r,"Failed to persist write");i.reject(o)}})}function CC(t,e){return g(this,null,function*(){let i=me(t);try{let n=yield lF(i.localStore,e);e.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(Ge(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?Ge(s.wa):r.removedDocuments.size>0&&(Ge(s.wa),s.wa=!1))}),yield Oc(i,n,e)}catch(n){yield kc(n)}})}function PE(t,e,i){let n=me(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let b of p.U_)b.j_(a)&&(u=!0)}),u&&G_(l)}(n.eventManager,e),r.length&&n.Sa.h_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function MF(t,e,i){return g(this,null,function*(){let n=me(t);n.sharedClientState.updateQueryState(e,"rejected",i);let r=n.Fa.get(e),o=r&&r.key;if(o){let s=new st(ae.comparator);s=s.insert(o,Mn.newNoDocument(o,_e.min()));let a=Se().add(o),l=new ud(_e.min(),new Map,new st(De),s,a);yield CC(n,l),n.va=n.va.remove(o),n.Fa.delete(e),W_(n)}else yield t_(n.localStore,e,!1).then(()=>b_(n,e,i)).catch(kc)})}function NF(t,e){return g(this,null,function*(){let i=me(t),n=e.batch.batchId;try{let r=yield cF(i.localStore,e);SC(i,n,null),TC(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Oc(i,r)}catch(r){yield kc(r)}})}function FF(t,e,i){return g(this,null,function*(){let n=me(t);try{let r=yield function(s,a){let l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ge(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(n.localStore,e);SC(n,e,i),TC(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),yield Oc(n,r)}catch(r){yield kc(r)}})}function TC(t,e){(t.Oa.get(e)||[]).forEach(i=>{i.resolve()}),t.Oa.delete(e)}function SC(t,e,i){let n=me(t),r=n.xa[n.currentUser.toKey()];if(r){let o=r.get(e);o&&(i?o.reject(i):o.resolve(),r=r.remove(e)),n.xa[n.currentUser.toKey()]=r}}function b_(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(let n of t.Da.get(e))t.ba.delete(n),i&&t.Sa.ka(n,i);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(n=>{t.Ma.containsKey(n)||AC(t,n)})}function AC(t,e){t.Ca.delete(e.path.canonicalString());let i=t.va.get(e);i!==null&&(L_(t.remoteStore,i),t.va=t.va.remove(e),t.Fa.delete(i),W_(t))}function kE(t,e,i){for(let n of i)n instanceof Ed?(t.Ma.addReference(n.key,e),VF(t,n)):n instanceof Cd?(te("SyncEngine","Document no longer in limbo: "+n.key),t.Ma.removeReference(n.key,e),t.Ma.containsKey(n.key)||AC(t,n.key)):le()}function VF(t,e){let i=e.key,n=i.path.canonicalString();t.va.get(i)||t.Ca.has(n)||(te("SyncEngine","New document in limbo: "+i),t.Ca.add(n),W_(t))}function W_(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let i=new ae(Ze.fromString(e)),n=t.Na.next();t.Fa.set(n,new __(i)),t.va=t.va.insert(i,n),_C(t.remoteStore,new yc(ti(Fd(i.path)),n,"TargetPurposeLimboResolution",LE.oe))}}function Oc(t,e,i){return g(this,null,function*(){let n=me(t),r=[],o=[],s=[];n.ba.isEmpty()||(n.ba.forEach((a,l)=>{s.push(n.Ba(l,e,i).then(u=>{var h;if((u||i)&&n.isPrimaryClient){let p=u?!u.fromCache:(h=i?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);let p=Xg.Ki(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),n.Sa.h_(r),yield function(l,u){return g(this,null,function*(){let h=me(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(u,b=>z.forEach(b.qi,C=>h.persistence.referenceDelegate.addReference(p,b.targetId,C)).next(()=>z.forEach(b.Qi,C=>h.persistence.referenceDelegate.removeReference(p,b.targetId,C)))))}catch(p){if(!Dc(p))throw p;te("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let b=p.targetId;if(!p.fromCache){let C=h.ns.get(b),O=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(O);h.ns=h.ns.insert(b,L)}}})}(n.localStore,o))})}function LF(t,e){return g(this,null,function*(){let i=me(t);if(!i.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let n=yield mC(i.localStore,e);i.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Y(U.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield Oc(i,n.us)}})}function UF(t,e){let i=me(t),n=i.Fa.get(e);if(n&&n.wa)return Se().add(n.key);{let r=Se(),o=i.Da.get(e);if(!o)return r;for(let s of o){let a=i.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function xC(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MF.bind(null,e),e.Sa.h_=SF.bind(null,e.eventManager),e.Sa.ka=AF.bind(null,e.eventManager),e}function jF(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FF.bind(null,e),e}var Td=class{constructor(){this.synchronizeTabs=!1}initialize(e){return g(this,null,function*(){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return aF(this.persistence,new Zg,e.initialUser,this.serializer)}createPersistence(e){return new Kg(Qg.Hr,this.serializer)}createSharedClientState(e){return new n_}terminate(){return g(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var y_=class{initialize(e,i){return g(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>PE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=LF.bind(null,this.syncEngine),yield TF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new f_}()}createDatastore(e){let i=Ud(e.databaseInfo.databaseId),n=function(o){return new o_(o)}(e.databaseInfo);return function(o,s,a,l){return new c_(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return function(n,r,o,s,a){return new u_(n,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,i=>PE(this.syncEngine,i,0),function(){return _d.D()?new _d:new i_}())}createSyncEngine(e,i){return function(r,o,s,a,l,u,h){let p=new v_(r,o,s,a,l,u);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return g(this,null,function*(){var e;yield function(n){return g(this,null,function*(){let r=me(n);te("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Rc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Cc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}};var w_=class{constructor(e,i,n,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>g(this,null,function*(){te("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let n=z_(i,"Failed to shutdown persistence");e.reject(n)}})),e.promise}};function Jm(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let i=t.configuration;yield e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(r=>g(this,null,function*(){n.isEqual(r)||(yield mC(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function DE(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let i=yield zF(t);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,t.configuration),t.setCredentialChangeListener(n=>AE(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,r)=>AE(e.remoteStore,r)),t._onlineComponents=e})}function BF(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function zF(t){return g(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){let i=e;if(!BF(i))throw i;ls("Error using user provided cache. Falling back to memory cache: "+i),yield Jm(t,new Td)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Jm(t,new Td);return t._offlineComponents})}function PC(t){return g(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield DE(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield DE(t,new y_))),t._onlineComponents})}function $F(t){return PC(t).then(e=>e.syncEngine)}function Sd(t){return g(this,null,function*(){let e=yield PC(t),i=e.eventManager;return i.onListen=xF.bind(null,e.syncEngine),i.onUnlisten=DF.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=PF.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RF.bind(null,e.syncEngine),i})}function qF(t,e,i={}){let n=new On;return t.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(o,s,a,l,u){let h=new Cc({next:b=>{s.enqueueAndForget(()=>q_(o,p));let C=b.docs.has(a);!C&&b.fromCache?u.reject(new Y(U.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&l&&l.source==="server"?u.reject(new Y(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(b)},error:b=>u.reject(b)}),p=new Ec(Fd(a.path),h,{includeMetadataChanges:!0,ra:!0});return $_(o,p)}(yield Sd(t),t.asyncQueue,e,i,n)})),n.promise}function GF(t,e,i={}){let n=new On;return t.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(o,s,a,l,u){let h=new Cc({next:b=>{s.enqueueAndForget(()=>q_(o,p)),b.fromCache&&l.source==="server"?u.reject(new Y(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(b)},error:b=>u.reject(b)}),p=new Ec(a,h,{includeMetadataChanges:!0,ra:!0});return $_(o,p)}(yield Sd(t),t.asyncQueue,e,i,n)})),n.promise}function kC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var RE=new Map;function DC(t,e,i){if(!i)throw new Y(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WF(t,e,i,n){if(e===!0&&n===!0)throw new Y(U.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function OE(t){if(!ae.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ME(t){if(ae.isDocumentKey(t))throw new Y(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=zd(t);throw new Y(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}var Ad=class{constructor(e){var i,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ys=class{constructor(e,i,n,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ad({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ad(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Zm;switch(n.type){case"firstParty":return new ig(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=RE.get(i);n&&(te("ComponentProvider","Removing Datastore"),RE.delete(i),n.terminate())}(this),Promise.resolve()}};function RC(t,e,i,n={}){var r;let o=(t=ln(t,ys))._getSettings(),s=`${e}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=Tt.MOCK_USER;else{a=au(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Y(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tt(u)}t._authCredentials=new eg(new id(a,l))}}var to=class t{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zt=class t{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},sr=class t extends to{constructor(e,i,n){super(e,i,Fd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ae(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function OC(t,e,...i){if(t=Oe(t),DC("collection","path",e),t instanceof ys){let n=Ze.fromString(e,...i);return ME(n),new sr(t,null,n)}{if(!(t instanceof zt||t instanceof sr))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(Ze.fromString(e,...i));return ME(n),new sr(t.firestore,null,n)}}function MC(t,e,...i){if(t=Oe(t),arguments.length===1&&(e=rd.newId()),DC("doc","path",e),t instanceof ys){let n=Ze.fromString(e,...i);return OE(n),new zt(t,null,new ae(n))}{if(!(t instanceof zt||t instanceof sr))throw new Y(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(Ze.fromString(e,...i));return OE(n),new zt(t.firestore,t instanceof sr?t.converter:null,new ae(n))}}var I_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new vd(this,"async_queue_retry"),this.hu=()=>{let i=Xm();i&&te("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let e=Xm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let i=Xm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new On;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return g(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Dc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let i=this.iu.then(()=>(this.uu=!0,e().catch(n=>{this.au=n,this.uu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Ti("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(e,i,n){this.Pu(),this.lu.indexOf(e)>-1&&(i=0);let r=d_.createAndSchedule(this,e,i,n,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&le()}verifyOperationInProgress(){}du(){return g(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let i of this._u)if(i.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let i=this._u.indexOf(e);this._u.splice(i,1)}};function NE(t){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var oi=class extends ys{constructor(e,i,n,r){super(e,i,n,r),this.type="firestore",this._queue=function(){return new I_}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FC(this),this._firestoreClient.terminate()}};function NC(t,e){let i=typeof t=="object"?t:rn(),n=typeof t=="string"?t:e||"(default)",r=Xt(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=qo("firestore");o&&RC(r,...o)}return r}function $d(t){return t._firestoreClient||FC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FC(t){var e,i,n;let r=t._freezeSettings(),o=function(a,l,u,h){return new cg(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new w_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Tc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Kt.fromBase64String(e))}catch(i){throw new Y(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new t(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ws=class{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Y(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sc=class{constructor(e){this._methodName=e}};var Ac=class{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Y(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Y(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var HF=/^__.*__$/,E_=class{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,i,this.fieldTransforms):new eo(e,this.data,i,this.fieldTransforms)}},xd=class{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return new ri(e,this.data,this.fieldMask,i,this.fieldTransforms)}};function VC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var C_=class t{constructor(e,i,n,r,o,s){this.settings=e,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return kd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(VC(this.fu)&&HF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},T_=class{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=n||Ud(e)}Fu(e,i,n,r=!1){return new C_({fu:e,methodName:i,vu:n,path:cn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function H_(t){let e=t._freezeSettings(),i=Ud(t._databaseId);return new T_(t._databaseId,!!e.ignoreUndefinedProperties,i)}function KF(t,e,i,n,r,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,i,r);K_("Data must be an object, but it was:",s,n);let a=LC(n,s),l,u;if(o.merge)l=new _n(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let b=S_(e,p,i);if(!s.contains(b))throw new Y(U.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);jC(h,b)||h.push(b)}l=new _n(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new E_(new an(a),l,u)}var Pd=class t extends Sc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function YF(t,e,i,n){let r=t.Fu(1,e,i);K_("Data must be an object, but it was:",r,n);let o=[],s=an.empty();no(n,(l,u)=>{let h=Y_(e,l,i);u=Oe(u);let p=r.Su(h);if(u instanceof Pd)o.push(h);else{let b=Mc(u,p);b!=null&&(o.push(h),s.set(h,b))}});let a=new _n(o);return new xd(s,a,r.fieldTransforms)}function QF(t,e,i,n,r,o){let s=t.Fu(1,e,i),a=[S_(e,n,i)],l=[r];if(o.length%2!=0)throw new Y(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)a.push(S_(e,o[b])),l.push(o[b+1]);let u=[],h=an.empty();for(let b=a.length-1;b>=0;--b)if(!jC(u,a[b])){let C=a[b],O=l[b];O=Oe(O);let L=s.Su(C);if(O instanceof Pd)u.push(C);else{let R=Mc(O,L);R!=null&&(u.push(C),h.set(C,R))}}let p=new _n(u);return new xd(h,p,s.fieldTransforms)}function XF(t,e,i,n=!1){return Mc(i,t.Fu(n?4:3,e))}function Mc(t,e){if(UC(t=Oe(t)))return K_("Unsupported field value:",e,t),LC(t,e);if(t instanceof Sc)return function(n,r){if(!VC(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let a of n){let l=Mc(a,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if((n=Oe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NN(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=Dt.fromDate(n);return{timestampValue:pd(r.serializer,o)}}if(n instanceof Dt){let o=new Dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pd(r.serializer,o)}}if(n instanceof Ac)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Tc)return{bytesValue:cC(r.serializer,n._byteString)};if(n instanceof zt){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:V_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${zd(n)}`)}(t,e)}function LC(t,e){let i={};return UE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(t,(n,r)=>{let o=Mc(r,e.pu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function UC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Ac||t instanceof Tc||t instanceof zt||t instanceof Sc)}function K_(t,e,i){if(!UC(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=zd(i);throw n==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+n)}}function S_(t,e,i){if((e=Oe(e))instanceof ws)return e._internalPath;if(typeof e=="string")return Y_(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,i)}var JF=new RegExp("[~\\*/\\[\\]]");function Y_(t,e,i){if(e.search(JF)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new ws(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function kd(t,e,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${r}`),l+=")"),new Y(U.INVALID_ARGUMENT,a+t+l)}function jC(t,e){return t.some(i=>i.isEqual(e))}var Dd=class{constructor(e,i,n,r,o){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new A_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let i=this._document.data.field(Q_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}},A_=class extends Dd{data(){return super.data()}};function Q_(t,e){return typeof e=="string"?Y_(t,e):e instanceof ws?e._internalPath:e._delegate._internalPath}function BC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xc=class{},x_=class extends xc{};function zC(t,e,...i){let n=[];e instanceof xc&&n.push(e),n=n.concat(i),function(o){let s=o.filter(l=>l instanceof P_).length,a=o.filter(l=>l instanceof Rd).length;if(s>1||s>0&&a>0)throw new Y(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)t=r._apply(t);return t}var Rd=class t extends x_{constructor(e,i,n){super(),this._field=e,this._op=i,this._value=n,this.type="where"}static _create(e,i,n){return new t(e,i,n)}_apply(e){let i=this._parse(e);return qC(e._query,i),new to(e.firestore,e.converter,wg(e._query,i))}_parse(e){let i=H_(e.firestore);return function(o,s,a,l,u,h,p){let b;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){VE(p,h);let C=[];for(let O of p)C.push(FE(l,o,O));b={arrayValue:{values:C}}}else b=FE(l,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||VE(p,h),b=XF(a,s,p,h==="in"||h==="not-in");return gt.create(u,h,b)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}};function $C(t,e,i){let n=e,r=Q_("where",t);return Rd._create(r,n,i)}var P_=class t extends xc{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new t(e,i)}_parse(e){let i=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:Nn.create(i,this._getOperator())}_apply(e){let i=this._parse(e);return i.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)qC(s,l),s=wg(s,l)}(e._query,i),new to(e.firestore,e.converter,wg(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function FE(t,e,i){if(typeof(i=Oe(i))=="string"){if(i==="")throw new Y(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(e)&&i.indexOf("/")!==-1)throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=e.path.child(Ze.fromString(i));if(!ae.isDocumentKey(n))throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return lE(t,new ae(n))}if(i instanceof zt)return lE(t,i._key);throw new Y(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(i)}.`)}function VE(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qC(t,e){let i=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}var k_=class{convertValue(e,i="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw le()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){let n={};return no(e,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(e){return new Ac(ot(e.latitude),ot(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":let n=O_(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let i=Si(e);return new Dt(i.seconds,i.nanos)}convertDocumentKey(e,i){let n=Ze.fromString(e);Ge(pC(n));let r=new cd(n.get(1),n.get(3)),o=new ae(n.popFirst(5));return r.isEqual(i)||Ti(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function ZF(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}var Hr=class{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Od=class extends Dd{constructor(e,i,n,r,o,s){super(e,i,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let i=new cs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){let n=this._document.data.field(Q_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},cs=class extends Od{data(e={}){return super.data(e)}},Md=class{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new Hr(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new cs(this._firestore,this._userDataWriter,n.key,n,new Hr(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Y(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new cs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Hr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new cs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Hr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:eV(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function eV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}function GC(t){t=ln(t,zt);let e=ln(t.firestore,oi);return qF($d(e),t._key).then(i=>QC(e,t,i))}var Pc=class extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}};function WC(t){t=ln(t,to);let e=ln(t.firestore,oi),i=$d(e),n=new Pc(e);return BC(t._query),GF(i,t._query).then(r=>new Md(e,n,t,r))}function HC(t,e,i){t=ln(t,zt);let n=ln(t.firestore,oi),r=ZF(t.converter,e,i);return X_(n,[KF(H_(n),"setDoc",t._key,r,t.converter!==null,i).toMutation(t._key,Ci.none())])}function KC(t,e,i,...n){t=ln(t,zt);let r=ln(t.firestore,oi),o=H_(r),s;return s=typeof(e=Oe(e))=="string"||e instanceof ws?QF(o,"updateDoc",t._key,e,i,n):YF(o,"updateDoc",t._key,e),X_(r,[s.toMutation(t._key,Ci.exists(!0))])}function YC(t){return X_(ln(t.firestore,oi),[new vc(t._key,Ci.none())])}function qd(t,...e){var i,n,r;t=Oe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NE(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NE(e[s])){let p=e[s];e[s]=(i=p.next)===null||i===void 0?void 0:i.bind(p),e[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,u,h;if(t instanceof zt)u=ln(t.firestore,oi),h=Fd(t._key.path),l={next:p=>{e[s]&&e[s](QC(u,t,p))},error:e[s+1],complete:e[s+2]};else{let p=ln(t,to);u=ln(p.firestore,oi),h=p._query;let b=new Pc(u);l={next:C=>{e[s]&&e[s](new Md(u,b,p,C))},error:e[s+1],complete:e[s+2]},BC(t._query)}return function(b,C,O,L){let R=new Cc(L),$=new Ec(C,R,O);return b.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return $_(yield Sd(b),$)})),()=>{R.$a(),b.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return q_(yield Sd(b),$)}))}}($d(u),h,a,l)}function X_(t,e){return function(n,r){let o=new On;return n.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return OF(yield $F(n),r,o)})),o.promise}($d(t),e)}function QC(t,e,i){let n=i.docs.get(e._key),r=new Pc(t);return new Od(t,r,e._key,n,new Hr(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(r){Is=r})(Gn),Ct(new rt("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),a=new oi(new tg(n.getProvider("auth-internal")),new og(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(u.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ie(sE,"4.6.4",e),Ie(sE,"4.6.4","esm2017")})();var Gd=function(){return Gd=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Gd.apply(this,arguments)};var rV={includeMetadataChanges:!1};function XC(t,e){return e===void 0&&(e=rV),new At(function(i){var n=qd(t,e,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:n}})}function JC(t){return XC(t,{includeMetadataChanges:!0})}function ZC(t,e){return e===void 0&&(e={}),JC(t).pipe(ue(function(i){return eT(i,e)}))}function eT(t,e){var i;e===void 0&&(e={});var n=t.data(e);return!t.exists()||typeof n!="object"||n===null||!e.idField?n:Gd(Gd({},n),(i={},i[e.idField]=t.id,i))}var je=class{constructor(e){return e}},tT="firestore",J_=class{constructor(){return Dn(tT)}};var Z_=new X("angularfire2.firestore-instances");function oV(t,e){let i=Hn(tT,t,e);return i&&new je(i)}function sV(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new je(n)}}var aV={provide:J_,deps:[[new Ue,Z_]]},cV={provide:je,useFactory:oV,deps:[[new Ue,Z_],Ht]};function nT(t,...e){return Ie("angularfire",on.full,"fst"),ct([cV,aV,{provide:Z_,useFactory:sV(t),multi:!0,deps:[oe,Ce,mn,sn,[new Ue,wi],[new Ue,Wn],...e]}])}var iT=Ne(ZC,!0);var $t=Ne(OC,!0);var Wd=Ne(YC,!0);var bt=Ne(MC,!0);var Hd=Ne(GC,!0);var Fn=Ne(WC,!0);var rT=Ne(NC,!0);var ev=Ne(qd,!0);var oT=Ne(zC,!0);var si=Ne(HC,!0);var Kd=Ne(KC,!0);var sT=Ne($C,!0);var at=(()=>{let e=class e{constructor(){this.isFirstTime=new dt(!0),this.mainCategoriesLoaded=!1,this.loggedIn=!1,this.selectedCatalog="",this.userMobile="",this.checkingAuth=!0,this.currentUser$=new dt(""),this.isPageLoaded$=new dt("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var et=(()=>{let e=class e{constructor(n){this.firestore=n,this.cityDoc=Wt([]),this.eventList=Wt([]),this.itineraryList=Wt({}),this.slabList=Wt({}),this.variantList=Wt({}),this.bookingDetails=Wt({}),this.addressList=Wt([]),this.activeAddress=Wt(""),this.getUsersFetched=Wt(!1)}fetchDoc(n){return new At(r=>{let o=bt(this.firestore,n);ev(o,s=>{let a=s.data();r.next(a)},s=>{r.error(s)})})}fetchDocs(n){return new At(r=>{let o=$t(this.firestore,n);ev(o,s=>{let a=s.docs.map(l=>l.data());r.next(a)},s=>{r.error(s)})})}};e.\u0275fac=function(r){return new(r||e)(D(je))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nv;try{nv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nv=!1}var Ke=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?pa(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||nv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(D(Qt))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nc;function lV(){if(Nc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nc=!0}))}finally{Nc=Nc||!1}return Nc}function Cs(t){return lV()?t:!!t.capture}var ro;function aT(){if(ro==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ro=!1,ro;if("scrollBehavior"in document.documentElement.style)ro=!0;else{let t=Element.prototype.scrollTo;t?ro=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ro=!1}}return ro}var tv;function uV(){if(tv==null){let t=typeof document<"u"?document.head:null;tv=!!(t&&(t.createShadowRoot||t.attachShadow))}return tv}function cT(t){if(uV()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Fc(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function vn(t){return t.composedPath?t.composedPath()[0]:t.target}function Vc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Yd(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Ts(t){return Array.isArray(t)?t:[t]}function ut(t){return t==null?"":typeof t=="string"?t:`${t}px`}function xi(t){return t instanceof Ve?t.nativeElement:t}var lT=new Set,so,dV=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fV}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&hV(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(D(Ke),D(aa,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hV(t,e){if(!lT.has(t))try{so||(so=document.createElement("style"),e&&so.setAttribute("nonce",e),so.setAttribute("type","text/css"),document.head.appendChild(so)),so.sheet&&(so.sheet.insertRule(`@media ${t} {body{ }}`,0),lT.add(t))}catch(i){console.error(i)}}function fV(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Ss=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new ye}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return uT(Ts(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=uT(Ts(n)).map(a=>this._registerQuery(a).observable),s=ia(o);return s=yo(s.pipe(_t(1)),s.pipe(yl(1),nf(0))),s.pipe(ue(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:h})=>{l.matches=l.matches||u,l.breakpoints[h]=u}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new At(a=>{let l=u=>this._zone.run(()=>a.next(u));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(zi(r),ue(({matches:a})=>({query:n,matches:a})),wn(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(D(dV),D(oe))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uT(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var Pi={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Lc=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return mV(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=pV(EV(n));if(r&&(hT(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=hT(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!wV(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return IV(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(r){return new(r||e)(D(Ke))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pV(t){try{return t.frameElement}catch{return null}}function mV(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function gV(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function _V(t){return bV(t)&&t.type=="hidden"}function vV(t){return yV(t)&&t.hasAttribute("href")}function bV(t){return t.nodeName.toLowerCase()=="input"}function yV(t){return t.nodeName.toLowerCase()=="a"}function mT(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function hT(t){if(!mT(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function wV(t){let e=t.nodeName.toLowerCase(),i=e==="input"&&t.type;return i==="text"||i==="password"||e==="select"||e==="textarea"}function IV(t){return _V(t)?!1:gV(t)||vV(t)||t.hasAttribute("contenteditable")||mT(t)}function EV(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var rv=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,i,n,r,o=!1,s){this._element=e,this._checker=i,this._ngZone=n,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,i=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let i=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(e),!!n}return i.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let i=this._getRegionBoundary("start");return i&&i.focus(e),!!i}focusLastTabbableElement(e){let i=this._getRegionBoundary("end");return i&&i.focus(e),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,i){e?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Sr(e,{injector:this._injector}):setTimeout(e)}},Jd=(()=>{let e=class e{constructor(n,r,o){this._checker=n,this._ngZone=r,this._injector=W(Ce),this._document=o}create(n,r=!1){return new rv(n,this._checker,this._ngZone,this._document,r,this._injector)}};e.\u0275fac=function(r){return new(r||e)(D(Lc),D(oe),D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ov(t){return t.buttons===0||t.detail===0}function sv(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var CV=new X("cdk-input-modality-detector-options"),TV={ignoreKeys:[18,17,224,91,16]},gT=650,As=Cs({passive:!0,capture:!0}),SV=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new dt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=vn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<gT||(this._modality.next(ov(a)?"keyboard":"mouse"),this._mostRecentTarget=vn(a))},this._onTouchstart=a=>{if(sv(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=vn(a)},this._options=V(V({},TV),s),this.modalityDetected=this._modality.pipe(yl(1)),this.modalityChanged=this.modalityDetected.pipe(bl()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,As),o.addEventListener("mousedown",this._onMousedown,As),o.addEventListener("touchstart",this._onTouchstart,As)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,As),document.removeEventListener("mousedown",this._onMousedown,As),document.removeEventListener("touchstart",this._onTouchstart,As))}};e.\u0275fac=function(r){return new(r||e)(D(Ke),D(oe),D(ce),D(CV,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AV=new X("liveAnnouncerElement",{providedIn:"root",factory:xV});function xV(){return null}var PV=new X("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),kV=0,_T=(()=>{let e=class e{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${kV++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}};e.\u0275fac=function(r){return new(r||e)(D(AV,8),D(oe),D(ce),D(PV,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xd=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Xd||{}),DV=new X("cdk-focus-monitor-default-options"),Qd=Cs({passive:!0,capture:!0}),xs=(()=>{let e=class e{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ye,this._rootNodeFocusAndBlurListener=l=>{let u=vn(l);for(let h=u;h;h=h.parentElement)l.type==="focus"?this._onFocus(l,h):this._onBlur(l,h)},this._document=s,this._detectionMode=a?.detectionMode||Xd.IMMEDIATE}monitor(n,r=!1){let o=xi(n);if(!this._platform.isBrowser||o.nodeType!==1)return re();let s=cT(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new ye,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=xi(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=xi(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,u])=>this._originChanged(l,r,u)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Xd.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Xd.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?gT:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=vn(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qd)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(D(oe),D(Ke),D(SV),D(ce,8),D(DV,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ao=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(ao||{}),fT="cdk-high-contrast-black-on-white",pT="cdk-high-contrast-white-on-black",iv="cdk-high-contrast-active",vT=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=W(Ss).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ao.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ao.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ao.BLACK_ON_WHITE}return ao.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(iv,fT,pT),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===ao.BLACK_ON_WHITE?n.add(iv,fT):r===ao.WHITE_ON_BLACK&&n.add(iv,pT)}}};e.\u0275fac=function(r){return new(r||e)(D(Ke),D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RV=new X("cdk-dir-doc",{providedIn:"root",factory:OV});function OV(){return W(ce)}var MV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function NV(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?MV.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Uc=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Je,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=NV(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(D(RV,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var av=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=ze({});let t=e;return t})();var fv=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),pv=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function LV(){return!0}var UV=new X("mat-sanity-checks",{providedIn:"root",factory:LV}),th=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Vc()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(D(vT),D(UV,8),D(ce))},e.\u0275mod=$e({type:e}),e.\u0275inj=ze({imports:[av,av]});let t=e;return t})();var bn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(bn||{}),uv=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=bn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},bT=Cs({passive:!0,capture:!0}),dv=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=vn(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,bT)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,bT)))}},yT={enterDuration:225,exitDuration:150},jV=800,wT=Cs({passive:!0,capture:!0}),IT=["mousedown","touchstart"],ET=["mouseup","mouseleave","touchend","touchcancel"],jc=class jc{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xi(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=V(V({},yT),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||BV(e,i,r),a=e-r.left,l=i-r.top,u=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${l-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,n.color!=null&&(h.style.backgroundColor=n.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),b=p.transitionProperty,C=p.transitionDuration,O=b==="none"||C==="0s"||C==="0s, 0s"||r.width===0&&r.height===0,L=new uv(this,h,n,O);h.style.transform="scale3d(1, 1, 1)",L.state=bn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=L);let R=null;return!O&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>{R&&(R.fallbackTimer=null),clearTimeout(Q),this._finishRippleTransition(L)},Z=()=>this._destroyRipple(L),Q=setTimeout(Z,u+100);h.addEventListener("transitionend",$),h.addEventListener("transitioncancel",Z),R={onTransitionEnd:$,onTransitionCancel:Z,fallbackTimer:Q}}),this._activeRipples.set(L,R),(O||!u)&&this._finishRippleTransition(L),L}fadeOutRipple(e){if(e.state===bn.FADING_OUT||e.state===bn.HIDDEN)return;let i=e.element,n=V(V({},yT),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=bn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=xi(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,IT.forEach(n=>{jc._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ET.forEach(i=>{this._triggerElement.addEventListener(i,this,wT)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===bn.FADING_IN?this._startFadeOutTransition(e):e.state===bn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=bn.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=bn.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),e.element.remove()}_onMousedown(e){let i=ov(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+jV;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!sv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===bn.VISIBLE||e.config.terminateOnPointerUp&&e.state===bn.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(IT.forEach(i=>jc._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(ET.forEach(i=>e.removeEventListener(i,this,wT)),this._pointerUpEventsRegistered=!1))}};jc._eventManager=new dv;var hv=jc;function BV(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var AT=new X("mat-ripple-global-options"),zV=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new hv(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:V(V(V({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,V(V({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,V(V({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(x(Ve),x(oe),x(Ke),x(AT,8),x(fi,8))},e.\u0275dir=Ee({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&lt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})();var CT={capture:!0},TT=["focus","mousedown","mouseenter","touchstart"],cv="mat-ripple-loader-uninitialized",lv="mat-ripple-loader-class-name",ST="mat-ripple-loader-centered",eh="mat-ripple-loader-disabled",xT=(()=>{let e=class e{constructor(){this._document=W(ce,{optional:!0}),this._animationMode=W(fi,{optional:!0}),this._globalRippleOptions=W(AT,{optional:!0}),this._platform=W(Ke),this._ngZone=W(oe),this._hosts=new Map,this._onInteraction=n=>{let r=vn(n);if(r instanceof HTMLElement){let o=r.closest(`[${cv}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let n of TT)this._document?.addEventListener(n,this._onInteraction,CT)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of TT)this._document?.removeEventListener(r,this._onInteraction,CT)}configureRipple(n,r){n.setAttribute(cv,this._globalRippleOptions?.namespace??""),(r.className||!n.hasAttribute(lv))&&n.setAttribute(lv,r.className||""),r.centered&&n.setAttribute(ST,""),r.disabled&&n.setAttribute(eh,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(eh,""):n.removeAttribute(eh)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(lv)),n.append(o);let s=new zV(new Ve(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(ST),s.disabled=n.hasAttribute(eh),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(cv),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $V=["mat-button",""],qV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],GV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var WV=new X("MAT_BUTTON_CONFIG");var HV=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],KV=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=W(xs),this._rippleLoader=W(xT),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=W(WV,{optional:!0}),l=n.nativeElement,u=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:h,mdcClasses:p}of HV)l.hasAttribute(h)&&u.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){la()},e.\u0275dir=Ee({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",An],disabled:[2,"disabled","disabled",An],ariaDisabled:[2,"aria-disabled","ariaDisabled",An],disabledInteractive:[2,"disabledInteractive","disabledInteractive",An]},features:[qi]});let t=e;return t})();var PT=(()=>{let e=class e extends KV{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(x(Ve),x(Ke),x(oe),x(fi,8))},e.\u0275cmp=H({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Lt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),uf(o.color?"mat-"+o.color:""),lt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[qe,K],attrs:$V,ngContentSelectors:GV,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Sl(qV),F(0,"span",0),To(1),_(2,"span",1),To(3,1),v(),To(4,2),F(5,"span",2)(6,"span",3)),r&2&&lt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Bc=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ki=class extends Bc{constructor(e,i,n,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},ur=class extends Bc{constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},mv=class extends Bc{constructor(e){super(),this.element=e instanceof Ve?e.nativeElement:e}},dr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ki)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ur)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof mv)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var nh=class extends dr{constructor(e,i,n,r,o){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||Ce.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,n=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var hr=(()=>{let e=class e extends dr{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Je,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(x(Il),x(Co),x(ce))},e.\u0275dir=Ee({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[qe]});let t=e;return t})();var QV=20,kT=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=QV){return this._platform.isBrowser?new At(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(tf(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):re()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(He(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=xi(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return ra(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(D(oe),D(Ke),D(ce,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XV=20,gv=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new ye,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=XV){return n>0?this._change.pipe(tf(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(D(Ke),D(oe),D(ce,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DT=aT(),_v=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ut(-this._previousScrollPosition.left),e.style.top=ut(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,n=e.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),DT&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DT&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var vv=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(He(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ih=class{enable(){}disable(){}attach(){}};function bv(t,e){return e.some(i=>{let n=t.bottom<i.top,r=t.top>i.bottom,o=t.right<i.left,s=t.left>i.right;return n||r||o||s})}function RT(t,e){return e.some(i=>{let n=t.top<i.top,r=t.bottom>i.bottom,o=t.left<i.left,s=t.right>i.right;return n||r||o||s})}var yv=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();bv(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ZV=(()=>{let e=class e{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new ih,this.close=a=>new vv(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new _v(this._viewportRuler,this._document),this.reposition=a=>new yv(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(D(kT),D(gv),D(oe),D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lo=class{constructor(e){if(this.scrollStrategy=new ih,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let n of i)e[n]!==void 0&&(this[n]=e[n])}}};var wv=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var LT=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(D(ce))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eL=(()=>{let e=class e extends LT{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(D(ce),D(oe,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tL=(()=>{let e=class e extends LT{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=vn(s)},this._clickListener=s=>{let a=vn(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let h=u.length-1;h>-1;h--){let p=u[h];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(OT(p.overlayElement,a)||OT(p.overlayElement,l))break;let b=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>b.next(s)):b.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(D(ce),D(Ke),D(oe,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OT(t,e){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===t)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var rh=(()=>{let e=class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Vc()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),Vc()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(D(ce),D(Ke))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Di=class{constructor(e,i,n,r,o,s,a,l,u,h=!1,p){this._portalOutlet=e,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._injector=p,this._backdropElement=null,this._backdropClick=new ye,this._attachments=new ye,this._detachments=new ye,this._locationChanges=yr.EMPTY,this._backdropClickHandler=b=>this._backdropClick.next(b),this._backdropTransitionendHandler=b=>{this._disposeBackdrop(b.target)},this._keydownEvents=new ye,this._outsidePointerEvents=new ye,this._renders=new ye,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=zn(()=>My(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Sr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=V(V({},this._config),e),this._updateElementSize()}setDirection(e){this._config=be(V({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ut(this._config.width),e.height=ut(this._config.height),e.minWidth=ut(this._config.minWidth),e.minHeight=ut(this._config.minHeight),e.maxWidth=ut(this._config.maxWidth),e.maxHeight=ut(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,n){let r=Ts(i||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(wn(Ir(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},MT="cdk-overlay-connected-position-bounding-box",nL=/([A-Za-z%]+)$/,Iv=class{get positions(){return this._preferredPositions}constructor(e,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ye,this._resizeSubscription=yr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(MT),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(l,i,a),h=this._getOverlayFit(u,i,n,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,u,n)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:u,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let u of o){let h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&co(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(MT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,n){let r;if(n.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=n.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=e.top+e.height/2:o=n.originY=="top"?e.top:e.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(e,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,i,n,r){let o=FT(i),{x:s,y:a}=e,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(s+=l),u&&(a+=u);let h=0-s,p=s+o.width-n.width,b=0-a,C=a+o.height-n.height,O=this._subtractOverflows(o.width,h,p),L=this._subtractOverflows(o.height,b,C),R=O*L;return{visibleArea:R,isCompletelyWithinViewport:o.width*o.height===R,fitsInViewportVertically:L===o.height,fitsInViewportHorizontally:O==o.width}}_canFitWithFlexibleDimensions(e,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=NT(this._overlayRef.getConfig().minHeight),a=NT(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&u}return!1}_pushOverlayOnScreen(e,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=FT(i),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),u=Math.max(o.left-n.left-e.x,0),h=0,p=0;return r.width<=o.width?h=u||-s:h=e.x<this._viewportMargin?o.left-n.left-e.x:0,r.height<=o.height?p=l||-a:p=e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!iL(this._lastScrollVisibility,n)){let r=new wv(e,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,i){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=e.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let C=Math.min(n.bottom-e.y+n.top,e.y),O=this._lastBoundingBoxSize.height;o=C*2,s=e.y-C,o>O&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-O/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,u=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,h,p,b;if(u)b=n.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)p=e.x,h=n.right-e.x;else{let C=Math.min(n.right-e.x+n.left,e.x),O=this._lastBoundingBoxSize.width;h=C*2,p=e.x-C,h>O&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-O/2)}return{top:s,left:p,bottom:a,right:b,width:h,height:o}}_setBoundingBoxStyles(e,i){let n=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ut(n.height),r.top=ut(n.top),r.bottom=ut(n.bottom),r.width=ut(n.width),r.left=ut(n.left),r.right=ut(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ut(o)),s&&(r.maxWidth=ut(s))}this._lastBoundingBoxSize=n,co(this._boundingBox.style,r)}_resetBoundingBoxStyles(){co(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){co(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();co(n,this._getExactOverlayY(i,e,h)),co(n,this._getExactOverlayX(i,e,h))}else n.position="static";let a="",l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=ut(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ut(s.maxWidth):o&&(n.maxWidth="")),co(this._pane.style,n)}_getExactOverlayY(e,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ut(o.y);return r}_getExactOverlayX(e,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=ut(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RT(e,n),isOriginOutsideView:bv(e,n),isOverlayClipped:RT(i,n),isOverlayOutsideView:bv(i,n)}}_subtractOverflows(e,...i){return i.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ts(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ve)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+i,height:n,width:i}}};function co(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function NT(t){if(typeof t!="number"&&t!=null){let[e,i]=t.split(nL);return!i||i==="px"?parseFloat(e):null}return t||null}function FT(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function iL(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var VT="cdk-global-overlay-wrapper",Ev=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(VT),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,p=this._xOffset,b=this._overlayRef.getConfig().direction==="rtl",C="",O="",L="";l?L="flex-start":h==="center"?(L="center",b?O=p:C=p):b?h==="left"||h==="end"?(L="flex-end",C=p):(h==="right"||h==="start")&&(L="flex-start",O=p):h==="left"||h==="start"?(L="flex-start",C=p):(h==="right"||h==="end")&&(L="flex-end",O=p),e.position=this._cssPosition,e.marginLeft=l?"0":C,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":O,i.justifyContent=L,i.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(VT),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},rL=(()=>{let e=class e{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new Ev}flexibleConnectedTo(n){return new Iv(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(D(gv),D(ce),D(Ke),D(rh))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oL=0,fr=(()=>{let e=class e{constructor(n,r,o,s,a,l,u,h,p,b,C,O){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=u,this._document=h,this._directionality=p,this._location=b,this._outsideClickDispatcher=C,this._animationsModuleType=O}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new lo(n);return a.direction=a.direction||this._directionality.value,new Di(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get($i))}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${oL++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(pi)),new nh(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(D(ZV),D(rh),D(Il),D(rL),D(eL),D(Ce),D(oe),D(ce),D(Uc),D(Gi),D(tL),D(fi,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aL(t,e){if(t&1){let i=Me();_(0,"div",1)(1,"button",2),q("click",function(){de(i);let r=J();return he(r.action())}),E(2),v()()}if(t&2){let i=J();M(2),we(" ",i.data.action," ")}}var cL=["label"];function lL(t,e){}var uL=Math.pow(2,31)-1,zc=class{constructor(e,i){this._overlayRef=i,this._afterDismissed=new ye,this._afterOpened=new ye,this._onAction=new ye,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,uL))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},oh=new X("MatSnackBarData"),Ps=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},dL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ee({type:e,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let t=e;return t})(),hL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ee({type:e,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let t=e;return t})(),fL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ee({type:e,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let t=e;return t})(),pL=(()=>{let e=class e{constructor(n,r){this.snackBarRef=n,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};e.\u0275fac=function(r){return new(r||e)(x(zc),x(oh))},e.\u0275cmp=H({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[K],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(_(0,"div",0),E(1),v(),se(2,aL,3,1,"div",1)),r&2&&(M(),we(" ",o.data.message,`
`),M(),hf(o.hasAction?2:-1))},dependencies:[PT,dL,hL,fL],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let t=e;return t})(),mL={snackBarState:Nl("state",[Ro("void, hidden",xr({transform:"scale(0.8)",opacity:0})),Ro("visible",xr({transform:"scale(1)",opacity:1})),Oo("* => visible",Do("150ms cubic-bezier(0, 0, 0.2, 1)")),Oo("* => void, * => hidden",Do("75ms cubic-bezier(0.4, 0.0, 1, 1)",xr({opacity:0})))])},gL=0,_L=(()=>{let e=class e extends dr{constructor(n,r,o,s,a){super(),this._ngZone=n,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._document=W(ce),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ye,this._onExit=new ye,this._onEnter=new ye,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${gL++}`,this.attachDomPortal=l=>{this._assertNotAttached();let u=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),u},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}onAnimationEnd(n){let{fromState:r,toState:o}=n;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>n.classList.add(a)):n.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};e.\u0275fac=function(r){return new(r||e)(x(oe),x(Ve),x(Sn),x(Ke),x(Ps))},e.\u0275cmp=H({type:e,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Bn(hr,7),Bn(cL,7)),r&2){let s;Cn(s=Tn())&&(o._portalOutlet=s.first),Cn(s=Tn())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(r,o){r&1&&Tl("@state.done",function(a){return o.onAnimationEnd(a)}),r&2&&Cl("@state",o._animationState)},standalone:!0,features:[qe,K],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(_(0,"div",1)(1,"div",2,0)(3,"div",3),se(4,lL,0,0,"ng-template",4),v(),F(5,"div"),v()()),r&2&&(M(5),Lt("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[hr],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[mL.snackBarState]}});let t=e;return t})();function vL(){return new Ps}var bL=new X("mat-snack-bar-default-options",{providedIn:"root",factory:vL}),UT=(()=>{let e=class e{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,r,o,s,a,l){this._overlay=n,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=pL,this.snackBarContainerComponent=_L,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",o){let s=V(V({},this._defaultConfig),o);return s.data={message:n,action:r},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=Ce.create({parent:o||this._injector,providers:[{provide:Ps,useValue:r}]}),a=new ki(this.snackBarContainerComponent,r.viewContainerRef,s),l=n.attach(a);return l.instance.snackBarConfig=r,l.instance}_attach(n,r){let o=V(V(V({},new Ps),this._defaultConfig),r),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),l=new zc(a,s);if(n instanceof Tr){let u=new ur(n,null,{$implicit:o.data,snackBarRef:l});l.instance=a.attachTemplatePortal(u)}else{let u=this._createInjector(o,l),h=new ki(n,void 0,u),p=a.attachComponentPortal(h);l.instance=p.instance}return this._breakpointObserver.observe(Pi.HandsetPortrait).pipe(wn(s.detachments())).subscribe(u=>{s.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration))}_createOverlay(n){let r=new lo;r.direction=n.direction;let o=this._overlay.position().global(),s=n.direction==="rtl",a=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!a&&n.horizontalPosition!=="center";return a?o.left("0"):l?o.right("0"):o.centerHorizontally(),n.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(n,r){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Ce.create({parent:o||this._injector,providers:[{provide:zc,useValue:r},{provide:oh,useValue:n.data}]})}};e.\u0275fac=function(r){return new(r||e)(D(fr),D(_T),D(Ce),D(Ss),D(e,12),D(bL))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sh=(()=>{let e=class e{constructor(n){this.data=n}};e.\u0275fac=function(r){return new(r||e)(x(oh))},e.\u0275cmp=H({type:e,selectors:[["lib-toast"]],standalone:!0,features:[K],decls:2,vars:2,consts:[[1,"toast-message",3,"ngClass"]],template:function(r,o){r&1&&(_(0,"div",0),E(1),v()),r&2&&(B("ngClass",o.data.type),M(),we(" ",o.data.message," "))},dependencies:[xe,ko],styles:[".toast-message[_ngcontent-%COMP%]{color:#fff;border-radius:4px;display:flex;align-items:center}"]});let t=e;return t})();var ks=(()=>{let e=class e{constructor(n){this.snackBar=n}showSuccess(n){this.snackBar.openFromComponent(sh,{data:{message:n,type:"success"},duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})}showError(n){this.snackBar.openFromComponent(sh,{data:{message:n,type:"error"},duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})}cancel(n){this.snackBar.openFromComponent(sh,{data:{message:n,type:"cancel"},duration:3e3,verticalPosition:"bottom",horizontalPosition:"center"})}};e.\u0275fac=function(r){return new(r||e)(D(UT))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ai=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.auth=n,this.Firestore=r,this.dataProvider=o,this.router=s,this.eventService=a,this.ToastService=l,this._auth=W(Rn),this.isProfileUpdated=!1,this.user$=EI(this._auth),this.dataProvider.checkingAuth=!0,this.auth.onAuthStateChanged(u=>{u?(this.ToastService.showSuccess("Login"),this.dataProvider.loggedIn=!0,this.getUserData(u.uid).subscribe(h=>g(this,null,function*(){this.dataProvider.currentUser={user:u,userData:h},console.log(u.uid),!h||!h.name?this.router.navigate(["profile"]):this.getAddresses(this.dataProvider.currentUser.user.uid).then(p=>{let b=p.docs.map(C=>be(V({},C.data()),{id:C.id}));this.router.navigate(["home"])}),this.dataProvider.checkingAuth=!1}))):(this.dataProvider.loggedIn=!1,this.dataProvider.checkingAuth=!1,this.dataProvider.currentUser=void 0)})}loginWithPhoneNumber(n,r){return g(this,null,function*(){return n.length!=10?Promise.reject(new Error("Invalid Phone Number")):CI(this.auth,"+91"+n,r)})}setUserData(n){return g(this,null,function*(){let r=yield Hd(bt(this.Firestore,"users",n.uid));if(r.exists()){this.dataProvider.currentUser={user:be(V({},n),{name:r.data().name}),userData:r.data()};return}let o={name:n.name||"",phoneNumber:n.phoneNumber||"",photoURL:n.photoURL||"",uid:n.uid||"",dob:n.dob||"",gender:n.gender||"",age:n.age||""};yield si(bt(this.Firestore,"users",n.uid),o),this.dataProvider.currentUser={user:n,userData:o}})}getUserData(n){return iT(bt(this.Firestore,"users",n))}getAddresses(n){return g(this,null,function*(){return yield Fn($t(this.Firestore,"users",n,"addresses"))})}};e.\u0275fac=function(r){return new(r||e)(D(Rn),D(je),D(at),D(ge),D(et),D(ks))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wL(t,e){}var uo=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Pv=(()=>{let e=class e extends dr{constructor(n,r,o,s,a,l,u,h){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=u,this._focusMonitor=h,this._platform=W(Ke),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=W(Sn),this._injector=W(Ce),this._isDestroyed=!1,this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let b=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),b},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){this._isDestroyed||Sr(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Fc(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Fc();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(x(Ve),x(Jd),x(ce,8),x(uo),x(Lc),x(oe),x(Di),x(xs))},e.\u0275cmp=H({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Bn(hr,7),r&2){let s;Cn(s=Tn())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Lt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[qe,K],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&se(0,wL,0,0,"ng-template",0)},dependencies:[hr],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),qc=class{constructor(e,i){this.overlayRef=e,this.config=i,this.closed=new ye,this.disableClose=i.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Yd(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(e,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",i=""){return this.overlayRef.updateSize({width:e,height:i}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},IL=new X("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=W(fr);return()=>t.scrollStrategies.block()}}),EL=new X("DialogData"),CL=new X("DefaultDialogConfig");var TL=0,jT=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,o,s,a,l){this._overlay=n,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye,this._afterOpenedAtThisLevel=new ye,this._ariaHiddenElements=new Map,this.afterAllClosed=ji(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zi(void 0))),this._scrollStrategy=l}open(n,r){let o=this._defaultOptions||new uo;r=V(V({},o),r),r.id=r.id||`cdk-dialog-${TL++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),a=this._overlay.create(s),l=new qc(a,r),u=this._attachContainer(a,l,r);return l.containerInstance=u,this._attachDialogContent(n,l,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Av(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){Av(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Av(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new lo({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:uo,useValue:o},{provide:qc,useValue:r},{provide:Di,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,a.push(...o.container.providers(o))):l=Pv;let u=new ki(l,o.viewContainerRef,Ce.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return n.attach(u).instance}_attachDialogContent(n,r,o,s){if(n instanceof Tr){let a=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=V(V({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new ur(n,null,l,a))}else{let a=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new ki(n,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,s){let a=n.injector||n.viewContainerRef?.injector,l=[{provide:EL,useValue:n.data},{provide:qc,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!a||!a.get(Uc,null,{optional:!0}))&&l.push({provide:Uc,useValue:{value:n.direction,change:re()}}),Ce.create({parent:a||s,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(D(fr),D(Ce),D(CL,8),D(e,12),D(rh),D(IL))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Av(t,e){let i=t.length;for(;i--;)e(t[i])}function AL(t,e){}var xL={bottomSheetState:Nl("state",[Ro("void, hidden",xr({transform:"translateY(100%)"})),Ro("visible",xr({transform:"translateY(0%)"})),Oo("visible => void, visible => hidden",gf([Do(`${pv.COMPLEX} ${fv.ACCELERATION_CURVE}`),vf("@*",_f(),{optional:!0})])),Oo("void => visible",gf([Do(`${pv.EXITING} ${fv.DECELERATION_CURVE}`),vf("@*",_f(),{optional:!0})]))])},PL=(()=>{let e=class e extends Pv{constructor(n,r,o,s,a,l,u,h,p){super(n,r,o,s,a,l,u,p),this._animationState="void",this._animationStateChanged=new Je,this._breakpointSubscription=h.observe([Pi.Medium,Pi.Large,Pi.XLarge]).subscribe(()=>{let b=this._elementRef.nativeElement.classList;b.toggle("mat-bottom-sheet-container-medium",h.isMatched(Pi.Medium)),b.toggle("mat-bottom-sheet-container-large",h.isMatched(Pi.Large)),b.toggle("mat-bottom-sheet-container-xlarge",h.isMatched(Pi.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(n){n.toState==="visible"&&this._trapFocus(),this._animationStateChanged.emit(n)}_onAnimationStart(n){this._animationStateChanged.emit(n)}_captureInitialFocus(){}};e.\u0275fac=function(r){return new(r||e)(x(Ve),x(Jd),x(ce,8),x(uo),x(Lc),x(oe),x(Di),x(Ss),x(xs))},e.\u0275cmp=H({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(r,o){r&1&&Tl("@state.start",function(a){return o._onAnimationStart(a)})("@state.done",function(a){return o._onAnimationDone(a)}),r&2&&(Cl("@state",o._animationState),Lt("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel))},standalone:!0,features:[qe,K],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&se(0,AL,0,0,"ng-template",0)},dependencies:[hr],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[xL.bottomSheetState]}});let t=e;return t})(),kL=new X("MatBottomSheetData"),kv=class{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}},ah=class{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,i,n){this._ref=e,this._afterOpened=new ye,this.containerInstance=n,this.disableClose=i.disableClose,n._animationStateChanged.pipe(He(r=>r.phaseName==="done"&&r.toState==="visible"),_t(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(He(r=>r.phaseName==="done"&&r.toState==="hidden"),_t(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Ir(this.backdropClick(),this.keydownEvents().pipe(He(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!Yd(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(He(i=>i.phaseName==="start"),_t(1)).subscribe(i=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},i.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},DL=new X("mat-bottom-sheet-default-options"),ch=(()=>{let e=class e{get _openedBottomSheetRef(){let n=this._parentBottomSheet;return n?n._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(n){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=n:this._bottomSheetRefAtThisLevel=n}constructor(n,r,o,s){this._overlay=n,this._parentBottomSheet=o,this._defaultOptions=s,this._bottomSheetRefAtThisLevel=null,this._dialog=r.get(jT)}open(n,r){let o=V(V({},this._defaultOptions||new kv),r),s;return this._dialog.open(n,be(V({},o),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:PL,scrollStrategy:o.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:s}),providers:(a,l,u)=>(s=new ah(a,o,u),[{provide:ah,useValue:s},{provide:kL,useValue:o.data}])})),s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(n){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(n)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}};e.\u0275fac=function(r){return new(r||e)(D(fr),D(Ce),D(e,12),D(DL,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zT=(()=>{let e=class e{constructor(n){this.Firestore=n}getCurrentLocation(){return g(this,null,function*(){if(navigator.geolocation)return new Promise((n,r)=>{navigator.geolocation.getCurrentPosition(o=>{n({lat:o.coords.latitude,lng:o.coords.longitude})},o=>{r(o)})});throw new Error("Geolocation is not supported by this browser.")})}getStateFromCoordinates(n,r){return g(this,null,function*(){let o=new google.maps.Geocoder,s={lat:n,lng:r};return new Promise((a,l)=>{o.geocode({location:s},(u,h)=>{if(h==="OK")if(u&&u[0]){let p=this.getStateFromGeocodeResults(u);p?a(p):l(new Error("State not found in the address components."))}else l(new Error("No results found."));else l(new Error("Geocoder failed due to: "+h))})})})}getStateFromGeocodeResults(n){for(let r of n)for(let o of r.address_components)if(o.types.includes("administrative_area_level_1"))return o.long_name;return null}getCity(n){return g(this,null,function*(){let r=$t(this.Firestore,"city-catalogue"),o=oT(r,sT("state","==",n)),a=(yield Fn(o)).docs[0];return a?(localStorage.setItem("stateDocId",a.id),Fn($t(this.Firestore,"city-catalogue",a.id,"city"))):null})}};e.\u0275fac=function(r){return new(r||e)(D(je))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $T=(()=>{let e=class e{constructor(n,r,o,s,a,l){this.AuthService=n,this._bottomSheet=r,this.geolocationService=o,this.Router=s,this.DataProviderService=a,this.ToastService=l,this.state=null,this.error=null,this.phoneNumber="",this.terms=!1}ngOnInit(){this.geolocationService.getCurrentLocation().then(n=>this.geolocationService.getStateFromCoordinates(n.lat,n.lng)).then(n=>{this.state=n}).catch(n=>{this.error=n.message})}skip(){this.ToastService.showSuccess("Login Skipped"),this.Router.navigate(["/home"])}login(){return g(this,null,function*(){this.phoneNumber.length==10&&(this.verifier||(this.verifier=new Ur(this.AuthService.auth,"recaptcha-container",{size:"invisible"})),this.AuthService.loginWithPhoneNumber(this.phoneNumber,this.verifier).then(n=>{this.DataProviderService.loginConfirmationResult=n,this.DataProviderService.userMobile=this.phoneNumber,this.phoneNumber="",this.terms=!1,this.Router.navigate(["otp"])}).catch(n=>{console.log(n)}).finally(()=>{console.log("finally")}))})}};e.\u0275fac=function(r){return new(r||e)(x(ai),x(ch),x(zT),x(ge),x(at),x(ks))},e.\u0275cmp=H({type:e,selectors:[["app-login"]],standalone:!0,features:[K],decls:21,vars:1,consts:[[1,"login-page"],["src","assets/login/loginPageLogo.svg","alt",""],[1,"login-secton"],[1,"header_text_color","center-text"],[1,"field"],[1,"description_text"],["type","text","placeholder","Enter Phone Number","maxlength","10",1,"input_box_bg_gradient","header_text_color",3,"ngModelChange","ngModel"],[1,"header_text_color","secondary_botton_gradient","login",3,"click"],[1,"white","primary_botton_gradient","login",3,"click"],["id","recaptcha-container"],[1,"errorpage"],["src","/assets/homepage/error.svg"]],template:function(r,o){r&1&&(_(0,"section",0),F(1,"img",1),_(2,"div",2)(3,"p",3),E(4,"Book events and donations"),v(),_(5,"div",4)(6,"label",5),E(7,"Phone Number"),v(),F(8,"br"),_(9,"input",6),da("ngModelChange",function(a){return Ar(o.phoneNumber,a)||(o.phoneNumber=a),a}),v()(),_(10,"button",7),q("click",function(){return o.login()}),E(11,"Get OTP"),v(),_(12,"button",8),q("click",function(){return o.skip()}),E(13," Skip Login "),v()(),F(14,"div",9),v(),_(15,"div",10),F(16,"img",11),_(17,"p"),E(18,"Switch to Mobile "),v(),_(19,"p"),E(20,"for your best Experience"),v()()),r&2&&(M(9),ua("ngModel",o.phoneNumber))},dependencies:[ts,gn,Xn,sc,Nm],styles:["section[_ngcontent-%COMP%]{background:url(/assets/login/donorlogin.svg) #fdfdfd 50%/cover no-repeat;background-repeat:no-repeat;background-attachment:fixed;background-size:cover;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:70px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]{position:absolute;bottom:2px;width:96%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-family:Nunito,sans-serif;font-size:10px;font-style:normal;font-weight:500;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura,sans-serif}button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px;margin-bottom:5px}@media (min-width: 768px){.login-page[_ngcontent-%COMP%]{display:none}.errorpage[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}}@media (max-width: 767px){.errorpage[_ngcontent-%COMP%]{display:none}.login-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}"]});let t=e;return t})();var lh=(()=>{let e=class e{constructor(){this.loadingSubject=new dt(!1),this.isLoading$=this.loadingSubject.asObservable()}show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OL(t,e){if(t&1){let i=Me();_(0,"div",13),q("click",function(){let r=de(i).$implicit,o=J();return he(o.viewSlsbList(r.eventId,r))}),F(1,"img",14),_(2,"p",9),E(3),v(),_(4,"div",15)(5,"p",6),E(6,"Limited seats Availabe"),v(),_(7,"button",16),q("click",function(){let r=de(i).$implicit,o=J();return he(o.viewSlsbList(r.eventId,r))}),E(8,"Book Now"),v()()()}if(t&2){let i=e.$implicit;M(),B("src",i.images[0],Vt)("alt",i.title),M(2),pe(i.eventName)}}var GT=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.eventService=r,this.loadingService=o,this.DataProviderService=s,this.EventService=a,this.isEventPresent=!1,this.events=[{title:"Cearic Kashi Summit 2024",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"},{title:"Cearic Kashi Summit 2025",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"},{title:"Cearic Kashi Summit 2026",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"},{title:"Cearic Kashi Summit 2027",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"}],this.slabs=[{title:"Panchang slab",image:"/assets/homepage/event_1.1.svg"},{title:"Assi slab",image:"/assets/homepage/event_1.2.svg"},{title:"Assi slab",image:"/assets/homepage/event_1.3.svg"}]}ngOnInit(){this.eventService.getUsersFetched()||(this.loadingService.show(),this.getEvent(),this.eventService.getUsersFetched.set(!0))}getEvent(){return g(this,null,function*(){try{let n=yield hi(this.eventService.fetchDocs("events")),r=[],o={},s={},a={};for(let l of n){let u=yield hi(this.eventService.fetchDoc(`events/${l.eventId}`));if(u.active){let h=yield hi(this.eventService.fetchDoc(`events/${l.eventId}/itinerary/activities`));o[l.eventId]=h,this.eventService.itineraryList.set(o);let p=yield hi(this.eventService.fetchDocs(`events/${l.eventId}/slab-variant`));s[l.eventId]=[];for(let b of p){let C=yield hi(this.eventService.fetchDoc(`events/${l.eventId}/slab-variant/${b.slabId}`));if(C.active){let O=yield hi(this.eventService.fetchDocs(`events/${l.eventId}/slab-variant/${b.slabId}/variants`));a[b.slabId]=[];for(let L of O){let R=yield hi(this.eventService.fetchDoc(`events/${l.eventId}/slab-variant/${b.slabId}/variants/${L.variantId}`));yield this.isTaxActive(R?.taxType).then($=>{R.active&&$&&(a[b.slabId].push(R),this.eventService.variantList.set(a))}),this.loadingService.hide()}a[b.slabId].length>0&&(s[l.eventId].push(C),this.eventService.slabList.set(s))}}s[l.eventId].length>0&&(r.push(u),this.isEventPresent=!0,this.eventService.eventList.set(r))}}}catch(n){console.error("Error fetching events:",n),this.loadingService.hide()}})}isTaxActive(n){return g(this,null,function*(){let r;try{let o=this.eventService.fetchDoc(`tax-types/${n}`);r=(yield hi(o)).active}catch(o){console.error("Error fetching tax type:",o),r=!1}return r})}seeAllEvent(){this.router.navigate(["event-list"])}onSurveyClick(n){window.location.href=n.link}viewSlsbList(n,r){let o=this.EventService.bookingDetails();o.event=r,this.EventService.bookingDetails.set(o),this.router.navigate(["slab",n])}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(et),x(lh),x(at),x(et))},e.\u0275cmp=H({type:e,selectors:[["app-event"]],standalone:!0,features:[K],decls:19,vars:1,consts:[[1,"event"],[1,"button_text","header_text_color"],[1,"card"],["src","/assets/homepage/eventcard.svg"],[1,"detail"],[1,"section_title"],[1,"paragraph_text"],[1,"primary",3,"click"],[1,"heading"],[1,"section_title","header_text_color"],[1,"see-all",3,"click"],[1,"slider"],["class","slide",3,"click",4,"ngFor","ngForOf"],[1,"slide",3,"click"],[1,"eventimage",3,"src","alt"],[1,"bookNow"],[3,"click"]],template:function(r,o){r&1&&(_(0,"section",0)(1,"h2",1),E(2,"Discover Amazing Events"),v(),_(3,"div",2),F(4,"img",3),_(5,"div",4)(6,"h3",5),E(7,"Excitement events waiting for you"),v(),_(8,"p",6),E(9,"Register in various slabs of each events"),v(),_(10,"button",7),q("click",function(){return o.seeAllEvent()}),E(11,"view all"),v()()(),_(12,"div",8)(13,"h2",9),E(14,"Events"),v(),_(15,"button",10),q("click",function(){return o.seeAllEvent()}),E(16,"See All"),v()(),_(17,"div",11),se(18,OL,9,3,"div",12),v()()),r&2&&(M(18),B("ngForOf",o.eventService.eventList()))},dependencies:[xe,wt],styles:["section[_ngcontent-%COMP%]{padding-bottom:80px}.event[_ngcontent-%COMP%]{margin-top:12%;padding:20px;border-radius:10px}.event[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(90.32deg,#464e5f .28%,#464e5fcc 47.84%,#464e5f66 99.72%);display:flex;border-radius:12px;margin-top:5%}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{margin:40px 0}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:16px;margin:0 5px 0 0;line-height:1}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 5px 0 0;color:#fff;font-weight:500;font-size:13px}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 5px 0 25px;border-radius:10px;height:30px;width:90px;border:none}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .see-all[_ngcontent-%COMP%]{float:right;color:#00f;text-decoration:none;border:none;background:none}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{margin-top:5%;background:linear-gradient(180deg,#2d198a,#1c2127);border-radius:15px;display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none;width:360;height:300}.event[_ngcontent-%COMP%]   .eventimage[_ngcontent-%COMP%]{width:350px;height:250px;object-fit:cover;border-radius:20px;padding-left:20px;margin-top:15px}.event[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#fff;margin-left:15px}.event[_ngcontent-%COMP%]   .bookNow[_ngcontent-%COMP%]{display:flex;color:#fff;margin-left:15px;margin-top:15px;padding-bottom:30px;padding-right:5px;justify-content:space-between}.event[_ngcontent-%COMP%]   .bookNow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:80px;border-radius:10px}"]});let t=e;return t})();var WT=(()=>{let e=class e{constructor(n){this.router=n}openInNewTab(n){window.open(n,"_blank")}};e.\u0275fac=function(r){return new(r||e)(x(ge))},e.\u0275cmp=H({type:e,selectors:[["app-other-services"]],standalone:!0,features:[K],decls:19,vars:0,consts:[[1,"section_title","header_text_color"],[1,"hospital",3,"click"],["src","/assets/other_services/car.svg"],["src","/assets/other_services/airport.svg"],[1,"section_title"],["src","/assets/other_services/customersupport.svg"],[1,"hospital"],["src","/assets/other_services/tour.svg",3,"click"]],template:function(r,o){r&1&&(_(0,"section")(1,"p",0),E(2,"Services"),v(),_(3,"div",1),q("click",function(){return o.openInNewTab("https://www.varanasicab.com/")}),F(4,"img",2),_(5,"span"),E(6,"Cab booking"),v()(),_(7,"div",1),q("click",function(){return o.openInNewTab("https://www.varanasicab.com/")}),F(8,"img",3),_(9,"span",4),E(10,"Airport Pick and Drop"),v()(),_(11,"div",1),q("click",function(){return o.openInNewTab("https://www.travelraasta.in/packages")}),F(12,"img",5),_(13,"span",4),E(14,"Tour Guide "),v()(),_(15,"div",6)(16,"img",7),q("click",function(){return o.openInNewTab("https://www.varanasicab.com/")}),v(),_(17,"span",4),E(18,"Customer Support"),v()()())},styles:["section[_ngcontent-%COMP%]{padding:0 15px 80px}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400}section[_ngcontent-%COMP%]   .hospital[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:2rem;background:linear-gradient(90.32deg,#464e5f .28%,#464e5fcc 47.84%,#464e5f66 99.72%);border-radius:10px;height:70px;width:100%;padding:0 10px}section[_ngcontent-%COMP%]   .hospital[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px 0}section[_ngcontent-%COMP%]   .hospital[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:20px;font-size:18px;color:#f0f0f0;font-family:Jura,sans-serif;font-style:normal;font-weight:700;line-height:normal}"]});let t=e;return t})();var uh=(()=>{let e=class e{constructor(n,r){this.authService=n,this.DataProviderService=r}ngOnInit(){}};e.\u0275fac=function(r){return new(r||e)(x(ai),x(at))},e.\u0275cmp=H({type:e,selectors:[["app-header-with-menu"]],standalone:!0,features:[K],decls:4,vars:1,consts:[[1,"head"],[1,"header"],[1,"page_title","header_text_color"]],template:function(r,o){r&1&&(_(0,"div",0)(1,"div",1)(2,"p",2),E(3),v()()()),r&2&&(M(3),we("Welcome, ",o.DataProviderService.currentUser!=null&&o.DataProviderService.currentUser.userData?o.DataProviderService.currentUser==null?null:o.DataProviderService.currentUser.userData.name:"User",""))},styles:[".head[_ngcontent-%COMP%]{border-bottom:1px solid #8d8c8c}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;line-height:normal;padding:20px 0 10px;width:92vw;margin-left:4vw;position:fixed;z-index:100;background:#fff;border-bottom:1px solid #8d8c8c}.header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}.header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px;width:25px}"]});let t=e;return t})();var HT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-home"]],standalone:!0,features:[K],decls:3,vars:0,template:function(r,o){r&1&&F(0,"app-header-with-menu")(1,"app-event")(2,"app-other-services")},dependencies:[GT,WT,uh],styles:["@media (min-width: 768px){.login-page[_ngcontent-%COMP%]{display:none}.errorpage[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}}@media (max-width: 767px){.errorpage[_ngcontent-%COMP%]{display:none}.login-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}}"]});let t=e;return t})();function ML(t,e){if(t&1){let i=Me();_(0,"input",4,0),q("paste",function(r){de(i);let o=J(2);return he(o.handlePaste(r))})("keyup",function(r){let o=de(i).index,s=J(2);return he(s.onKeyUp(r,o))})("input",function(r){de(i);let o=J(2);return he(o.onInput(r))})("keydown",function(r){let o=de(i).index,s=J(2);return he(s.onKeyDown(r,o))}),v()}if(t&2){let i=e.$implicit,n=e.index,r=J(2);df("otp-input ",r.config.inputClass,""),B("pattern",r.config.allowNumbersOnly?"\\d*":"")("type",r.inputType)("placeholder",(r.config==null?null:r.config.placeholder)||"")("ngStyle",r.config.inputStyles)("formControl",r.otpForm.controls[i])("id",r.getBoxId(n))}}function NL(t,e){if(t&1&&(_(0,"div",2),se(1,ML,2,9,"input",3),xl(2,"keys"),v()),t&2){let i=J();df("ng-otp-input-wrapper wrapper ",i.config.containerClass,""),Vy("id","c_",i.componentKey,""),B("ngStyle",i.config.containerStyles),M(),B("ngForOf",Pl(2,7,i.otpForm==null?null:i.otpForm.controls))}}var pr=class{static ifTab(e){return this.ifKey(e,"Tab")}static ifDelete(e){return this.ifKey(e,"Delete;Del")}static ifBackspace(e){return this.ifKey(e,"Backspace")}static ifRightArrow(e){return this.ifKey(e,"ArrowRight;Right")}static ifLeftArrow(e){return this.ifKey(e,"ArrowLeft;Left")}static ifSpacebar(e){return this.ifKey(e,"Spacebar; ")}static ifKey(e,i){return i.split(";").some(r=>r===e.key)}},Dv=(()=>{class t{transform(i){return Object.keys(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=Py({name:"keys",type:t,pure:!0}),t})(),KT=(()=>{class t{constructor(i,n){this.keysPipe=i,this.document=n,this.config={length:4},this.onInputChange=new Je,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+new Date().getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new Qn({});for(let i=0;i<this.config.length;i++)this.otpForm.addControl(this.getControlName(i),new ke);this.otpForm.valueChanges.subscribe(i=>{this.keysPipe.transform(this.otpForm.controls).forEach(n=>{var r=this.otpForm.controls[n].value;r&&r.length>1&&(r.length>=this.config.length?this.setValue(r):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){let i=this.document.getElementById(`c_${this.componentKey}`);if(i){let n=i.getElementsByClassName("otp-input")[0];n&&n.focus&&n.focus()}}}getControlName(i){return`ctrl_${i}`}onKeyDown(i,n){let r=this.getBoxId(n-1),o=this.getBoxId(n);if(pr.ifSpacebar(i))return i.preventDefault(),!1;if(pr.ifBackspace(i)){i.target.value?this.clearInput(o,n):(this.clearInput(r,n-1),this.setSelected(r)),this.rebuildValue();return}}onInput(i){let n=this.currentVal?`${this.currentVal}${i.target.value}`:i.target.value;if(this.config.allowNumbersOnly&&!this.validateNumber(n)){i.target.value="",i.stopPropagation(),i.preventDefault();return}}onKeyUp(i,n){pr.ifTab(i)&&(n-=1);let r=this.getBoxId(n+1),o=this.getBoxId(n-1),s=this.getBoxId(n);if(pr.ifRightArrow(i)){i.preventDefault(),this.setSelected(r);return}if(pr.ifLeftArrow(i)){i.preventDefault(),this.setSelected(o);return}if(pr.ifDelete(i)){i.target.value?this.clearInput(s,n):(this.clearInput(o,n-1),this.setSelected(o)),this.rebuildValue();return}i.target.value&&(this.ifValidKeyCode(i)&&this.setSelected(r),this.rebuildValue())}validateNumber(i){return i&&/^[0-9]+$/.test(i)}getBoxId(i){return`otp_${i}_${this.componentKey}`}clearInput(i,n){let r=this.getControlName(n);this.otpForm.controls[r]?.setValue(null);let o=this.document.getElementById(i);o&&o instanceof HTMLInputElement&&(o.value=null)}setSelected(i){this.focusTo(i);let n=this.document.getElementById(i);n&&n.setSelectionRange&&setTimeout(()=>{n.setSelectionRange(0,1)},0)}ifValidKeyCode(i){let n=i.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(n)}focusTo(i){let n=this.document.getElementById(i);n&&n.focus()}setValue(i){if(!(this.config.allowNumbersOnly&&isNaN(i))){if(this.otpForm.reset(),!i){this.rebuildValue();return}if(i=i.toString().replace(/\s/g,""),Array.from(i).forEach((r,o)=>{this.otpForm.get(this.getControlName(o))&&this.otpForm.get(this.getControlName(o)).setValue(r)}),!this.config.disableAutoFocus){let r=this.document.getElementById(`c_${this.componentKey}`);var n=i.length<this.config.length?i.length:this.config.length-1;let o=r.getElementsByClassName("otp-input")[n];o&&o.focus&&o.focus()}this.rebuildValue()}}rebuildValue(){let i="";this.keysPipe.transform(this.otpForm.controls).forEach(n=>{if(this.otpForm.controls[n].value){let r=this.otpForm.controls[n].value,o=r.length>1,s=!this.config.allowNumbersOnly&&this.config.letterCase&&(this.config.letterCase.toLocaleLowerCase()=="upper"||this.config.letterCase.toLocaleLowerCase()=="lower");r=r[0];let a=s?this.config.letterCase.toLocaleLowerCase()=="upper"?r.toUpperCase():r.toLowerCase():r;s&&a==r?s=!1:r=a,i+=r,(o||s)&&this.otpForm.controls[n].setValue(r)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(i),this.onInputChange.emit(i),this.currentVal=i}handlePaste(i){let n=i.clipboardData||window.clipboardData;if(n)var r=n.getData("Text");i.stopPropagation(),i.preventDefault(),!(!r||this.config.allowNumbersOnly&&!this.validateNumber(r))&&this.setValue(r)}}return t.\u0275fac=function(i){return new(i||t)(x(Dv),x(ce))},t.\u0275cmp=H({type:t,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[["inp",""],[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id"]],template:function(i,n){i&1&&se(0,NL,3,9,"div",1),i&2&&B("ngIf",n.otpForm==null?null:n.otpForm.controls)},dependencies:[It,Hy,wt,gn,Bm,Xn,Lm,Dv],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),t})(),YT=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=$e({type:t}),t.\u0275inj=ze({providers:[Dv],imports:[[xe,ts,Jn]]}),t})();var Qe=(()=>{let e=class e{constructor(n){this.location=n,this.pageTitle=""}back(){this.location.back()}};e.\u0275fac=function(r){return new(r||e)(x(Gi))},e.\u0275cmp=H({type:e,selectors:[["app-header-with-back"]],inputs:{pageTitle:"pageTitle"},standalone:!0,features:[K],decls:5,vars:1,consts:[[1,"header"],[1,"back-with-title","header_text_color",3,"click"],["src","assets/header/back_button.svg","alt",""]],template:function(r,o){r&1&&(_(0,"div",0)(1,"div",1),q("click",function(){return o.back()}),F(2,"img",2),_(3,"p"),E(4),v()()()),r&2&&(M(4),pe(o.pageTitle))},styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:fixed;top:0;width:92vw;z-index:100;background:#fff;border-bottom:1px solid #8d8c8c;height:50px;margin-left:4vw}.header[_ngcontent-%COMP%]   .back-with-title[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Krona One,sans-serif;font-size:18px;font-style:normal;font-weight:400}"]});let t=e;return t})();var VL=["ngOtpInput"];function LL(t,e){if(t&1){let i=Me();_(0,"ng-otp-input",12,0),q("onInputChange",function(r){de(i);let o=J();return he(o.onOtpChange(r))}),v()}if(t&2){let i=J();B("config",i.config)}}function UL(t,e){if(t&1&&(_(0,"button",13),E(1),v()),t&2){let i=J();M(),we(" Wait for ",i.resendOtpTime," second ")}}function jL(t,e){if(t&1){let i=Me();_(0,"button",14),q("click",function(){de(i);let r=J();return he(r.sendOTP())}),E(1," Get OTP "),v()}}var QT=(()=>{let e=class e{constructor(n,r,o){this.router=n,this.dataProvider=r,this.authService=o,this.showOtpComponent=!0,this.resendOtpTime=120,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputmode:"tel",inputStyles:{width:"38px",height:"38px"}}}ngOnInit(){this.dataProvider.loginConfirmationResult?this.startResendTimer():this.router.navigate(["login"])}sendOTP(){return g(this,null,function*(){this.dataProvider.loginConfirmationResult&&(this.verifier||(this.verifier=new Ur(this.authService.auth,"recaptcha-container2",{size:"invisible"})),this.authService.loginWithPhoneNumber(this.dataProvider.userMobile,this.verifier).then(n=>{this.resendOtpTime=60,this.startResendTimer()}).catch(n=>{console.log(n)}).finally(()=>{console.log("finally")}))})}login(){return g(this,null,function*(){this.dataProvider.loginConfirmationResult&&this.dataProvider.loginConfirmationResult.confirm(this.otp).then(n=>{this.authService.setUserData(n.user),this.router.navigate(["profile"])}).catch(n=>{console.log(n)}).finally(()=>{console.log("finally")})})}onOtpChange(n){this.otp=n}setVal(n){this.ngOtpInput.setValue(n)}toggleDisable(){this.ngOtpInput.otpForm&&(this.ngOtpInput.otpForm.disabled?this.ngOtpInput.otpForm.enable():this.ngOtpInput.otpForm.disable())}onConfigChange(){this.showOtpComponent=!1,this.otp=null,setTimeout(()=>{this.showOtpComponent=!0},0)}startResendTimer(){setTimeout(()=>{this.resendOtpTime>0&&(this.resendOtpTime--,this.startResendTimer())},1e3)}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(at),x(ai))},e.\u0275cmp=H({type:e,selectors:[["app-otp"]],viewQuery:function(r,o){if(r&1&&Bn(VL,5),r&2){let s;Cn(s=Tn())&&(o.ngOtpInput=s.first)}},standalone:!0,features:[K],decls:13,vars:4,consts:[["ngOtpInput",""],[3,"pageTitle"],[1,"otp-container"],["id","recaptcha-container2"],["src","assets/otp/otp_page.svg","alt",""],[1,"login-section"],[1,"otp-inputs"],[1,"header_text_color"],[3,"config","onInputChange",4,"ngIf"],["class","description_text secondary_botton_gradient login",4,"ngIf"],["class","header_text_color secondary_botton_gradient login",3,"click",4,"ngIf"],[1,"white","primary_botton_gradient","login",3,"click"],[3,"onInputChange","config"],[1,"description_text","secondary_botton_gradient","login"],[1,"header_text_color","secondary_botton_gradient","login",3,"click"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",1),_(1,"section",2),F(2,"div",3)(3,"img",4),_(4,"div",5)(5,"div",6)(6,"p",7),E(7,"Auto filling OTP from sms"),v(),se(8,LL,2,1,"ng-otp-input",8),v(),se(9,UL,2,1,"button",9)(10,jL,2,0,"button",10),_(11,"button",11),q("click",function(){return o.login()}),E(12," Verify "),v()()()),r&2&&(B("pageTitle","Enter OTP"),M(8),B("ngIf",o.showOtpComponent),M(),B("ngIf",o.resendOtpTime>0),M(),B("ngIf",o.resendOtpTime===0))},dependencies:[Jn,YT,KT,xe,It,Qe],styles:["section[_ngcontent-%COMP%]{padding-top:50px;display:flex;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;margin-top:10vh}section[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]{position:absolute;bottom:2px;width:94%}section[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal}section[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .otp-inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:20px}button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px;margin-bottom:10px;font-size:16px;font-family:Jura,sans-serif;font-style:normal;font-weight:700;line-height:normal}"]});let t=e;return t})();var rS="firebasestorage.googleapis.com",oS="storageBucket",BL=2*60*1e3,zL=10*60*1e3,$L=1e3;var tt=class t extends Et{constructor(e,i,n=0){super(Rv(e),`Firebase Storage: ${i} (${Rv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Xe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Xe||{});function Rv(t){return"storage/"+t}function Bv(){let t="An unknown error occurred, please check the error payload for server response.";return new tt(Xe.UNKNOWN,t)}function qL(t){return new tt(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function GL(t){return new tt(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function WL(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Xe.UNAUTHENTICATED,t)}function HL(){return new tt(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function KL(t){return new tt(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function sS(){return new tt(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aS(){return new tt(Xe.CANCELED,"User canceled the upload/download.")}function YL(t){return new tt(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function QL(t){return new tt(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XL(){return new tt(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oS+"' property when initializing the app?")}function cS(){return new tt(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JL(){return new tt(Xe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ZL(){return new tt(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function e2(t){return new tt(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mv(t){return new tt(Xe.INVALID_ARGUMENT,t)}function lS(){return new tt(Xe.APP_DELETED,"The Firebase app was deleted.")}function t2(t){return new tt(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wc(t,e){return new tt(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Gc(t){throw new tt(Xe.INTERNAL_ERROR,"Internal error: "+t)}var jn=class t{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=t.makeFromUrl(e,i)}catch{return new t(e,"")}if(n.path==="")return n;throw QL(e)}static makeFromUrl(e,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function u(ne){ne.path_=decodeURIComponent(ne.path)}let h="v[A-Za-z0-9_]+",p=i.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",C=new RegExp(`^https?://${p}/${h}/b/${r}/o${b}`,"i"),O={bucket:1,path:3},L=i===rS?"(?:storage.googleapis.com|storage.cloud.google.com)":i,R="([^?#]*)",$=new RegExp(`^https?://${L}/${r}/${R}`,"i"),Q=[{regex:a,indices:l,postModify:o},{regex:C,indices:O,postModify:u},{regex:$,indices:{bucket:1,path:2},postModify:u}];for(let ne=0;ne<Q.length;ne++){let Fe=Q[ne],fe=Fe.regex.exec(e);if(fe){let T=fe[Fe.indices.bucket],y=fe[Fe.indices.path];y||(y=""),n=new t(T,y),Fe.postModify(n);break}}if(n==null)throw YL(e);return n}},Nv=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function n2(t,e,i){let n=1,r=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function h(...R){u||(u=!0,e.apply(null,R))}function p(R){r=setTimeout(()=>{r=null,t(C,l())},R)}function b(){o&&clearTimeout(o)}function C(R,...$){if(u){b();return}if(R){b(),h.call(null,R,...$);return}if(l()||s){b(),h.call(null,R,...$);return}n<64&&(n*=2);let Q;a===1?(a=2,Q=0):Q=(n+Math.random())*1e3,p(Q)}let O=!1;function L(R){O||(O=!0,b(),!u&&(r!==null?(R||(a=2),clearTimeout(r),p(0)):R||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,L(!0)},i),L}function i2(t){t(!1)}function r2(t){return t!==void 0}function o2(t){return typeof t=="function"}function s2(t){return typeof t=="object"&&!Array.isArray(t)}function ph(t){return typeof t=="string"||t instanceof String}function XT(t){return zv()&&t instanceof Blob}function zv(){return typeof Blob<"u"}function JT(t,e,i,n){if(n<e)throw Mv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw Mv(`Invalid value for '${t}'. Expected ${i} or less.`)}function Yc(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function uS(t){let e=encodeURIComponent,i="?";for(let n in t)if(t.hasOwnProperty(n)){let r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var Ms=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Ms||{});function dS(t,e){let i=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return i||r||o}var Fv=class{constructor(e,i,n,r,o,s,a,l,u,h,p,b=!0){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,O)=>{this.resolve_=C,this.reject_=O,this.start_()})}start_(){let e=(n,r)=>{if(r){n(!1,new Os(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Ms.NO_ERROR,l=o.getStatus();if(!a||dS(l,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Ms.ABORT;n(!1,new Os(!1,null,h));return}let u=this.successCodes_.indexOf(l)!==-1;n(!0,new Os(u,o))})},i=(n,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());r2(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=Bv();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(r.canceled){let l=this.appDelete_?lS():aS();s(l)}else{let l=sS();s(l)}};this.canceled_?i(!1,new Os(!1,null,!0)):this.backoffId_=n2(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Os=class{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}};function a2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d2(t,e,i,n,r,o,s=!0){let a=uS(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return l2(u,e),a2(u,i),c2(u,o),u2(u,n),new Fv(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}function h2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function f2(...t){let e=h2();if(e!==void 0){let i=new e;for(let n=0;n<t.length;n++)i.append(t[n]);return i.getBlob()}else{if(zv())return new Blob(t);throw new tt(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p2(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}function m2(t){if(typeof atob>"u")throw e2("base-64");return atob(t)}var ci={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Hc=class{constructor(e,i){this.data=e,this.contentType=i||null}};function g2(t,e){switch(t){case ci.RAW:return new Hc(hS(e));case ci.BASE64:case ci.BASE64URL:return new Hc(fS(t,e));case ci.DATA_URL:return new Hc(v2(e),b2(e))}throw Bv()}function hS(t){let e=[];for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<t.length-1&&(t.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{let o=n,s=t.charCodeAt(++i);n=65536|(o&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function _2(t){let e;try{e=decodeURIComponent(t)}catch{throw Wc(ci.DATA_URL,"Malformed data URL.")}return hS(e)}function fS(t,e){switch(t){case ci.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Wc(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ci.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Wc(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=m2(e)}catch(r){throw r.message.includes("polyfill")?r:Wc(t,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var hh=class{constructor(e){this.base64=!1,this.contentType=null;let i=e.match(/^data:([^,]+)?,/);if(i===null)throw Wc(ci.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=y2(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function v2(t){let e=new hh(t);return e.base64?fS(ci.BASE64,e.rest):_2(e.rest)}function b2(t){return new hh(t).contentType}function y2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var fh=class t{constructor(e,i){let n=0,r="";XT(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,i){if(XT(this.data_)){let n=this.data_,r=p2(n,e,i);return r===null?null:new t(r)}else{let n=new Uint8Array(this.data_.buffer,e,i-e);return new t(n,!0)}}static getBlob(...e){if(zv()){let i=e.map(n=>n instanceof t?n.data_:n);return new t(f2.apply(null,i))}else{let i=e.map(s=>ph(s)?g2(ci.RAW,s).data:s.data_),n=0;i.forEach(s=>{n+=s.byteLength});let r=new Uint8Array(n),o=0;return i.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new t(r,!0)}}uploadData(){return this.data_}};function pS(t){let e;try{e=JSON.parse(t)}catch{return null}return s2(e)?e:null}function w2(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I2(t,e){let i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function mS(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function E2(t,e){return e}var Rt=class{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||E2}},dh=null;function C2(t){return!ph(t)||t.length<2?t:mS(t)}function gS(){if(dh)return dh;let t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(o,s){return C2(s)}let i=new Rt("name");i.xform=e,t.push(i);function n(o,s){return s!==void 0?Number(s):s}let r=new Rt("size");return r.xform=n,t.push(r),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),dh=t,dh}function T2(t,e){function i(){let n=t.bucket,r=t.fullPath,o=new jn(n,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:i})}function S2(t,e,i){let n={};n.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];n[s.local]=s.xform(n,e[s.server])}return T2(n,t),n}function _S(t,e,i){let n=pS(e);return n===null?null:S2(t,n,i)}function A2(t,e,i,n){let r=pS(e);if(r===null||!ph(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let h=t.bucket,p=t.fullPath,b="/b/"+s(h)+"/o/"+s(p),C=Yc(b,i,n),O=uS({alt:"media",token:u});return C+O})[0]}function vS(t,e){let i={},n=e.length;for(let r=0;r<n;r++){let o=e[r];o.writable&&(i[o.server]=t[o.local])}return JSON.stringify(i)}var mr=class{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Ri(t){if(!t)throw Bv()}function $v(t,e){function i(n,r){let o=_S(t,r,e);return Ri(o!==null),o}return i}function x2(t,e){function i(n,r){let o=_S(t,r,e);return Ri(o!==null),A2(o,r,t.host,t._protocol)}return i}function Qc(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=HL():r=WL():i.getStatus()===402?r=GL(t.bucket):i.getStatus()===403?r=KL(t.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return e}function bS(t){let e=Qc(t);function i(n,r){let o=e(n,r);return n.getStatus()===404&&(o=qL(t.path)),o.serverResponse=r.serverResponse,o}return i}function P2(t,e,i){let n=e.fullServerUrl(),r=Yc(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new mr(r,o,$v(t,i),s);return a.errorHandler=bS(e),a}function k2(t,e,i){let n=e.fullServerUrl(),r=Yc(n,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new mr(r,o,x2(t,i),s);return a.errorHandler=bS(e),a}function D2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function yS(t,e,i){let n=Object.assign({},i);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=D2(null,e)),n}function R2(t,e,i,n,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let Q="";for(let ne=0;ne<2;ne++)Q=Q+Math.random().toString().slice(2);return Q}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let u=yS(e,n,r),h=vS(u,i),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,b=`\r
--`+l+"--",C=fh.getBlob(p,n,b);if(C===null)throw cS();let O={name:u.fullPath},L=Yc(o,t.host,t._protocol),R="POST",$=t.maxUploadRetryTime,Z=new mr(L,R,$v(t,i),$);return Z.urlParams=O,Z.headers=s,Z.body=C.uploadData(),Z.errorHandler=Qc(e),Z}var Ns=class{constructor(e,i,n,r){this.current=e,this.total=i,this.finalized=!!n,this.metadata=r||null}};function qv(t,e){let i=null;try{i=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ri(!1)}return Ri(!!i&&(e||["active"]).indexOf(i)!==-1),i}function O2(t,e,i,n,r){let o=e.bucketOnlyServerUrl(),s=yS(e,n,r),a={name:s.fullPath},l=Yc(o,t.host,t._protocol),u="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=vS(s,i),b=t.maxUploadRetryTime;function C(L){qv(L);let R;try{R=L.getResponseHeader("X-Goog-Upload-URL")}catch{Ri(!1)}return Ri(ph(R)),R}let O=new mr(l,u,C,b);return O.urlParams=a,O.headers=h,O.body=p,O.errorHandler=Qc(e),O}function M2(t,e,i,n){let r={"X-Goog-Upload-Command":"query"};function o(u){let h=qv(u,["active","final"]),p=null;try{p=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ri(!1)}p||Ri(!1);let b=Number(p);return Ri(!isNaN(b)),new Ns(b,n.size(),h==="final")}let s="POST",a=t.maxUploadRetryTime,l=new mr(i,s,o,a);return l.headers=r,l.errorHandler=Qc(e),l}var ZT=256*1024;function N2(t,e,i,n,r,o,s,a){let l=new Ns(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=n.size()),n.size()!==l.total)throw JL();let u=l.total-l.current,h=u;r>0&&(h=Math.min(h,r));let p=l.current,b=p+h,C="";h===0?C="finalize":u===h?C="upload, finalize":C="upload";let O={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${l.current}`},L=n.slice(p,b);if(L===null)throw cS();function R(ne,Fe){let fe=qv(ne,["active","final"]),T=l.current+h,y=n.size(),w;return fe==="final"?w=$v(e,o)(ne,Fe):w=null,new Ns(T,y,fe==="final",w)}let $="POST",Z=e.maxUploadRetryTime,Q=new mr(i,$,R,Z);return Q.headers=O,Q.body=L.uploadData(),Q.progressCallback=a||null,Q.errorHandler=Qc(t),Q}var Jt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ov(t){switch(t){case"running":case"pausing":case"canceling":return Jt.RUNNING;case"paused":return Jt.PAUSED;case"success":return Jt.SUCCESS;case"canceled":return Jt.CANCELED;case"error":return Jt.ERROR;default:return Jt.ERROR}}var Vv=class{constructor(e,i,n){if(o2(e)||i!=null||n!=null)this.next=e,this.error=i??void 0,this.complete=n??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Ds(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var eS=null,Lv=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ms.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ms.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ms.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw Gc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Uv=class extends Lv{initXhr(){this.xhr_.responseType="text"}};function Rs(){return eS?eS():new Uv}var jv=class{constructor(e,i,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=i,this._metadata=n,this._mappings=gS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Xe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(dS(r.status,[]))if(o)r=sS();else{this.sleepTime=Math.max(this.sleepTime*2,$L),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Xe.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return i=>this._updateProgress(e+i)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,n])=>{switch(this._state){case"running":e(i,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,i)=>{let n=O2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Rs,e,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((i,n)=>{let r=M2(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,Rs,i,n);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=ZT*this._chunkMultiplier,i=new Ns(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=N2(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,i,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(s,Rs,r,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ZT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,i)=>{let n=P2(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,Rs,e,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,i)=>{let n=R2(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,Rs,e,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let i=this._transferred;this._transferred=e,this._transferred!==i&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let i=this._state==="paused";this._state=e,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=aS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Ov(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,i,n,r){let o=new Vv(i||void 0,n||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,i){return this._promise.then(e,i)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let i=this._observers.indexOf(e);i!==-1&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ov(this._state)){case Jt.SUCCESS:Ds(this._resolve.bind(null,this.snapshot))();break;case Jt.CANCELED:case Jt.ERROR:let i=this._reject;Ds(i.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ov(this._state)){case Jt.RUNNING:case Jt.PAUSED:e.next&&Ds(e.next.bind(e,this.snapshot))();break;case Jt.SUCCESS:e.complete&&Ds(e.complete.bind(e))();break;case Jt.CANCELED:case Jt.ERROR:e.error&&Ds(e.error.bind(e,this._error))();break;default:e.error&&Ds(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Fs=class t{constructor(e,i){this._service=e,i instanceof jn?this._location=i:this._location=jn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new t(e,i)}get root(){let e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mS(this._location.path)}get storage(){return this._service}get parent(){let e=w2(this._location.path);if(e===null)return null;let i=new jn(this._location.bucket,e);return new t(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw t2(e)}};function F2(t,e,i){return t._throwIfRoot("uploadBytesResumable"),new jv(t,new fh(e),i)}function V2(t){t._throwIfRoot("getDownloadURL");let e=k2(t.storage,t._location,gS());return t.storage.makeRequestWithTokens(e,Rs).then(i=>{if(i===null)throw ZL();return i})}function L2(t,e){let i=I2(t._location.path,e),n=new jn(t._location.bucket,i);return new Fs(t.storage,n)}function U2(t){return/^[A-Za-z]+:\/\//.test(t)}function j2(t,e){return new Fs(t,e)}function wS(t,e){if(t instanceof Kc){let i=t;if(i._bucket==null)throw XL();let n=new Fs(i,i._bucket);return e!=null?wS(n,e):n}else return e!==void 0?L2(t,e):t}function B2(t,e){if(e&&U2(e)){if(t instanceof Kc)return j2(t,e);throw Mv("To use ref(service, url), the first argument must be a Storage instance.")}else return wS(t,e)}function tS(t,e){let i=e?.[oS];return i==null?null:jn.makeFromBucketSpec(i,t)}function z2(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";let{mockUserToken:r}=n;r&&(t._overrideAuthToken=typeof r=="string"?r:au(r,t.app.options.projectId))}var Kc=class{constructor(e,i,n,r,o){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=rS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BL,this._maxUploadRetryTime=zL,this._requests=new Set,r!=null?this._bucket=jn.makeFromBucketSpec(r,this._host):this._bucket=tS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=tS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return g(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let i=yield e.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return g(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fs(this,e)}_makeRequest(e,i,n,r,o=!0){if(this._deleted)return new Nv(lS());{let s=d2(e,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,i){return g(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()})}},nS="@firebase/storage",iS="0.12.6";var IS="storage";function ES(t,e,i){return t=Oe(t),F2(t,e,i)}function CS(t){return t=Oe(t),V2(t)}function TS(t,e){return t=Oe(t),B2(t,e)}function SS(t=rn(),e){t=Oe(t);let n=Xt(t,IS).getImmediate({identifier:e}),r=qo("storage");return r&&AS(n,...r),n}function AS(t,e,i,n={}){z2(t,e,i,n)}function $2(t,{instanceIdentifier:e}){let i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Kc(i,n,r,e,Gn)}function q2(){Ct(new rt(IS,$2,"PUBLIC").setMultipleInstances(!0)),Ie(nS,iS,""),Ie(nS,iS,"esm2017")}q2();var ho=class{constructor(e){return e}},xS="storage",Gv=class{constructor(){return Dn(xS)}};var Wv=new X("angularfire2.storage-instances");function G2(t,e){let i=Hn(xS,t,e);return i&&new ho(i)}function W2(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new ho(n)}}var H2={provide:Gv,deps:[[new Ue,Wv]]},K2={provide:ho,useFactory:G2,deps:[[new Ue,Wv],Ht]};function PS(t,...e){return Ie("angularfire",on.full,"gcs"),ct([K2,H2,{provide:Wv,useFactory:W2(t),multi:!0,deps:[oe,Ce,mn,sn,[new Ue,wi],[new Ue,Wn],...e]}])}var kS=Ne(CS,!0);var DS=Ne(SS,!0);var Hv=Ne(TS,!0);var RS=Ne(ES,!0);var OS=(()=>{let e=class e{constructor(n){this.Firestore=n}updateProfileInfo(n){return g(this,null,function*(){return si(bt(this.Firestore,"users",n.uid),n)})}};e.\u0275fac=function(r){return new(r||e)(D(je))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MS=(()=>{let e=class e{constructor(n,r,o,s,a,l,u){this.storage=n,this.firestore=r,this.Router=o,this.dataProvider=s,this.ProfileInfoService=a,this.Auth=l,this.AuthService=u,this.userForm=new Qn({name:new ke("",Ye.required),gender:new ke("male",Ye.required),dob:new ke("",Ye.required),active:new ke(!0),photoURL:new ke("https://firebasestorage.googleapis.com/v0/b/fyi1-aa2c2.appspot.com/o/donorProfile%2Fimages.jfif?alt=media&token=bd4b3393-3582-4f4a-a8f6-cdcea90528ac"),age:new ke(""),uid:new ke(""),phoneNumber:new ke("")}),this.isImgSizeValid=!1}openDatePicker(){let n=document.getElementById("startDate");n.focus(),n.click()}ngOnInit(){let n=this.dataProvider.currentUser?.userData;this.dataProvider.currentUser&&this.dataProvider.currentUser?.userData&&this.dataProvider.currentUser?.userData.name&&this.userForm.setValue(n)}setDate(n){this.userForm.get("dob")?.setValue(n)}changePhoto(n){return g(this,null,function*(){let r=n.target.files[0];if(r.size/1024>500){this.isImgSizeValid=!0;return}else{this.isImgSizeValid=!1;let h=`donorProfile/${`${new Date().getTime()}.${r.name.split(".").pop()}`}`;yield RS(Hv(this.storage,h),r);let p=yield kS(Hv(this.storage,h));this.userForm.patchValue({photoURL:p})}})}removePhoto(){this.userForm.value.img="assets/add-user/dummyProfile.jpg"}cancel(){this.Router.navigate(["login"])}submit(){this.userForm.valid&&(this.userForm.value.uid=this.dataProvider.currentUser?.user.uid,this.userForm.value.phoneNumber=this.dataProvider.currentUser?.userData.phoneNumber,this.userForm.value.age=new Date().getFullYear()-new Date(this.userForm.value.dob).getFullYear(),this.ProfileInfoService.updateProfileInfo(this.userForm.value).then(()=>{this.Router.navigate(["home"])}))}};e.\u0275fac=function(r){return new(r||e)(x(ho),x(je),x(ge),x(at),x(OS),x(Rn),x(ai))},e.\u0275cmp=H({type:e,selectors:[["app-profile-info"]],standalone:!0,features:[K],decls:38,vars:4,consts:[["fileInput",""],[3,"pageTitle"],["alt","Profile Photo",1,"profile_section",3,"src"],[1,"upload_picture_btn"],["type","file","accept","image/*",2,"display","none",3,"change"],["src","assets/profile/camera.svg","alt","",3,"click"],["src","assets/profile/upload_img_icon.svg","alt","",3,"click"],[1,"login-secton"],[3,"formGroup"],[1,"field"],[1,"description_text"],["type","text","placeholder","Enter Your Name","formControlName","name",1,"input_box_bg_gradient","header_text_color"],["formControlName","gender",1,"input_box_bg_gradient","header_text_color"],["value","male"],["value","female"],["value","other"],[1,"date-picker-wrapper"],["type","date","id","startDate","name","startDate","formControlName","dob","min","1940-01-01","max","2015-12-31",1,"input_box_bg_gradient","header_text_color","custom-date-input"],[1,"custom-calendar-icon",3,"click"],[3,"click","btnName"]],template:function(r,o){if(r&1){let s=Me();F(0,"app-header-with-back",1),_(1,"section")(2,"div"),F(3,"img",2),v(),_(4,"div",3)(5,"div")(6,"input",4,0),q("change",function(l){return de(s),he(o.changePhoto(l))}),v(),_(8,"img",5),q("click",function(){de(s);let l=So(7);return he(l.click())}),v()(),_(9,"div")(10,"input",4,0),q("change",function(l){return de(s),he(o.changePhoto(l))}),v(),_(12,"img",6),q("click",function(){de(s);let l=So(7);return he(l.click())}),v()()(),_(13,"div",7)(14,"form",8)(15,"div",9)(16,"label",10),E(17,"Name"),v(),F(18,"br")(19,"input",11),v(),_(20,"div",9)(21,"label",10),E(22,"Gender"),v(),F(23,"br"),_(24,"select",12)(25,"option",13),E(26,"Male"),v(),_(27,"option",14),E(28,"Female"),v(),_(29,"option",15),E(30,"Other"),v()()(),_(31,"div",9)(32,"label",10),E(33,"DOB"),v(),_(34,"div",16),F(35,"input",17),_(36,"div",18),q("click",function(){return de(s),he(o.openDatePicker())}),v()()()(),_(37,"lib-save-btn",19),q("click",function(){return de(s),he(o.submit())}),v()()()}r&2&&(B("pageTitle","Your Profile"),M(3),B("src",o.userForm.value.photoURL,Vt),M(11),B("formGroup",o.userForm),M(23),B("btnName","Next"))},dependencies:[Qe,Jn,Jo,Zo,es,gn,rr,Xn,Xo,$r,qr,$o],styles:["section[_ngcontent-%COMP%]{padding-top:50px;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100vw}section[_ngcontent-%COMP%]   .profile_section[_ngcontent-%COMP%]{margin-top:50px;border:2px solid rgb(47,21,170);border-radius:50%;width:225px;height:225px}section[_ngcontent-%COMP%]   .upload_picture_btn[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;gap:25px;margin-top:15px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]{position:absolute;bottom:5px;width:94%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-family:Nunito,sans-serif;font-size:10px;font-style:normal;font-weight:500;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px;font-family:Merge One,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .custom-date-input[_ngcontent-%COMP%]{position:relative;background:url(/assets/profile/datepicker.svg) no-repeat right 10px center;background-size:20px 20px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .custom-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura,sans-serif}"]});let t=e;return t})();var NS=(()=>{let e=class e{constructor(n,r){this.Firestore=n,this.Router=r}getStateList(){return g(this,null,function*(){return Fn($t(this.Firestore,"city-catalogue"))})}getCityList(n){return g(this,null,function*(){return Fn($t(this.Firestore,"city-catalogue",n,"city"))})}addAddress(n,r){if(n.taxId){let o=bt(this.Firestore,"users",r,"addresses",n.addressId);return Kd(o,n).then(()=>{})}else{let o=bt($t(this.Firestore,"users",r,"addresses"));return n.addressId=o.id,si(o,n).then(()=>{this.Router.navigate(["home"])})}}};e.\u0275fac=function(r){return new(r||e)(D(je),D(ge))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J2(t,e){if(t&1&&(_(0,"option",14),E(1),v()),t&2){let i=e.$implicit;B("value",i.stateId),M(),we(" ",i.state," ")}}function Z2(t,e){if(t&1&&(_(0,"option",14),E(1),v()),t&2){let i=e.$implicit;B("value",i.cityId),M(),we(" ",i.city," ")}}var FS=(()=>{let e=class e{constructor(n,r,o,s){this.Router=n,this.AuthService=r,this.AddressService=o,this.dataProvider=s,this.stateList=[],this.cityList=[],this.selectedCityId="",this.selectedStateId="",this.addressForm=new Qn({selectedStateId:new ke(this.selectedStateId,Ye.required),selectedCityId:new ke(this.selectedCityId,Ye.required),pincode:new ke("",Ye.required),landmark:new ke("",Ye.required),area:new ke("",Ye.required),phoneNumber:new ke("",Ye.required),active:new ke(!0),addressId:new ke("")})}ngOnInit(){return g(this,null,function*(){if(yield this.AddressService.getStateList().then(n=>{n?.docs.map(r=>{r.data().active&&this.stateList.push(r.data())}),this.selectedStateId=this.stateList[0].stateId,this.getCities()}),this.dataProvider.currentUser?.userData?.phoneNumber){let n=this.dataProvider.currentUser.userData.phoneNumber.slice(3);this.addressForm.patchValue({phoneNumber:n})}else console.log("Phone number is not defined")})}getCities(){return g(this,null,function*(){yield this.AddressService.getCityList(this.selectedStateId).then(n=>{n.docs.map(r=>{r.data().active&&this.cityList.push(r.data())}),this.selectedCityId=this.cityList[0].cityId})})}submitAddress(){}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(ai),x(NS),x(at))},e.\u0275cmp=H({type:e,selectors:[["app-add-address"]],standalone:!0,features:[K],decls:38,vars:9,consts:[[3,"pageTitle"],["src","assets/address/addressBanner.svg","alt","address"],[1,"login-secton"],[3,"formGroup"],[1,"field"],[1,"description_text"],["name","selectedState","formControlName","selectedStateId",1,"input_box_bg_gradient","header_text_color",3,"ngModelChange","valueChange","change","ngModel","value"],[3,"value",4,"ngFor","ngForOf"],["name","selectedCity","formControlName","selectedCityId",1,"input_box_bg_gradient","header_text_color",3,"ngModelChange","valueChange","ngModel","value"],["type","number","formControlName","pincode","placeholder","Pincode","minlength","6","maxlength","6","oninput","this.value = this.value.replace(/[^0-9]/g, '').slice(0, 6)",1,"input_box_bg_gradient","header_text_color"],["type","text","formControlName","area","placeholder","Enter House No./Area",1,"input_box_bg_gradient","header_text_color"],["type","text","formControlName","landmark","placeholder","landmark",1,"input_box_bg_gradient","header_text_color"],["type","number","formControlName","phoneNumber","placeholder","Enter Contact Number","minlength","10","maxlength","10","oninput","this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)",1,"input_box_bg_gradient","header_text_color"],[3,"click","btnName"],[3,"value"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"section"),F(2,"img",1),_(3,"div",2)(4,"form",3)(5,"div",4)(6,"label",5),E(7,"Select State"),v(),F(8,"br"),_(9,"select",6),da("ngModelChange",function(a){return Ar(o.selectedStateId,a)||(o.selectedStateId=a),a})("valueChange",function(a){return Ar(o.selectedStateId,a)||(o.selectedStateId=a),a}),q("change",function(){return o.getCities()}),se(10,J2,2,2,"option",7),v()(),_(11,"div",4)(12,"label",5),E(13,"Select City"),v(),F(14,"br"),_(15,"select",8),da("ngModelChange",function(a){return Ar(o.selectedCityId,a)||(o.selectedCityId=a),a})("valueChange",function(a){return Ar(o.selectedCityId,a)||(o.selectedCityId=a),a}),se(16,Z2,2,2,"option",7),v()(),_(17,"div",4)(18,"label",5),E(19,"Pin-Code"),v(),F(20,"br")(21,"input",9),v(),_(22,"div",4)(23,"label",5),E(24,"House No./Area"),v(),F(25,"br")(26,"input",10),v(),_(27,"div",4)(28,"label",5),E(29,"Landmark"),v(),F(30,"br")(31,"input",11),v(),_(32,"div",4)(33,"label",5),E(34,"Contact "),v(),F(35,"br")(36,"input",12),v(),_(37,"lib-save-btn",13),q("click",function(){return o.submitAddress()}),v()()()()),r&2&&(B("pageTitle","Add Address"),M(4),B("formGroup",o.addressForm),M(5),ua("ngModel",o.selectedStateId)("value",o.selectedStateId),M(),B("ngForOf",o.stateList),M(5),ua("ngModel",o.selectedCityId)("value",o.selectedCityId),M(),B("ngForOf",o.cityList),M(21),B("btnName","Submit"))},dependencies:[Qe,xe,wt,ts,Jo,Zo,es,gn,Fm,rr,Xn,Xo,jm,sc,$o,Jn,$r,qr],styles:["section[_ngcontent-%COMP%]{padding-top:60px;display:flex;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:20px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]{position:absolute;bottom:5px;width:96%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-family:Nunito,sans-serif;font-size:10px;font-style:normal;font-weight:500;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px;font-family:Merge One,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura,sans-serif}"]});let t=e;return t})();var VS=(()=>{let e=class e{constructor(n,r){this.firestore=n,this.EventService=r}addInbooking(){return g(this,null,function*(){try{let n=this.EventService.bookingDetails().customer.uid,r=this.EventService.bookingDetails(),o=bt($t(this.firestore,"users",n,"cart"));return r.id=o.id,si(o,r),{bookingId:r.id}}catch(n){return console.error("Error adding document: ",n),n}})}};e.\u0275fac=function(r){return new(r||e)(D(je),D(et))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tU(t,e){if(t&1){let i=Me();_(0,"div",34),q("click",function(){let r=de(i).index,o=J();return he(o.setActiveTab(r))}),E(1),v()}if(t&2){let i=e.$implicit,n=e.index,r=J();lt("active",n===r.activeTab),M(),we(" Member ",i," ")}}function nU(t,e){t&1&&(_(0,"div",35),E(1," Your mobile number is invalid! "),v())}function iU(t,e){t&1&&(_(0,"div",35),E(1," Your aadhar number is invalid! "),v())}function rU(t,e){t&1&&(_(0,"div",36)(1,"span"),E(2,"Aadhar uploaded successfully!"),v()())}function oU(t,e){t&1&&(_(0,"div",35),E(1," Your pan number is invalid! "),v())}function sU(t,e){t&1&&(_(0,"div",36)(1,"span"),E(2,"Pancard uploaded successfully!"),v()())}var LS=(()=>{let e=class e{constructor(n,r,o,s,a){if(this.router=n,this.memberservice=r,this.EventService=o,this.DataProviderService=s,this.ToastService=a,this.disabled=!1,this.profileImageSrc="https://firebasestorage.googleapis.com/v0/b/fyi1-aa2c2.appspot.com/o/donorProfile%2Fimages.jfif?alt=media&token=bd4b3393-3582-4f4a-a8f6-cdcea90528ac",this.panuploadSuccess=!1,this.aadharuploadSuccess=!1,this.userTabCount=3,this.tabs=[],this.activeTab=0,this.membersData=[],this.memberForm=new Qn({Name:new ke("",Ye.required),gender:new ke("",Ye.required),mobileNo:new ke("",[Ye.required,Ye.pattern(RegExp("[0-9]{10}"))]),profileImageSrc:new ke(""),Aadharnumber:new ke("",[Ye.required,Ye.pattern(RegExp("[0-9]{12}"))]),Adharimages:new ke("",Ye.required),Pannumber:new ke("",[Ye.required,Ye.pattern(RegExp("[A-Z]{5}[0-9]{4}[A-Z]{1}"))]),panimages:new ke("",Ye.required)}),this.generateTabs(),this.initializeMembersData(),this.DataProviderService.loggedIn){let l=this.EventService.bookingDetails();l.customer=this.DataProviderService.currentUser?.userData;let u=this.EventService.bookingDetails().variant.taxType;this.EventService.fetchDoc(`tax-types/${u}`).subscribe(h=>{let p=this.EventService.bookingDetails();p.tax=h}),this.EventService.bookingDetails.set(l)}else this.ToastService.showError("Please Login First"),this.router.navigate(["login"])}ngOnInit(){this.userTabCount=this.EventService.bookingDetails().totalMember}initializeMembersData(){this.userTabCount=this.EventService.bookingDetails().totalMember;for(let n=0;n<this.userTabCount;n++)this.membersData.push(this.createEmptyMemberData())}createEmptyMemberData(){return{Name:"",gender:"",mobileNo:"",Aadharnumber:"",Adharimages:"",Pannumber:"",panimages:"",profileImageSrc:"/assets/member_detail/default.svg"}}generateTabs(){this.userTabCount=this.EventService.bookingDetails().totalMember,this.tabs=Array.from({length:this.userTabCount},(n,r)=>r+1),this.setActiveTab(0)}setActiveTab(n){this.activeTab!==n&&(this.membersData[this.activeTab]=be(V({},this.memberForm.value),{profileImageSrc:this.profileImageSrc}),this.activeTab=n,console.log(this.membersData[this.activeTab]),this.memberForm.setValue(this.membersData[this.activeTab]))}onFileSelected(n){let r=n.target;if(r.files&&r.files[0]){let o=r.files[0];this.profileImageSrc=URL.createObjectURL(o),this.membersData[this.activeTab].profileImageSrc=this.profileImageSrc}}triggerFileInputAadhar(){document.getElementById("fileInputAadhar").click()}triggerFileInputPan(){document.getElementById("fileInputPan").click()}onPanUpload(n){n.target.files&&n.target.files.length>0&&(this.panuploadSuccess=!0)}onAadharUpload(n){n.target.files&&n.target.files.length>0&&(this.aadharuploadSuccess=!0)}saveMemberDetail(){if(this.memberForm.valid)if(this.membersData[this.activeTab]=be(V({},this.memberForm.value),{profileImageSrc:this.profileImageSrc}),this.activeTab<this.tabs.length-1)this.setActiveTab(this.activeTab+1);else{let n=this.EventService.bookingDetails().variant.price,r=this.EventService.bookingDetails().totalMember,o=0;if(this.EventService.bookingDetails().variant.taxCalc!="inclusive"){let a=this.EventService.bookingDetails().tax;if(a.taxType=="percentage"){let l=n*r,u=l*a.taxRate/100;o=l+u}else o=(n+a.price)*r}else o=n*r;let s=this.EventService.bookingDetails();s.paymentDetail={variantPrice:n,totalMember:r,totalPrice:o,paymentStatus:"pending"},s.memberDetail=this.membersData,this.EventService.bookingDetails.set(s),this.memberservice.addInbooking().then(a=>{this.router.navigate(["payment",a.bookingId])}).catch(a=>{console.error("Error creating coupon: ",a)})}else console.log("Form is invalid")}resetForm(){this.memberForm.reset(),this.profileImageSrc="/assets/member_detail/default.svg",this.panuploadSuccess=!1,this.aadharuploadSuccess=!1;let n=document.getElementById("fileInputAadhar"),r=document.getElementById("fileInputPan");n&&(n.value=""),r&&(r.value="")}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(VS),x(et),x(at),x(ks))},e.\u0275cmp=H({type:e,selectors:[["app-member-details"]],inputs:{disabled:"disabled"},standalone:!0,features:[K],decls:60,vars:11,consts:[[3,"pageTitle"],[1,"scroll"],[1,"tabs"],["class","tab section_title",3,"active","click",4,"ngFor","ngForOf"],[1,"memberdetail",3,"formGroup"],[1,"profile"],["alt","Profile Image",3,"src"],["for","filepath",1,"upload-icon"],["src","/assets/member_detail/icon.svg"],["type","file","id","filepath","accept","image/*",3,"change"],[1,"detail"],[1,"member-form"],["for","Membername",1,"paragraph_text"],["type","text","placeholder","name","formControlName","Name",1,"member"],["for","MemberGender",1,"paragraph_text"],["formControlName","gender",1,"member"],["value","Male"],["value","Female"],["value","Other"],["for","MemberMobile",1,"paragraph_text"],["type","text","placeholder","99xxxxxxxx","formControlName","mobileNo",1,"member"],[1,"validation-errors"],["class","error-message",4,"ngIf"],["for"," MemberAadhar",1,"paragraph_text"],["type","text","placeholder","Aadhar number","formControlName","Aadharnumber",1,"member"],[1,"header"],["type","button",3,"click"],["src","/assets/member_detail/upload.svg","alt",""],["id","fileInputAadhar","formControlName","Adharimages","type","file",2,"display","none",3,"change"],["class","success-message",4,"ngIf"],["for"," MemberPan",1,"paragraph_text"],["type","text","placeholder","Pan number","formControlName","Pannumber",1,"member"],["id","fileInputPan","formControlName","panimages","type","file",2,"display","none",3,"change"],[1,"lower-btn",3,"click","btnName","disabled"],[1,"tab","section_title",3,"click"],[1,"error-message"],[1,"success-message"]],template:function(r,o){if(r&1&&(F(0,"app-header-with-back",0),_(1,"section")(2,"div",1)(3,"div",2),se(4,tU,2,3,"div",3),v()(),_(5,"form",4)(6,"div",5),F(7,"img",6),_(8,"label",7),F(9,"img",8),v(),_(10,"input",9),q("change",function(a){return o.onFileSelected(a)}),v()(),_(11,"div",10)(12,"div",11)(13,"label",12),E(14,"Name"),v(),F(15,"input",13),v(),_(16,"div",11)(17,"label",14),E(18,"Gender"),v(),_(19,"select",15)(20,"option",16),E(21,"Male"),v(),_(22,"option",17),E(23,"Female"),v(),_(24,"option",18),E(25,"Other"),v()()(),_(26,"div",11)(27,"label",19),E(28,"Mobile No"),v(),F(29,"input",20),v(),_(30,"div",21),se(31,nU,2,0,"div",22),v(),_(32,"div",11)(33,"label",23),E(34,"Aadhar"),v(),F(35,"input",24),v(),_(36,"div",21),se(37,iU,2,0,"div",22),v(),_(38,"div",25)(39,"label"),E(40,"Upload Aadhar"),v(),_(41,"button",26),q("click",function(){return o.triggerFileInputAadhar()}),F(42,"img",27),v(),_(43,"input",28),q("change",function(a){return o.onAadharUpload(a)}),v(),se(44,rU,3,0,"div",29),v(),_(45,"div",11)(46,"label",30),E(47,"Pan"),v(),F(48,"input",31),v(),_(49,"div",21),se(50,oU,2,0,"div",22),v(),_(51,"div",25)(52,"label"),E(53,"Upload Pancard"),v(),_(54,"button",26),q("click",function(){return o.triggerFileInputPan()}),F(55,"img",27),v(),_(56,"input",32),q("change",function(a){return o.onPanUpload(a)}),v(),se(57,sU,3,0,"div",29),v()(),F(58,"div"),v(),_(59,"lib-save-btn",33),q("click",function(){return o.saveMemberDetail()}),v()()),r&2){let s,a,l;B("pageTitle",o.EventService.bookingDetails().variant.name),M(4),B("ngForOf",o.tabs),M(),B("formGroup",o.memberForm),M(2),B("src",o.profileImageSrc,Vt),M(24),B("ngIf",((s=o.memberForm.get("mobileNo"))==null?null:s.errors)&&((s=o.memberForm.get("mobileNo"))==null?null:s.touched)),M(6),B("ngIf",((a=o.memberForm.get("Aadharnumber"))==null?null:a.errors)&&((a=o.memberForm.get("Aadharnumber"))==null?null:a.touched)),M(7),B("ngIf",o.aadharuploadSuccess),M(6),B("ngIf",((l=o.memberForm.get("Pannumber"))==null?null:l.errors)&&((l=o.memberForm.get("Pannumber"))==null?null:l.touched)),M(7),B("ngIf",o.panuploadSuccess),M(2),B("btnName",o.activeTab===o.tabs.length-1?"Next":"Submit")("disabled",o.memberForm.invalid)}},dependencies:[Jn,Jo,Zo,es,gn,rr,Xn,Xo,$r,qr,$o,xe,wt,It,Qe],styles:["section[_ngcontent-%COMP%]{padding-bottom:80px;padding-left:1rem;padding-right:1rem}.scroll[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:5px;padding-top:70px;margin-top:2%}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-left:1rem}.tabs[_ngcontent-%COMP%]   .section_title[_ngcontent-%COMP%]{font-size:12px}.tab[_ngcontent-%COMP%]{padding:10px 1.5rem;border-radius:10px;cursor:pointer;width:100%;max-width:150px;text-align:center}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{background:var(--active-tab-gradient, linear-gradient(90deg, #464E5F .28%, rgba(70, 78, 95, .8) 47.84%, rgba(70, 78, 95, .4) 99.72%));color:#fff}.memberdetail[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem}.detail[_ngcontent-%COMP%]{margin-top:2rem;width:100%}.member-form[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;width:100%}.member-form[_ngcontent-%COMP%]   .paragraph_text[_ngcontent-%COMP%]{color:gray;margin-bottom:.5rem}.member[_ngcontent-%COMP%]{border-radius:12px;border:1px solid var(--input-box-border-gradient, rgba(170, 170, 170, .3));background:var(--input-box-bg-gradient, linear-gradient(99deg, rgba(225, 225, 225, .3) 12.07%, rgba(225, 225, 225, .2) 48.35%, rgba(225, 225, 225, .2) 87.93%));width:100%;height:40px;padding:.5rem;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-radius:12px;border:1px solid var(--input-box-border-gradient, rgba(170, 170, 170, .3));background:var(--input-box-bg-gradient, linear-gradient(99deg, rgba(225, 225, 225, .3) 12.07%, rgba(225, 225, 225, .2) 48.35%, rgba(225, 225, 225, .2) 87.93%));width:100%;height:40px;padding-left:.5rem;margin-bottom:1rem;box-sizing:border-box}.header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#464e5f}.submit-button[_ngcontent-%COMP%]{height:60px;width:100%;max-width:200px;border-radius:30px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff;margin-top:2rem}.profile[_ngcontent-%COMP%]{position:relative;width:100%;max-width:150px;height:150px;border-radius:50%;overflow:hidden;margin-top:1rem}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}#filepath[_ngcontent-%COMP%]{display:none}.upload-icon[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#fff;padding:10px;border-radius:50%;cursor:pointer}.validation-errors[_ngcontent-%COMP%]{font-size:small;color:var(--ion-color-danger, #f1453d)}.success-message[_ngcontent-%COMP%]{padding:3px;background-color:#d4edda;color:#155724;border:1px solid #c3e6cb;border-radius:4px;display:flex;align-items:center;gap:10px}.lower-btn[_ngcontent-%COMP%]{width:50vw}"]});let t=e;return t})();var Kv={cloudFunctions:{createOrder:"https://createorder-uuc4lf2xaa-uc.a.run.app",createOrderLocalHost:"http://127.0.0.1:5001/fyi1-aa2c2/us-central1/createOrder",getOrderById:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/getOrderById?id=",capturePayment:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/capturePayments",createRefund:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/createRefund",getRefundDetails:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/getRefundDetails"},RAZORPAY_KEY_ID:"rzp_live_wMevmKrUh5pkfg",RAZORPAY_DOMAIN:"https://api.razorpay.com/v1/"};var mh=(()=>{let e=class e{constructor(n,r,o,s){this.http=n,this.router=r,this.EventService=o,this.firestore=s}createOrder(n,r="INR",o){let s=new xn({"Content-Type":"application/json"}),a={amount:n,currency:r,receipt:o};return this.http.post(Kv.cloudFunctions.createOrder,a,{headers:s})}addInbooking(){return g(this,null,function*(){try{let n=this.EventService.bookingDetails().customer.uid,r=this.EventService.bookingDetails(),o=r.id,s=bt(this.firestore,"users",n,"bookings",o);return yield si(s,r)}catch(n){return console.error("Error adding document: ",n),n}})}deleteBookingFromCart(){return g(this,null,function*(){let n=this.EventService.bookingDetails().customer.uid,r=this.EventService.bookingDetails().id,o=bt(this.firestore,"users",n,"cart",r);return yield Wd(o)})}formatDateTime(n){let r={day:"2-digit",month:"short",year:"numeric"},o=n.toLocaleDateString("en-GB",r),s=n.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});return{formattedDate:o,formattedTime:s}}initiatePayment(n){let r=this.EventService.bookingDetails(),o=new Date,{formattedDate:s,formattedTime:a}=this.formatDateTime(o);r.paymentDetail.date=s,r.paymentDetail.time=a;let l={key:Kv.RAZORPAY_KEY_ID,amount:n.amount*100,currency:"INR",name:"FYI",order_id:n.order_id,handler:h=>{let p={order_id:n.order_id,receipt_id:n.receiptId,razorpay_payment_id:h.razorpay_payment_id,razorpay_order_id:h.razorpay_order_id,razorpay_signature:h.razorpay_signature};r.paymentDetail.paymentStatus="success",r.paymentDetail.paymentResponse=p,this.EventService.bookingDetails.set(r),this.addInbooking().then(()=>{this.deleteBookingFromCart().then(()=>{this.router.navigate(["/payment-successful"])})})},prefill:{name:n.customerName,email:"",contact:n.contact},modal:{ondismiss:()=>{r.paymentDetail.paymentStatus="failed",this.EventService.bookingDetails.set(r),this.router.navigate(["/patmentfailed"])}}},u=new window.Razorpay(l);u.on("payment.failed",h=>{r.paymentDetail.paymentStatus="failed",this.EventService.bookingDetails.set(r),this.addInbooking().then(()=>{this.deleteBookingFromCart().then(()=>{this.router.navigate(["/patmentfailed"])})})}),u.open()}};e.\u0275fac=function(r){return new(r||e)(D(Cf),D(ge),D(et),D(je))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jS=(()=>{let e=class e{constructor(n,r){this.EventService=n,this.PaymentService=r,console.log(this.EventService.bookingDetails())}generateUniqueReceipt(){let n=Date.now().toString(),r=Math.random().toString(36).substring(2,10);return`receipt_${n}_${r}`}pay(){let n=this.EventService.bookingDetails(),r=this.generateUniqueReceipt(),o=n.paymentDetail.totalPrice;this.PaymentService.createOrder(o*100,"INR",r).subscribe(s=>{let a={amount:o,description:"Test Transaction",order_id:s.id,customerName:n.customer.name,contact:n.customer.phoneNumber,receiptId:r};this.PaymentService.initiatePayment(a)})}};e.\u0275fac=function(r){return new(r||e)(x(et),x(mh))},e.\u0275cmp=H({type:e,selectors:[["app-event-payment"]],standalone:!0,features:[K],decls:42,vars:9,consts:[[3,"pageTitle"],[1,"checkout-container"],[1,"ticket-info"],["src","assets/event-payment/image.svg","alt","Event Image",1,"event-image"],[1,"event-details"],[1,"section_title","heading"],[1,"row2"],[1,"paragraph_text","header_text_color"],[1,"paragraph_text","header_text_color","ticket","green"],[1,"paragraph_text","header_text_color","ticket"],[1,"payment-details"],[1,"section_title"],[1,"detail-row"],[1,"paragraph_text"],[2,"color","#579540"],[1,"total-row"],[1,"proceed-button",3,"click"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"div",1)(2,"div",2),F(3,"img",3),_(4,"div",4)(5,"h3",5),E(6),v(),_(7,"div",6)(8,"p",7),E(9),v(),_(10,"p",7),E(11),v()(),_(12,"div",6)(13,"p",8),E(14),v(),_(15,"p",9),E(16),v()()()(),_(17,"div",10)(18,"h3",11),E(19,"Payment Details"),v(),_(20,"div",12)(21,"span",13),E(22,"Total (MRP)"),v(),_(23,"span"),E(24),v()(),_(25,"div",12)(26,"span",13),E(27,"Discount"),v(),_(28,"span",14),E(29,"-\u20B90"),v()(),_(30,"div",12)(31,"span",13),E(32,"Discounted Price"),v(),_(33,"span"),E(34),v()(),_(35,"div",15)(36,"span",11),E(37,"Total"),v(),_(38,"span",11),E(39),v()()(),_(40,"button",16),q("click",function(){return o.pay()}),E(41,"Proceed to Pay"),v()()),r&2&&(B("pageTitle","Checkout "),M(6),pe(o.EventService.bookingDetails().event.eventName),M(3),pe(o.EventService.bookingDetails().slab.name),M(2),pe(o.EventService.bookingDetails().variant.name),M(3),we("\u20B9",o.EventService.bookingDetails().variant.price,""),M(2),we("Tickets: ",o.EventService.bookingDetails().totalMember,""),M(8),we("\u20B9",o.EventService.bookingDetails().paymentDetail.totalPrice,""),M(10),we("\u20B9",o.EventService.bookingDetails().paymentDetail.totalPrice,""),M(5),we("\u20B9",o.EventService.bookingDetails().paymentDetail.totalPrice,""))},dependencies:[Qe],styles:[".checkout-container[_ngcontent-%COMP%]{margin:0 auto;padding:70px 20px 0;font-family:Arial,sans-serif}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.back-arrow[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;margin-right:10px}.ticket-info[_ngcontent-%COMP%]{display:flex;background-color:#f9f9f9;padding:10px;border-radius:8px;margin-bottom:20px}.event-image[_ngcontent-%COMP%]{border-radius:8px;margin-right:10px}.event-details[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:16px;color:#000;line-height:3}.event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:2rem}.event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:2}.event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:green;font-weight:700}.payment-details[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:10px;border-radius:8px;margin-bottom:20px}.payment-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#444}.detail-row[_ngcontent-%COMP%], .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .total-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#7e8083;font-weight:500;font-size:14px;line-height:1.5}.total-row[_ngcontent-%COMP%]{font-weight:700;border-top:1px dashed #ccc;padding-top:10px}.total-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#181f29}.proceed-button[_ngcontent-%COMP%]{width:100%;padding:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff;border:none;border-radius:25px;font-size:16px;cursor:pointer}.proceed-button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let t=e;return t})();var BS=(()=>{let e=class e{constructor(n,r){this.router=n,this.EventService=r,this.bookingDetail=this.EventService.bookingDetails()}naviagateToHomepage(){this.router.navigate(["home"])}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(et))},e.\u0275cmp=H({type:e,selectors:[["app-payment-successful"]],standalone:!0,features:[K],decls:40,vars:7,consts:[[3,"pageTitle"],[1,"container"],[1,"confirmation-card"],["src","/assets/event-payment/payment-successful.svg"],[1,"payment-details"],[1,"section_title"],[1,"paragraph_text","detail"],[1,"paragraph_text","detail_status"],[1,"button-done"],[1,"proceed-button",3,"click"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"section",1)(2,"div",2),F(3,"img",3),_(4,"div",4)(5,"h2",5),E(6,"Payment Details"),v(),_(7,"div",6)(8,"p"),E(9),v(),_(10,"span"),E(11,"Kashi Summit 2024"),v()(),_(12,"div",6)(13,"p"),E(14,"Slab"),v(),_(15,"span"),E(16),v()(),_(17,"div",6)(18,"p"),E(19,"Variant"),v(),_(20,"span"),E(21),v()(),_(22,"div",6)(23,"p"),E(24,"Date"),v(),_(25,"span"),E(26),v()(),_(27,"div",6)(28,"p"),E(29,"Payment"),v(),_(30,"span"),E(31),v()(),_(32,"div",7)(33,"p"),E(34,"Status"),v(),_(35,"span"),E(36,"Successful"),v()()()()(),_(37,"div",8)(38,"button",9),q("click",function(){return o.naviagateToHomepage()}),E(39,"Done"),v()()),r&2&&(B("pageTitle","Payment "),M(9),we("",o.bookingDetail.event.eventName," "),M(7),pe(o.bookingDetail.slab.name),M(5),pe(o.bookingDetail.variant.name),M(5),Ao("",o.bookingDetail.paymentDetail.date," & ",o.bookingDetail.paymentDetail.time," "),M(5),we("\u20B9",o.bookingDetail.paymentDetail.totalPrice,""))},dependencies:[Qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;padding:70px 20px 0}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:1rem;margin-right:1rem;padding:20px}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{margin-top:2rem;margin-left:.6rem;margin-right:.6rem}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:#444;font-weight:700}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:2}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7e8083;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#464e5f;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]{margin-top:10px;border-top:2px dashed #D7D7D7;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:18px}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;color:#48bc1f;font-size:18px}.button-done[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.button-done[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%;padding:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff;border:none;border-radius:25px;font-size:16px;cursor:pointer}"]});let t=e;return t})();var zS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-list-of-survey"]],standalone:!0,features:[K],decls:2,vars:0,template:function(r,o){r&1&&(_(0,"p"),E(1,"list-of-survey works!"),v())}});let t=e;return t})();function aU(t,e){if(t&1){let i=Me();_(0,"div",5),F(1,"img",6),_(2,"div",7)(3,"p",8),E(4),v(),_(5,"button",9),q("click",function(){let r=de(i).$implicit,o=J();return he(o.viewSlsbList(r.eventId,r))}),E(6,"View Slabs"),v()()()}if(t&2){let i=e.$implicit;M(),Al("alt",i.eventName),B("src",i.images[0],Vt),M(3),pe(i.eventName)}}var $S=(()=>{let e=class e{constructor(n,r){this.router=n,this.EventService=r,this.items=[{image:"/assets/homepage/eventimage.svg",title:"Cearic Kashi Summit 2024"},{image:"/assets/homepage/eventlist.svg",title:"Cearic Kashi Summit 2025"},{image:"/assets/homepage/eventimage.svg",title:"Cearic Kashi Summit 2026"}],this.EventService.eventList().length==0&&this.router.navigate(["/home"])}viewSlsbList(n,r){let o=this.EventService.bookingDetails();o.event=r,this.EventService.bookingDetails.set(o),this.router.navigate(["slab",n])}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(et))},e.\u0275cmp=H({type:e,selectors:[["app-event-list"]],standalone:!0,features:[K],decls:6,vars:2,consts:[[3,"pageTitle"],[1,"container"],["type","text","placeholder","Search Event",1,"search-bar"],[1,"section_title"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-image",3,"src","alt"],[1,"card-content"],[1,"card-title","header_text_color","paragraph_text"],[1,"view-slabs-btn",3,"click"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"div",1),F(2,"input",2),_(3,"h3",3),E(4,"Upcoming Events"),v(),se(5,aU,7,3,"div",4),v()),r&2&&(B("pageTitle","Event List"),M(5),B("ngForOf",o.EventService.eventList()))},dependencies:[xe,wt,Qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:column;padding:70px 20px 80px}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:10px;border-radius:25px;border:1px solid #ccc;margin-bottom:20px;font-size:16px}h3[_ngcontent-%COMP%]{align-items:start;color:#000;font-size:20px;font-weight:500;line-height:3}.card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin-bottom:20px;border-radius:15px;overflow:hidden;box-shadow:0 4px 8px #0000001a;background:linear-gradient(99.41deg,#aaaaaa4d 12.07%,#aaa3 48.35% 87.93%)}.card-image[_ngcontent-%COMP%]{width:100%;height:152}.card-content[_ngcontent-%COMP%]{padding:10px;text-align:center;display:flex;justify-content:space-between}.card-title[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;font-weight:700}.view-slabs-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:25px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#f0f0f0;cursor:pointer}"]});let t=e;return t})();function cU(t,e){if(t&1){let i=Me();_(0,"div",5)(1,"div",6),F(2,"img",7),_(3,"div",8)(4,"p",9),E(5),v(),_(6,"button",10),q("click",function(){let r=de(i).$implicit,o=J();return he(o.movetovarient(r.slabId,r))}),E(7,"Book Now"),v()()()()}if(t&2){let i=e.$implicit;M(2),Al("alt",i.name),B("src",i.image,Vt),M(3),pe(i.name)}}var qS=(()=>{let e=class e{constructor(n,r,o){this.router=n,this.activatedRoute=r,this.EventService=o,this.items=[{image:"/assets/homepage/slabimage.svg",title:"Panchganga Slab"},{image:"/assets/homepage/slabimage.svg",title:"Assi Slab"},{image:"/assets/homepage/slabimage.svg",title:"Panchganga Slab"},{image:"/assets/homepage/slabimage.svg",title:"Assi Slab"}],this.activatedRoute.paramMap.subscribe(s=>g(this,null,function*(){s.get("id")!==null&&(this.eventId=s.get("id")||"")})),this.EventService.bookingDetails().event||this.router.navigate(["/home"])}ngOnInit(){}movetovarient(n,r){let o=this.EventService.bookingDetails();o.slab=r,this.EventService.bookingDetails.set(o),this.router.navigate(["varient",n])}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(pn),x(et))},e.\u0275cmp=H({type:e,selectors:[["app-slab-list"]],standalone:!0,features:[K],decls:5,vars:2,consts:[[3,"pageTitle"],[1,"container"],["type","text","placeholder","Search city to add",1,"search-bar"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"image-container"],[1,"card-image",3,"src","alt"],[1,"overlay"],[1,"card-title"],[1,"book-now-btn",3,"click"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"div",1),F(2,"input",2),_(3,"div",3),se(4,cU,8,3,"div",4),v()()),r&2&&(B("pageTitle","Slabs"),M(4),B("ngForOf",o.EventService.slabList()[o.eventId]))},dependencies:[xe,wt,Qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:column;align-items:center;padding:70px 20px 0}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:10px;border-radius:25px;border:1px solid #ccc;margin-bottom:20px;font-size:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:20px;width:100%;max-width:800px}.card[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;box-shadow:0 4px 8px #0000001a;background:linear-gradient(99.41deg,#aaaaaa4d 12.07%,#aaa3 48.35% 87.93%);position:relative;text-align:center}.image-container[_ngcontent-%COMP%]{position:relative}.card-image[_ngcontent-%COMP%]{width:175px;height:204px}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;padding:10px 0;background:linear-gradient(to top,rgba(0,0,0,.5),transparent);display:flex;flex-direction:column;align-items:center;justify-content:flex-end}.card-title[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:500;color:#fff;padding:5px 0}.book-now-btn[_ngcontent-%COMP%]{padding:5px 20px;border:none;border-radius:25px;background-color:#6200ea;color:#fff;cursor:pointer;margin:10px 0;font-size:14px}.book-now-btn[_ngcontent-%COMP%]:hover{background-color:#3700b3}"]});let t=e;return t})();function lU(t,e){if(t&1&&(_(0,"div",12),F(1,"img",13),v()),t&2){let i=e.$implicit,n=J();M(),B("src",n.slabDetail.image,Vt)("alt",i.title)}}function uU(t,e){if(t&1){let i=Me();_(0,"div",19)(1,"button",20),q("click",function(){de(i);let r=J().index,o=J();return he(o.decreaseQuantity(r))}),E(2,"-"),v(),_(3,"span"),E(4),v(),_(5,"button",21),q("click",function(){de(i);let r=J().index,o=J();return he(o.increaseQuantity(r))}),E(6,"+"),v(),_(7,"button",22),q("click",function(){de(i);let r=J(2);return he(r.removeSelection())}),F(8,"img",23),v()()}if(t&2){let i=J().index,n=J();M(4),pe(n.quantities[i])}}function dU(t,e){if(t&1){let i=Me();_(0,"button",24),q("click",function(){de(i);let r=J(),o=r.$implicit,s=r.index,a=J();return he(a.memberform(s,o))}),E(1,"Book Now"),v()}if(t&2){let i=J(2);B("disabled",i.selectedButtonIndex!==null)}}function hU(t,e){if(t&1&&(_(0,"div",14)(1,"div")(2,"span",15),E(3),v(),F(4,"br"),_(5,"span",16),E(6),v()(),se(7,uU,9,1,"div",17)(8,dU,2,1,"button",18),v()),t&2){let i=e.$implicit,n=e.index,r=J();M(3),pe(i.name),M(3),we("\u20B9",i.price,""),M(),B("ngIf",r.selectedButtonIndex===n),M(),B("ngIf",r.selectedButtonIndex!==n)}}function fU(t,e){if(t&1&&(_(0,"div"),E(1),v()),t&2){let i=J();M(),pe(i.slabDetail.description)}}function pU(t,e){if(t&1&&(_(0,"div",29)(1,"div",30),F(2,"img",31),v(),_(3,"div",32)(4,"span"),E(5),v(),F(6,"br"),_(7,"span"),E(8),v()()()),t&2){let i=e.$implicit;M(5),pe(i.time),M(3),pe(i.description)}}function mU(t,e){if(t&1&&(_(0,"div",26)(1,"span",27),E(2),v(),se(3,pU,9,2,"div",28),v()),t&2){let i=e.$implicit;M(2),pe(i.day),M(),B("ngForOf",i.events)}}function gU(t,e){if(t&1&&(_(0,"div"),se(1,mU,4,2,"div",25),v()),t&2){let i=J();M(),B("ngForOf",i.schedule)}}function _U(t,e){if(t&1){let i=Me();_(0,"button",33),q("click",function(){de(i);let r=J();return he(r.goToNextPage())}),E(1,"Next"),v()}}var GS=(()=>{let e=class e{constructor(n,r,o){this.router=n,this.ActivateRouted=r,this.EventService=o,this.schedule=[],this.events=[{title:"Cearic Kashi Summit 2024",image:"/assets/homepage/varient_slider.svg"},{title:"Cearic Kashi Summit 2025",image:"/assets/homepage/varient_slider.svg"},{title:"Cearic Kashi Summit 2026",image:"/assets/homepage/varient_slider.svg"},{title:"Cearic Kashi Summit 2027",image:"/assets/homepage/varient_slider.svg"}],this.selectedTab="description",this.selectedButtonIndex=null,this.quantities=[],this.ActivateRouted.paramMap.subscribe(s=>g(this,null,function*(){s.get("id")!==null&&(this.slabId=s.get("id")||"")})),this.EventService.bookingDetails().slab||this.router.navigate(["/home"])}ngOnInit(){this.slabDetail=this.EventService.bookingDetails().slab;let n=this.EventService.bookingDetails().event.eventId,r=this.EventService.itineraryList()[n];this.itinerary=this.groupAndSortActivities(r.activities),this.schedule=[];for(let o in this.itinerary){let s=this.itinerary[o].map(a=>({time:`${a.startTime} - ${a.endTime}`,description:a.description}));this.schedule.push({day:`DAY (${o})`,events:s})}}convertTo12Hour(n){let[r,o]=n.split(":").map(Number),s=r>=12?"PM":"AM";return`${(r+11)%12+1}:${o.toString().padStart(2,"0")} ${s}`}groupAndSortActivities(n){let r=n.reduce((s,a)=>{let{date:l}=a;return s[l]||(s[l]=[]),s[l].push(a),s},{});for(let s in r)r[s].sort((a,l)=>{let u=this.convertTo12Hour(a.startTime),h=this.convertTo12Hour(l.startTime);return u.localeCompare(h)}),r[s]=r[s].map(a=>be(V({},a),{startTime:this.convertTo12Hour(a.startTime),endTime:this.convertTo12Hour(a.endTime)}));return Object.keys(r).sort((s,a)=>new Date(s).getTime()-new Date(a).getTime()).reduce((s,a)=>(s[a]=r[a],s),{})}selectTab(n){this.selectedTab=n}memberform(n,r){let o=this.EventService.bookingDetails();o.variant=r,this.EventService.bookingDetails.set(o),this.selectedButtonIndex=n,this.quantities[n]=1}increaseQuantity(n){this.quantities[n]<99&&this.quantities[n]++}decreaseQuantity(n){this.quantities[n]>1&&this.quantities[n]--}removeSelection(){this.selectedButtonIndex=null}goToNextPage(){let n=this.selectedButtonIndex!==null?this.selectedButtonIndex:0,r=this.EventService.bookingDetails();r.totalMember=this.quantities[n],this.EventService.bookingDetails.set(r),this.router.navigate(["member-detail"])}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(pn),x(et))},e.\u0275cmp=H({type:e,selectors:[["app-varient-selection"]],standalone:!0,features:[K],decls:17,vars:10,consts:[[3,"pageTitle"],[1,"event-slider"],[1,"slider"],["class","slide",4,"ngFor","ngForOf"],[1,"varient"],["class","rotarian",4,"ngFor","ngForOf"],[1,"scroll"],[1,"tabs"],[1,"tab",3,"click"],[1,"content"],[4,"ngIf"],["class","next-button",3,"click",4,"ngIf"],[1,"slide"],[3,"src","alt"],[1,"rotarian"],[1,"section_title","header_text_color","label"],[1,"section_title","price"],["class","threebutton",4,"ngIf"],["class","book-now",3,"disabled","click",4,"ngIf"],[1,"threebutton"],[1,"quantity-control-decrement",3,"click"],[1,"quantity-control-increment",3,"click"],[1,"remove-selection",3,"click"],["src","/assets/homepage/Delete 2.svg"],[1,"book-now",3,"click","disabled"],["class","schedule-day",4,"ngFor","ngForOf"],[1,"schedule-day"],[1,"paragraph_text"],["class","schedule-event",4,"ngFor","ngForOf"],[1,"schedule-event"],[1,"dot"],["src","/assets/bookinghistory/Ellipse 395.svg"],[1,"activity"],[1,"next-button",3,"click"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"section")(2,"div",1)(3,"div",2),se(4,lU,2,2,"div",3),v()(),_(5,"div",4),se(6,hU,9,4,"div",5),v(),_(7,"div",6)(8,"div",7)(9,"div",8),q("click",function(){return o.selectTab("description")}),E(10,"Description"),v(),_(11,"div",8),q("click",function(){return o.selectTab("itinerary")}),E(12,"Itinerary"),v()(),_(13,"div",9),se(14,fU,2,1,"div",10)(15,gU,2,1,"div",10),v()(),se(16,_U,2,0,"button",11),v()),r&2&&(B("pageTitle","Variants"),M(4),B("ngForOf",o.events),M(2),B("ngForOf",o.EventService.variantList()[o.slabId]),M(3),lt("active",o.selectedTab==="description"),M(2),lt("active",o.selectedTab==="itinerary"),M(3),B("ngIf",o.selectedTab==="description"),M(),B("ngIf",o.selectedTab==="itinerary"),M(),B("ngIf",o.selectedButtonIndex!==null))},dependencies:[xe,wt,It,Qe],styles:["section[_ngcontent-%COMP%]{margin-top:2%;padding:70px 20px 80px}section[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{margin-top:5%}section[_ngcontent-%COMP%]   .event-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none}section[_ngcontent-%COMP%]   .event-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{flex:0 0 auto;scroll-snap-align:start;margin-right:20px;cursor:pointer}section[_ngcontent-%COMP%]   .event-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:340px;height:230px;object-fit:cover;border-radius:20px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]{margin-top:10%}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px;color:#579540}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .book-now[_ngcontent-%COMP%]{width:105px;height:50px;border-radius:50px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .book-now.selected[_ngcontent-%COMP%]{background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .book-now[_ngcontent-%COMP%]:disabled{background:#d3d3d3;color:gray}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .quantity-control-increment[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:5px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff;margin:8px 15px 0;font-size:25px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-top:8px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .quantity-control-decrement[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:5px;border:1px solid linear-gradient(90.32deg,#2F15AA .28%,rgba(47,21,170,.8) 47.84%,rgba(47,21,170,.4) 99.72%);color:linear-gradient(90.32deg,#2F15AA .28%,rgba(47,21,170,.8) 47.84%,rgba(47,21,170,.4) 99.72%);margin:8px 15px 0;font-size:25px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .remove-selection[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:5px;background:#fff;border:none;margin-left:5px;margin-top:4px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .remove-selection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}section[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:5px;padding-top:70px}section[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:10px 30px;border-radius:10px;cursor:pointer;justify-content:center;align-items:center}section[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:var(--active-tab-gradient, linear-gradient(90deg, #464E5F .28%, rgba(70, 78, 95, .8) 47.84%, rgba(70, 78, 95, .4) 99.72%));color:#fff}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:8%;padding:20px;background:var(--inactive-gray, #B6B6B6);border:1px solid;border-image-source:linear-gradient(99.41deg,rgba(170,170,170,.3) 12.07%,rgba(170,170,170,.2) 48.35%,rgba(170,170,170,.2) 87.93%);border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:.4rem;margin-right:.4rem}section[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]{width:90%;height:60px;color:#fff;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;border-radius:30px;position:fixed;bottom:20px}section[_ngcontent-%COMP%]   .schedule-day[_ngcontent-%COMP%]{margin-bottom:20px}section[_ngcontent-%COMP%]   .schedule-day[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#04102d}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]{display:flex;gap:1rem}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{margin-top:10px}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]   .activity[_ngcontent-%COMP%]{padding:5px 0 10px}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]   .activity[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}"]});let t=e;return t})();var WS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-donation"]],standalone:!0,features:[K],decls:2,vars:0,template:function(r,o){r&1&&(_(0,"p"),E(1,"donation works!"),v())}});let t=e;return t})();var HS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-coupon"]],standalone:!0,features:[K],decls:2,vars:0,template:function(r,o){r&1&&(_(0,"p"),E(1,"coupon works!"),v())}});let t=e;return t})();var KS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-feed"]],standalone:!0,features:[K],decls:2,vars:0,template:function(r,o){r&1&&(_(0,"p"),E(1,"feed works!"),v())}});let t=e;return t})();var gh=(()=>{let e=class e{constructor(n){this.router=n}navigatetologin(){this.router.navigate(["login"])}};e.\u0275fac=function(r){return new(r||e)(x(ge))},e.\u0275cmp=H({type:e,selectors:[["app-not-loginpage"]],standalone:!0,features:[K],decls:11,vars:0,consts:[[1,"notlogin"],["src","assets/account/rafiki.svg"],[1,"section_title"],[3,"click"]],template:function(r,o){r&1&&(_(0,"section")(1,"div",0),F(2,"img",1),_(3,"p",2),E(4,"Login to get access to you "),v(),F(5,"br"),_(6,"p",2),E(7,"account"),v(),F(8,"br"),_(9,"button",3),q("click",function(){return o.navigatetologin()}),E(10,"Go to Login Page"),v()()())},styles:["section[_ngcontent-%COMP%]{padding-top:70px}section[_ngcontent-%COMP%]   .notlogin[_ngcontent-%COMP%]{margin-top:30%}section[_ngcontent-%COMP%]   .notlogin[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;text-align:center}section[_ngcontent-%COMP%]   .notlogin[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);width:90%;height:50px;color:#fff;border:none;border-radius:30px;margin-top:3rem;margin-left:1rem}"]});let t=e;return t})();function vU(t,e){if(t&1){let i=Me();_(0,"section")(1,"div",1),F(2,"img",2),v(),_(3,"div",3)(4,"h3",4),E(5),v()(),_(6,"div",5)(7,"button",6),q("click",function(){de(i);let r=J();return he(r.navigate("profile"))}),F(8,"img",7),_(9,"span"),E(10,"Edit Profile"),v()(),F(11,"br"),_(12,"button",6),q("click",function(){de(i);let r=J();return he(r.openInNewTab("https://kashisummit.com/"))}),F(13,"img",8),E(14,"About Us"),v(),F(15,"br"),_(16,"button",6),q("click",function(){de(i);let r=J();return he(r.movetoContactUs())}),F(17,"img",9),E(18,"Contact Us"),v(),_(19,"button",6),q("click",function(){de(i);let r=J();return he(r.logout())}),F(20,"img",10),E(21,"Logout"),v()(),_(22,"div",11),F(23,"img",12),_(24,"span"),E(25,"Powered By Shreeva"),v()()()}if(t&2){let i=J();M(5),pe(i.name)}}function bU(t,e){t&1&&F(0,"app-not-loginpage")}var YS=(()=>{let e=class e{constructor(n,r){this.router=n,this.DataProviderService=r}movetoContactUs(){this.router.navigate(["ContactUs"])}logout(){TI(Nu()).then(()=>{setTimeout(()=>{this.router.navigate(["login"])},3e3)}).catch(n=>console.log(n))}ngOnInit(){this.isLogin=this.DataProviderService.loggedIn,setTimeout(()=>{this.name=this.DataProviderService.currentUser?.userData.name},3e3)}navigate(n){this.router.navigate(["profile"])}openInNewTab(n){window.open(n,"_blank")}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(at))},e.\u0275cmp=H({type:e,selectors:[["app-account"]],standalone:!0,features:[K],decls:3,vars:2,consts:[[4,"ngIf"],[1,"profileimage"],["src","https://firebasestorage.googleapis.com/v0/b/fyi1-aa2c2.appspot.com/o/donorProfile%2Fimages.jfif?alt=media&token=bd4b3393-3582-4f4a-a8f6-cdcea90528ac"],[1,"profilename"],[1,"section_title"],[1,"buttons"],[1,"white","section_title",3,"click"],["src","assets/account/editprofile.svg"],["src","assets/account/aboutus.svg"],["src","assets/account/contactus.svg"],["src","assets/account/logout.svg"],[1,"footer"],["src","assets/account/Shreeva-logo.svg"]],template:function(r,o){r&1&&(F(0,"app-header-with-menu"),se(1,vU,26,1,"section",0)(2,bU,1,0,"app-not-loginpage",0)),r&2&&(M(),B("ngIf",o.isLogin),M(),B("ngIf",!o.isLogin))},dependencies:[uh,gh,xe,It],styles:["section[_ngcontent-%COMP%]{padding-top:70px}section[_ngcontent-%COMP%]   .profileimage[_ngcontent-%COMP%]{display:flex;justify-content:center;border-radius:50%}section[_ngcontent-%COMP%]   .profileimage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;height:131px;width:131px}section[_ngcontent-%COMP%]   .profilename[_ngcontent-%COMP%]{display:flex;justify-content:center}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000}section[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{padding:0 15px}section[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:100%;background:linear-gradient(90.32deg,#464e5f .28%,#464e5fcc 47.84%,#464e5f66 99.72%);margin-top:1rem;border:none;border-radius:20px;font-size:16px;text-align:left;padding-bottom:10px}section[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:.8rem;padding-right:10px}section[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;justify-content:center;position:fixed;bottom:100px;padding:1rem}section[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:1rem;font-size:15px}"]});let t=e;return t})();var QS=(()=>{let e=class e{constructor(n,r,o){this.router=n,this.EventService=r,this.PaymentService=o,this.bookingDetail=this.EventService.bookingDetails()}naviagateToHomepage(){this.router.navigate(["home"])}generateUniqueReceipt(){let n=Date.now().toString(),r=Math.random().toString(36).substring(2,10);return`receipt_${n}_${r}`}tryAgain(){let n=this.EventService.bookingDetails(),r=this.generateUniqueReceipt(),o=n.paymentDetail.totalPrice;this.PaymentService.createOrder(o*100,"INR",r).subscribe(s=>{let a={amount:o,description:"Test Transaction",order_id:s.id,customerName:n.customer.name,contact:n.customer.phoneNumber,receiptId:r};this.PaymentService.initiatePayment(a)})}backtohome(){this.router.navigate(["home"])}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(et),x(mh))},e.\u0275cmp=H({type:e,selectors:[["app-payment-failed"]],standalone:!0,features:[K],decls:42,vars:6,consts:[[1,"container"],[1,"confirmation-card"],["src","/assets/event-payment/paymentfailed.svg"],[1,"payment-details"],[1,"section_title"],[1,"paragraph_text","detail"],[1,"paragraph_text","detail_status","red"],[1,"button-done"],[1,"proceed-button",3,"click"],[1,"backtohome-button",3,"click"]],template:function(r,o){r&1&&(_(0,"section",0)(1,"div",1),F(2,"img",2),_(3,"div",3)(4,"h2",4),E(5,"Payment Details"),v(),_(6,"div",5)(7,"p"),E(8),v(),_(9,"span"),E(10,"Kashi Summit 2024"),v()(),_(11,"div",5)(12,"p"),E(13,"Slab"),v(),_(14,"span"),E(15),v()(),_(16,"div",5)(17,"p"),E(18,"Variant"),v(),_(19,"span"),E(20),v()(),_(21,"div",5)(22,"p"),E(23,"Date"),v(),_(24,"span"),E(25),v()(),_(26,"div",5)(27,"p"),E(28,"Payment"),v(),_(29,"span"),E(30),v()(),_(31,"div",6)(32,"p"),E(33,"Status"),v(),_(34,"span"),E(35,"Unsuccessful"),v()()()()(),_(36,"div",7)(37,"button",8),q("click",function(){return o.tryAgain()}),E(38,"Try Again"),v(),F(39,"br"),_(40,"button",9),q("click",function(){return o.backtohome()}),E(41,"Back To Home"),v()()),r&2&&(M(8),we("",o.bookingDetail.event.eventName," "),M(7),pe(o.bookingDetail.slab.name),M(5),pe(o.bookingDetail.variant.name),M(5),Ao("",o.bookingDetail.paymentDetail.date," & ",o.bookingDetail.paymentDetail.time," "),M(5),we("\u20B9",o.bookingDetail.paymentDetail.totalPrice,""))},styles:[".container[_ngcontent-%COMP%]{padding:70px 20px 0}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:1rem;margin-right:1rem;padding:20px}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{margin-top:2rem;margin-left:.6rem;margin-right:.6rem}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:#444;font-weight:700}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:2}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7e8083;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#464e5f;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]{margin-top:10px;border-top:2px dashed #D7D7D7;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;font-size:18px}.button-done[_ngcontent-%COMP%]{margin-top:20px}.button-done[_ngcontent-%COMP%]   .proceed-button[_ngcontent-%COMP%]{width:90%;height:50px;padding:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff;border:none;border-radius:25px;font-size:16px;cursor:pointer;align-items:center;margin-left:1rem}.button-done[_ngcontent-%COMP%]   .backtohome-button[_ngcontent-%COMP%]{width:90%;height:50px;padding:15px;background:none;color:#2f15aa;border:none;border-radius:25px;font-size:16px;cursor:pointer;margin-left:1rem}"]});let t=e;return t})();var _h=(()=>{let e=class e{constructor(n){this.firestore=n}getAllUsers(){return g(this,null,function*(){return yield Fn($t(this.firestore,"users"))})}getUserBookings(n){return g(this,null,function*(){return yield Fn($t(this.firestore,"users",n,"bookings"))})}delete(n,r){return Wd(bt(this.firestore,"users",n,"bookings",r))}updateMember(n,r,o,s){return g(this,null,function*(){let a=bt(this.firestore,"users",n,"bookings",r),u=(yield Hd(a)).data();if(u){let h=u.memberDetail;return h[o]=s,Kd(a,{memberDetail:h})}})}};e.\u0275fac=function(r){return new(r||e)(D(je))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yU(t,e){if(t&1){let i=Me();_(0,"div",7),q("click",function(){let r=de(i).$implicit,o=J(2);return he(o.bookingdetail(r.BookingId))}),_(1,"div",8),F(2,"img",9),_(3,"div",10)(4,"p",11),E(5),v(),_(6,"p",12),E(7),v(),_(8,"h3",13),E(9),v(),_(10,"div",14)(11,"p",15),E(12),v(),_(13,"p",15),E(14),v()(),_(15,"div",14)(16,"p",16),E(17),v(),_(18,"p",17),E(19),v()()()()()}if(t&2){let i=e.$implicit;M(5),pe(i.name),M(2),we("Contact : ",i.contact,""),M(2),pe(i.eventname),M(3),pe(i.slabname),M(2),pe(i.varientname),M(3),we("\u20B9",i.price,""),M(2),we("Tickets: ",i.tickets,"")}}function wU(t,e){if(t&1&&(_(0,"div"),se(1,yU,20,7,"div",6),v()),t&2){let i=J();M(),B("ngForOf",i.bookings)}}function IU(t,e){t&1&&(_(0,"div",18),F(1,"img",19),_(2,"p",20),E(3,"No bookings available."),v(),_(4,"span",4),E(5,"Currently you don't have any booking. "),v()())}var JS=(()=>{let e=class e{ngOnInit(){this.getUsersBooking()}constructor(n,r,o,s){this.router=n,this.receivingEventService=r,this.firestore=o,this.DataProviderService=s}bookingdetail(n){this.router.navigate(["PaymentDetail",n])}getUsersBooking(){return g(this,null,function*(){this.bookings=[];let n=this.DataProviderService.currentUser?.userData.uid,r=yield this.receivingEventService.getUserBookings(n);for(let o of r.docs){let s=o.data();s.paymentDetail.paymentStatus=="success"&&this.bookings.push({BookingId:s.id,name:s.customer.name,contact:s.customer.phoneNumber,eventname:s.event.eventName,slabname:s.slab.name,varientname:s.variant.name,price:s.paymentDetail.totalPrice,tickets:s.variant.totalTicket})}})}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(_h),x(je),x(at))},e.\u0275cmp=H({type:e,selectors:[["app-booking-history"]],standalone:!0,features:[K],decls:8,vars:3,consts:[["noBookings",""],[3,"pageTitle"],[1,"event"],[1,"heading"],[1,"section_title","header_text_color"],[4,"ngIf","ngIfElse"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"ticket-info"],["src","assets/bookinghistory/image.svg","alt","Event Image",1,"event-image"],[1,"event-details"],[1,"section_title","name"],[1,"paragraph_text","contact"],[1,"section_title","heading"],[1,"row2"],[1,"paragraph_text","header_text_color"],[1,"paragraph_text","header_text_color","ticket","green"],[1,"paragraph_text","header_text_color","ticket"],[1,"no-bookings"],["src","assets/bookinghistory/nobooking.svg","alt","No Bookings",1,"no-bookings-image"],[1,"section_title"]],template:function(r,o){if(r&1&&(F(0,"app-header-with-back",1),_(1,"section",2)(2,"div",3)(3,"h2",4),E(4,"Booked Events"),v()(),se(5,wU,2,1,"div",5)(6,IU,6,0,"ng-template",null,0,ff),v()),r&2){let s=So(7);B("pageTitle","Booking history"),M(5),B("ngIf",o.bookings&&o.bookings.length>0)("ngIfElse",s)}},dependencies:[xe,wt,It,Qe],styles:[".event[_ngcontent-%COMP%]{padding:20px}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15%}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .filtre[_ngcontent-%COMP%]{width:130px;height:32px;margin-right:5px;border-radius:10px}.card[_ngcontent-%COMP%]{background:linear-gradient(90.61deg,#e0e0e04d .53%,#e0e0e033 47.85%,#e0e0e01a 99.47%);border-radius:12px;margin-top:10px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;font-size:14px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:20px;color:#000;margin:5px 0}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#444;margin:0}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#48bc1f;font-weight:700}.no-bookings[_ngcontent-%COMP%]{margin-top:20%;text-align:center;line-height:2}.no-bookings[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:20px;font-size:18px}"]});let t=e;return t})();var EU=(t,e,i)=>({"text-black":t,"text-green":e,"text-red":i});function CU(t,e){if(t&1){let i=Me();_(0,"div",16),q("click",function(){let r=de(i).index,o=J(2);return he(o.selectTab(r))}),E(1),v()}if(t&2){let i=e.index,n=J(2);lt("active",n.selectedTab===i),M(),we("Member ",i+1," ")}}function TU(t,e){if(t&1&&(_(0,"div",14),se(1,CU,2,3,"div",15),v()),t&2){let i=J();M(),B("ngForOf",i.members)}}function SU(t,e){if(t&1&&(_(0,"div",18)(1,"div",19)(2,"span",20),E(3,"Name"),v(),_(4,"span",6),E(5),v()(),_(6,"div",19)(7,"span",20),E(8,"Aadhaar"),v(),_(9,"span",6),E(10),v()(),_(11,"div",19)(12,"span",20),E(13,"Gender"),v(),_(14,"span",6),E(15),v()(),_(16,"div",19)(17,"span",20),E(18,"Contact"),v(),_(19,"span",6),E(20),v()()()),t&2){let i=J(2);M(5),pe(i.members[i.selectedTab].Name),M(5),pe(i.members[i.selectedTab].Aadharnumber),M(5),pe(i.members[i.selectedTab].gender),M(5),pe(i.members[i.selectedTab].mobileNo)}}function AU(t,e){if(t&1&&(_(0,"div"),se(1,SU,21,4,"div",17),v()),t&2){let i=J();M(),B("ngIf",i.selectedTab!==null)}}var ZS=(()=>{let e=class e{constructor(n,r,o,s,a){this.route=n,this.bottomSheet=r,this.firestore=o,this.receivingEventService=s,this.router=a,this.bookingdata=null,this.selectedTab=0,this.members=[]}ngOnInit(){let n=this.route.snapshot.paramMap.get("BookingId");n&&this.getBookingDetails(n)}getBookingDetails(n){return g(this,null,function*(){let r=yield this.receivingEventService.getAllUsers();for(let o of r.docs){let s=o.id,a=yield this.receivingEventService.getUserBookings(s);for(let l of a.docs){let u=l.data();if(u.id===n){this.bookingdata={BookingId:u.id,name:u.customer.name,contact:u.customer.phoneNumber,eventname:u.event.eventName,slabname:u.slab.name,varientname:u.variant.name,date:u.paymentDetail.date,time:u.paymentDetail.time,price:u.paymentDetail.totalPrice,tickets:u.totalMember,status:u.paymentDetail.paymentStatus,member:u.memberDetail},this.members=u.memberDetail,this.userId=s;break}}}})}selectTab(n){this.selectedTab=n}};e.\u0275fac=function(r){return new(r||e)(x(pn),x(ch),x(je),x(_h),x(ge))},e.\u0275cmp=H({type:e,selectors:[["app-payment-details"]],inputs:{bookingdata:"bookingdata"},standalone:!0,features:[K],decls:51,vars:17,consts:[[3,"pageTitle"],[1,"details"],[1,"booking"],[1,"card_title_text","heading"],[1,"event","paragraph_text"],[1,"field"],[1,"header_text_color"],[1,"eventpayment","paragraph_text"],[3,"ngClass"],[1,"scroll"],[1,"memberheading"],[1,"card_title_text"],["class","tabs",4,"ngIf"],[4,"ngIf"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab",3,"click"],["class","content",4,"ngIf"],[1,"content"],[1,"card2"],[1,"paragraph_text"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"section",1)(2,"div",2)(3,"p",3),E(4,"Payment Details"),v(),_(5,"div",4)(6,"span",5),E(7,"Event"),v(),_(8,"span",6),E(9),v()(),_(10,"div",4)(11,"span",5),E(12,"slab"),v(),_(13,"span",6),E(14),v()(),_(15,"div",4)(16,"span",5),E(17,"varient"),v(),_(18,"span",6),E(19),v()(),_(20,"div",4)(21,"span",5),E(22,"Booking Member"),v(),_(23,"span",6),E(24),v()(),_(25,"div",4)(26,"span",5),E(27,"Contact"),v(),_(28,"span",6),E(29),v()(),_(30,"div",4)(31,"span",5),E(32,"Date"),v(),_(33,"span",6),E(34),v()(),_(35,"div",4)(36,"span",5),E(37,"Payment"),v(),_(38,"span",6),E(39),v()(),_(40,"div",7)(41,"span",5),E(42,"Status"),v(),_(43,"span",8),E(44),v()()(),_(45,"div",9)(46,"div",10)(47,"p",11),E(48,"Member Details"),v()(),se(49,TU,2,1,"div",12)(50,AU,2,1,"div",13),v()()),r&2&&(B("pageTitle","Booking Details"),M(9),pe(o.bookingdata==null?null:o.bookingdata.eventname),M(5),pe(o.bookingdata==null?null:o.bookingdata.slabname),M(5),pe(o.bookingdata==null?null:o.bookingdata.varientname),M(5),pe(o.bookingdata==null?null:o.bookingdata.name),M(5),pe(o.bookingdata==null?null:o.bookingdata.contact),M(5),Ao("",o.bookingdata==null?null:o.bookingdata.date," ",o.bookingdata==null?null:o.bookingdata.time,""),M(5),pe(o.bookingdata==null?null:o.bookingdata.price),M(4),B("ngClass",Uy(13,EU,(o.bookingdata==null?null:o.bookingdata.status)==="pending",(o.bookingdata==null?null:o.bookingdata.status)==="success",(o.bookingdata==null?null:o.bookingdata.status)==="failed")),M(),we(" ",o.bookingdata==null?null:o.bookingdata.status," "),M(5),B("ngIf",o.members.length>0),M(),B("ngIf",o.members.length>0))},dependencies:[xe,ko,wt,It,Qe],styles:[".details[_ngcontent-%COMP%]{padding:20px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]{background:linear-gradient(99.41deg,#e1e1e14d 12.07%,#e1e1e133 48.35% 87.93%);margin-top:15%;border-radius:15px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:500;margin:5px;padding:10px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:2px 10px 0}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{color:#7e8083;font-size:16px;font-weight:500}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]   .header_text_color[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;padding:0 10px 20px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{font-size:22px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .text-red[_ngcontent-%COMP%]{color:red;font-size:22px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .text-green[_ngcontent-%COMP%]{color:#48bc1f;font-size:22px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .text-black[_ngcontent-%COMP%]{color:#000;font-size:22px}.details[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{background:linear-gradient(99.41deg,#e1e1e14d 12.07%,#e1e1e133 48.35% 87.93%);border-radius:15px;padding:10px;margin-top:20px}.details[_ngcontent-%COMP%]   .memberheading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;margin:5px}.details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{margin-top:15px;display:flex;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:5px;border-radius:10px;cursor:pointer;justify-content:center;align-items:center}.details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:var(--active-tab-gradient, linear-gradient(90deg, #464E5F .28%, rgba(70, 78, 95, .8) 47.84%, rgba(70, 78, 95, .4) 99.72%));color:#fff}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:8%;padding:20px;background:linear-gradient(99.41deg,#e1e1e14d 12.07%,#e1e1e133 48.35% 87.93%);border:1px solid;border-image-source:linear-gradient(99.41deg,rgba(170,170,170,.3) 12.07%,rgba(170,170,170,.2) 48.35%,rgba(170,170,170,.2) 87.93%);border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:.4rem;margin-right:.4rem}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]   .paragraph_text[_ngcontent-%COMP%]{color:#7e8083;font-size:16px;font-weight:500}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]   .header_text_color[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.details[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(91.49deg,#e90d35 1.27%,#e90d35cc 47.72%,#e90d3566 98.38%);border:none;height:60px;width:166px;border-radius:30px;margin-left:25%}"]});let t=e;return t})();var eA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-contact-us"]],standalone:!0,features:[K],decls:25,vars:1,consts:[[3,"pageTitle"],[1,"contact-section"],[1,"image"],["src","assets/contact/contactimage.svg","alt","Contact Image"],[1,"detail"],[1,"row1"],["src","assets/contact/location.svg","alt","Location"],["src","assets/contact/call.svg","alt","Call"],["src","assets/contact/gmail.svg","alt","Email"],["src","assets/contact/web.svg","alt","Website"],[1,"icon"],["src","assets/contact/fb.svg","alt","Facebook"],["src","assets/contact/insta.svg","alt","Instagram"],["src","assets/contact/whatsapp.svg","alt","WhatsApp"]],template:function(r,o){r&1&&(F(0,"app-header-with-back",0),_(1,"section",1)(2,"div",2),F(3,"img",3),v(),_(4,"div",4)(5,"div",5),F(6,"img",6),_(7,"span"),E(8,"Varanasi Uttar Pradesh"),v()(),_(9,"div",5),F(10,"img",7),_(11,"span"),E(12,"8418846013"),v()(),_(13,"div",5),F(14,"img",8),_(15,"span"),E(16,"support@kashisummit.com"),v()(),_(17,"div",5),F(18,"img",9),_(19,"span"),E(20,"https://kashisummit.com"),v()()(),_(21,"div",10),F(22,"img",11)(23,"img",12)(24,"img",13),v()()),r&2&&B("pageTitle","Contact Us")},dependencies:[Qe],styles:["section.contact-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;width:100%;max-width:600px;margin:0 auto;padding-bottom:80px}section.contact-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:50px}section.contact-section[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}section.contact-section[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:3rem;width:100%}section.contact-section[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;max-width:500px;margin-top:2rem;justify-content:center}section.contact-section[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:25px;width:24px;height:24px}section.contact-section[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;color:#333;text-align:center;flex-grow:1}section.contact-section[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-top:2rem;gap:2rem}section.contact-section[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0}"]});let t=e;return t})();var tA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-desktoppage"]],standalone:!0,features:[K],decls:6,vars:0,consts:[["src","/assets/homepage/error.svg"]],template:function(r,o){r&1&&(_(0,"div"),F(1,"img",0),_(2,"p"),E(3,"Switch to Mobile "),v(),_(4,"p"),E(5,"for your best Experience"),v()())}});let t=e;return t})();var nA=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:$T},{path:"home",component:HT},{path:"otp",component:QT},{path:"profile",component:MS},{path:"add-address",component:FS},{path:"member-detail",component:LS},{path:"payment/:id",component:jS},{path:"payment-successful",component:BS},{path:"patmentfailed",component:QS},{path:"survey-list",component:zS},{path:"event-list",component:$S},{path:"slab/:id",component:qS},{path:"varient/:id",component:GS},{path:"donation",component:WS},{path:"feed",component:KS},{path:"coupon",component:HS},{path:"account",component:YS},{path:"history",component:JS},{path:"PaymentDetail/:BookingId",component:ZS},{path:"ContactUs",component:eA},{path:"errorpage",component:tA},{path:"notlogin",component:gh}];var xU="@",PU=(()=>{let e=class e{constructor(n,r,o,s,a){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=W(Oy,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-CM4MB3MU.js").then(r=>r)).catch(r=>{throw new Be(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Yv(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(n,r);s.use(l),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){la()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),Yv=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,n,r){this.delegate.insertBefore(e,i,n,r)}removeChild(e,i,n){this.delegate.removeChild(e,i,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,n)),this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,n)),this.delegate.listen(e,i,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(xU)}};function iA(t="animations"){return lf("NgAsyncAnimations"),ct([{provide:El,useFactory:(e,i,n)=>new PU(e,i,n,t),deps:[ce,Bl,oe]},{provide:fi,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var sA="functions";var Qv=class{constructor(e,i,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||n.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){return g(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return g(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return g(this,null,function*(){if(this.appCheck){let i=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return i.error?null:i.token}return null})}getContext(e){return g(this,null,function*(){let i=yield this.getAuthToken(),n=yield this.getMessagingToken(),r=yield this.getAppCheckToken(e);return{authToken:i,messagingToken:n,appCheckToken:r}})}};var Xv="us-central1";var Jv=class{constructor(e,i,n,r,o=Xv,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Qv(i,n,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(o);this.customDomain=a.origin,this.region=Xv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){let i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}};function kU(t,e,i){t.emulatorOrigin=`http://${e}:${i}`}var rA="@firebase/functions",oA="0.11.6";var DU="auth-internal",RU="app-check-internal",OU="messaging-internal";function MU(t,e){let i=(n,{instanceIdentifier:r})=>{let o=n.getProvider("app").getImmediate(),s=n.getProvider(DU),a=n.getProvider(OU),l=n.getProvider(RU);return new Jv(o,s,a,l,r,t)};Ct(new rt(sA,i,"PUBLIC").setMultipleInstances(!0)),Ie(rA,oA,e),Ie(rA,oA,"esm2017")}function aA(t=rn(),e=Xv){let n=Xt(Oe(t),sA).getImmediate({identifier:e}),r=qo("functions");return r&&cA(n,...r),n}function cA(t,e,i){kU(Oe(t),e,i)}MU(fetch.bind(self));var Xc=class{constructor(e){return e}},lA="functions",Zv=class{constructor(){return Dn(lA)}};var eb=new X("angularfire2.functions-instances");function NU(t,e){let i=Hn(lA,t,e);return i&&new Xc(i)}function FU(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new Xc(n)}}var VU={provide:Zv,deps:[[new Ue,eb]]},LU={provide:Xc,useFactory:NU,deps:[[new Ue,eb],Ht]};function uA(t,...e){return Ie("angularfire",on.full,"fn"),ct([LU,VU,{provide:eb,useFactory:FU(t),multi:!0,deps:[oe,Ce,mn,sn,[new Ue,wi],[new Ue,Wn],...e]}])}var dA=Ne(aA,!0);var pA="@firebase/installations",rb="0.6.8";var mA=1e4,gA=`w:${rb}`,_A="FIS_v2",UU="https://firebaseinstallations.googleapis.com/v1",jU=60*60*1e3,BU="installations",zU="Installations";var $U={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},po=new nn(BU,zU,$U);function vA(t){return t instanceof Et&&t.code.includes("request-failed")}function bA({projectId:t}){return`${UU}/projects/${t}/installations`}function yA(t){return{token:t.token,requestStatus:2,expiresIn:GU(t.expiresIn),creationTime:Date.now()}}function wA(t,e){return g(this,null,function*(){let n=(yield e.json()).error;return po.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})}function IA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qU(t,{refreshToken:e}){let i=IA(t);return i.append("Authorization",WU(e)),i}function EA(t){return g(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function GU(t){return Number(t.replace("s","000"))}function WU(t){return`${_A} ${t}`}function HU(n,r){return g(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:i}){let o=bA(t),s=IA(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let l={fid:i,authVersion:_A,appId:t.appId,sdkVersion:gA},u={method:"POST",headers:s,body:JSON.stringify(l)},h=yield EA(()=>fetch(o,u));if(h.ok){let p=yield h.json();return{fid:p.fid||i,registrationStatus:2,refreshToken:p.refreshToken,authToken:yA(p.authToken)}}else throw yield wA("Create Installation",h)})}function CA(t){return new Promise(e=>{setTimeout(e,t)})}function KU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var YU=/^[cdef][\w-]{21}$/,ib="";function QU(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let i=XU(t);return YU.test(i)?i:ib}catch{return ib}}function XU(t){return KU(t).substr(0,22)}function bh(t){return`${t.appName}!${t.appId}`}var TA=new Map;function SA(t,e){let i=bh(t);AA(i,e),JU(i,e)}function AA(t,e){let i=TA.get(t);if(i)for(let n of i)n(e)}function JU(t,e){let i=ZU();i&&i.postMessage({key:t,fid:e}),ej()}var fo=null;function ZU(){return!fo&&"BroadcastChannel"in self&&(fo=new BroadcastChannel("[Firebase] FID Change"),fo.onmessage=t=>{AA(t.data.key,t.data.fid)}),fo}function ej(){TA.size===0&&fo&&(fo.close(),fo=null)}var tj="firebase-installations-database",nj=1,mo="firebase-installations-store",tb=null;function ob(){return tb||(tb=Mr(tj,nj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mo)}}})),tb}function vh(t,e){return g(this,null,function*(){let i=bh(t),r=(yield ob()).transaction(mo,"readwrite"),o=r.objectStore(mo),s=yield o.get(i);return yield o.put(e,i),yield r.done,(!s||s.fid!==e.fid)&&SA(t,e.fid),e})}function xA(t){return g(this,null,function*(){let e=bh(t),n=(yield ob()).transaction(mo,"readwrite");yield n.objectStore(mo).delete(e),yield n.done})}function yh(t,e){return g(this,null,function*(){let i=bh(t),r=(yield ob()).transaction(mo,"readwrite"),o=r.objectStore(mo),s=yield o.get(i),a=e(s);return a===void 0?yield o.delete(i):yield o.put(a,i),yield r.done,a&&(!s||s.fid!==a.fid)&&SA(t,a.fid),a})}function sb(t){return g(this,null,function*(){let e,i=yield yh(t.appConfig,n=>{let r=ij(n),o=rj(t,r);return e=o.registrationPromise,o.installationEntry});return i.fid===ib?{installationEntry:yield e}:{installationEntry:i,registrationPromise:e}})}function ij(t){let e=t||{fid:QU(),registrationStatus:0};return PA(e)}function rj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(po.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=oj(t,i);return{installationEntry:i,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sj(t)}:{installationEntry:e}}function oj(t,e){return g(this,null,function*(){try{let i=yield HU(t,e);return vh(t.appConfig,i)}catch(i){throw vA(i)&&i.customData.serverCode===409?yield xA(t.appConfig):yield vh(t.appConfig,{fid:e.fid,registrationStatus:0}),i}})}function sj(t){return g(this,null,function*(){let e=yield hA(t.appConfig);for(;e.registrationStatus===1;)yield CA(100),e=yield hA(t.appConfig);if(e.registrationStatus===0){let{installationEntry:i,registrationPromise:n}=yield sb(t);return n||i}return e})}function hA(t){return yh(t,e=>{if(!e)throw po.create("installation-not-found");return PA(e)})}function PA(t){return aj(t)?{fid:t.fid,registrationStatus:0}:t}function aj(t){return t.registrationStatus===1&&t.registrationTime+mA<Date.now()}function cj(n,r){return g(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},i){let o=lj(t,i),s=qU(t,i),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let l={installation:{sdkVersion:gA,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},h=yield EA(()=>fetch(o,u));if(h.ok){let p=yield h.json();return yA(p)}else throw yield wA("Generate Auth Token",h)})}function lj(t,{fid:e}){return`${bA(t)}/${e}/authTokens:generate`}function ab(t,e=!1){return g(this,null,function*(){let i,n=yield yh(t.appConfig,o=>{if(!kA(o))throw po.create("not-registered");let s=o.authToken;if(!e&&hj(s))return o;if(s.requestStatus===1)return i=uj(t,e),o;{if(!navigator.onLine)throw po.create("app-offline");let a=pj(o);return i=dj(t,a),a}});return i?yield i:n.authToken})}function uj(t,e){return g(this,null,function*(){let i=yield fA(t.appConfig);for(;i.authToken.requestStatus===1;)yield CA(100),i=yield fA(t.appConfig);let n=i.authToken;return n.requestStatus===0?ab(t,e):n})}function fA(t){return yh(t,e=>{if(!kA(e))throw po.create("not-registered");let i=e.authToken;return mj(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function dj(t,e){return g(this,null,function*(){try{let i=yield cj(t,e),n=Object.assign(Object.assign({},e),{authToken:i});return yield vh(t.appConfig,n),i}catch(i){if(vA(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))yield xA(t.appConfig);else{let n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield vh(t.appConfig,n)}throw i}})}function kA(t){return t!==void 0&&t.registrationStatus===2}function hj(t){return t.requestStatus===2&&!fj(t)}function fj(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jU}function pj(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function mj(t){return t.requestStatus===1&&t.requestTime+mA<Date.now()}function gj(t){return g(this,null,function*(){let e=t,{installationEntry:i,registrationPromise:n}=yield sb(e);return n?n.catch(console.error):ab(e).catch(console.error),i.fid})}function _j(t,e=!1){return g(this,null,function*(){let i=t;return yield vj(i),(yield ab(i,e)).token})}function vj(t){return g(this,null,function*(){let{registrationPromise:e}=yield sb(t);e&&(yield e)})}function bj(t){if(!t||!t.options)throw nb("App Configuration");if(!t.name)throw nb("App Name");let e=["projectId","apiKey","appId"];for(let i of e)if(!t.options[i])throw nb(i);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nb(t){return po.create("missing-app-config-values",{valueName:t})}var DA="installations",yj="installations-internal",wj=t=>{let e=t.getProvider("app").getImmediate(),i=bj(e),n=Xt(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Ij=t=>{let e=t.getProvider("app").getImmediate(),i=Xt(e,DA).getImmediate();return{getId:()=>gj(i),getToken:r=>_j(i,r)}};function Ej(){Ct(new rt(DA,wj,"PUBLIC")),Ct(new rt(yj,Ij,"PRIVATE"))}Ej();Ie(pA,rb);Ie(pA,rb,"esm2017");var Cj="/firebase-messaging-sw.js",Tj="/firebase-cloud-messaging-push-scope",VA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sj="https://fcmregistrations.googleapis.com/v1",LA="google.c.a.c_id",Aj="google.c.a.c_l",xj="google.c.a.ts",Pj="google.c.a.e";var wh=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(wh||{});function Oi(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kj(t){let e="=".repeat((4-t.length%4)%4),i=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(i),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var cb="fcm_token_details_db",Dj=5,RA="fcm_token_object_Store";function Rj(t){return g(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(cb))return null;let e=null;return(yield Mr(cb,Dj,{upgrade:(n,r,o,s)=>g(this,null,function*(){var a;if(r<2||!n.objectStoreNames.contains(RA))return;let l=s.objectStore(RA),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!u){if(r===2){let h=u;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(a=h.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:Oi(h.vapidKey)}}}else if(r===3){let h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Oi(h.auth),p256dh:Oi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Oi(h.vapidKey)}}}else if(r===4){let h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Oi(h.auth),p256dh:Oi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Oi(h.vapidKey)}}}}})})).close(),yield du(cb),yield du("fcm_vapid_details_db"),yield du("undefined"),Oj(e)?e:null})}function Oj(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var Mj="firebase-messaging-database",Nj=1,Jc="firebase-messaging-store",lb=null;function UA(){return lb||(lb=Mr(Mj,Nj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jc)}}})),lb}function Fj(t){return g(this,null,function*(){let e=jA(t),n=yield(yield UA()).transaction(Jc).objectStore(Jc).get(e);if(n)return n;{let r=yield Rj(t.appConfig.senderId);if(r)return yield hb(t,r),r}})}function hb(t,e){return g(this,null,function*(){let i=jA(t),r=(yield UA()).transaction(Jc,"readwrite");return yield r.objectStore(Jc).put(e,i),yield r.done,e})}function jA({appConfig:t}){return t.appId}var Vj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Yt=new nn("messaging","Messaging",Vj);function Lj(t,e){return g(this,null,function*(){let i=yield pb(t),n=BA(e),r={method:"POST",headers:i,body:JSON.stringify(n)},o;try{o=yield(yield fetch(fb(t.appConfig),r)).json()}catch(s){throw Yt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Yt.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw Yt.create("token-subscribe-no-token");return o.token})}function Uj(t,e){return g(this,null,function*(){let i=yield pb(t),n=BA(e.subscriptionOptions),r={method:"PATCH",headers:i,body:JSON.stringify(n)},o;try{o=yield(yield fetch(`${fb(t.appConfig)}/${e.token}`,r)).json()}catch(s){throw Yt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw Yt.create("token-update-failed",{errorInfo:s})}if(!o.token)throw Yt.create("token-update-no-token");return o.token})}function jj(t,e){return g(this,null,function*(){let n={method:"DELETE",headers:yield pb(t)};try{let o=yield(yield fetch(`${fb(t.appConfig)}/${e}`,n)).json();if(o.error){let s=o.error.message;throw Yt.create("token-unsubscribe-failed",{errorInfo:s})}}catch(r){throw Yt.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})}function fb({projectId:t}){return`${Sj}/projects/${t}/registrations`}function pb(i){return g(this,arguments,function*({appConfig:t,installations:e}){let n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})}function BA({p256dh:t,auth:e,endpoint:i,vapidKey:n}){let r={web:{endpoint:i,auth:e,p256dh:t}};return n!==VA&&(r.web.applicationPubKey=n),r}var Bj=7*24*60*60*1e3;function zj(t){return g(this,null,function*(){let e=yield qj(t.swRegistration,t.vapidKey),i={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Oi(e.getKey("auth")),p256dh:Oi(e.getKey("p256dh"))},n=yield Fj(t.firebaseDependencies);if(n){if(Gj(n.subscriptionOptions,i))return Date.now()>=n.createTime+Bj?$j(t,{token:n.token,createTime:Date.now(),subscriptionOptions:i}):n.token;try{yield jj(t.firebaseDependencies,n.token)}catch(r){console.warn(r)}return OA(t.firebaseDependencies,i)}else return OA(t.firebaseDependencies,i)})}function $j(t,e){return g(this,null,function*(){try{let i=yield Uj(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:i,createTime:Date.now()});return yield hb(t.firebaseDependencies,n),i}catch(i){throw i}})}function OA(t,e){return g(this,null,function*(){let n={token:yield Lj(t,e),createTime:Date.now(),subscriptionOptions:e};return yield hb(t,n),n.token})}function qj(t,e){return g(this,null,function*(){let i=yield t.pushManager.getSubscription();return i||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kj(e)})})}function Gj(t,e){let i=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,r=e.auth===t.auth,o=e.p256dh===t.p256dh;return i&&n&&r&&o}function MA(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Wj(e,t),Hj(e,t),Kj(e,t),e}function Wj(t,e){if(!e.notification)return;t.notification={};let i=e.notification.title;i&&(t.notification.title=i);let n=e.notification.body;n&&(t.notification.body=n);let r=e.notification.image;r&&(t.notification.image=r);let o=e.notification.icon;o&&(t.notification.icon=o)}function Hj(t,e){e.data&&(t.data=e.data)}function Kj(t,e){var i,n,r,o,s;if(!e.fcmOptions&&!(!((i=e.notification)===null||i===void 0)&&i.click_action))return;t.fcmOptions={};let a=(r=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&r!==void 0?r:(o=e.notification)===null||o===void 0?void 0:o.click_action;a&&(t.fcmOptions.link=a);let l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function Yj(t){return typeof t=="object"&&!!t&&LA in t}zA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");zA("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function zA(t,e){let i=[];for(let n=0;n<t.length;n++)i.push(t.charAt(n)),n<e.length&&i.push(e.charAt(n));return i.join("")}function Qj(t){if(!t||!t.options)throw ub("App Configuration Object");if(!t.name)throw ub("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:i}=t;for(let n of e)if(!i[n])throw ub(n);return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function ub(t){return Yt.create("missing-app-config-values",{valueName:t})}var db=class{constructor(e,i,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=Qj(e);this.firebaseDependencies={app:e,appConfig:r,installations:i,analyticsProvider:n}}_delete(){return Promise.resolve()}};function Xj(t){return g(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(Cj,{scope:Tj}),t.swRegistration.update().catch(()=>{})}catch(e){throw Yt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function Jj(t,e){return g(this,null,function*(){if(!e&&!t.swRegistration&&(yield Xj(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Yt.create("invalid-sw-registration");t.swRegistration=e}})}function Zj(t,e){return g(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=VA)})}function eB(t,e){return g(this,null,function*(){if(!navigator)throw Yt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Yt.create("permission-blocked");return yield Zj(t,e?.vapidKey),yield Jj(t,e?.serviceWorkerRegistration),zj(t)})}function tB(t,e,i){return g(this,null,function*(){let n=nB(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:i[LA],message_name:i[Aj],message_time:i[xj],message_device_time:Math.floor(Date.now()/1e3)})})}function nB(t){switch(t){case wh.NOTIFICATION_CLICKED:return"notification_open";case wh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function iB(t,e){return g(this,null,function*(){let i=e.data;if(!i.isFirebaseMessaging)return;t.onMessageHandler&&i.messageType===wh.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(MA(i)):t.onMessageHandler.next(MA(i)));let n=i.data;Yj(n)&&n[Pj]==="1"&&(yield tB(t,i.messageType,n))})}var NA="@firebase/messaging",FA="0.12.10";var rB=t=>{let e=new db(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>iB(e,i)),e},oB=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:n=>eB(e,n)}};function sB(){Ct(new rt("messaging",rB,"PUBLIC")),Ct(new rt("messaging-internal",oB,"PRIVATE")),Ie(NA,FA),Ie(NA,FA,"esm2017")}function mb(){return g(this,null,function*(){try{yield cu()}catch{return!1}return typeof window<"u"&&$a()&&cw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function $A(t=rn()){return mb().then(e=>{if(!e)throw Yt.create("unsupported-browser")},e=>{throw Yt.create("indexed-db-unsupported")}),Xt(Oe(t),"messaging").getImmediate()}sB();var Zc=class{constructor(e){return e}},qA="messaging",gb=class{constructor(){return Dn(qA)}};var GA="__angularfire_symbol__messagingIsSupported",_b="__angularfire_symbol__messagingIsSupportedValue";globalThis[GA]||=mb().then(t=>globalThis[_b]=t).catch(()=>globalThis[_b]=!1);var Ih={async:()=>globalThis[GA],sync:()=>{let t=globalThis[_b];if(t===void 0)throw new Error(Cw("Messaging"));return t}},vb=new X("angularfire2.messaging-instances");function aB(t,e){if(!Ih.sync())return null;let i=Hn(qA,t,e);return i&&new Zc(i)}function cB(t){return(e,i)=>{if(!Ih.sync())return null;let n=e.runOutsideAngular(()=>t(i));return new Zc(n)}}var lB={provide:gb,deps:[[new Ue,vb]]},uB={provide:Zc,useFactory:aB,deps:[[new Ue,vb],Ht]};function WA(t,...e){return Ie("angularfire",on.full,"fcm"),ct([uB,lB,{provide:ha,useValue:Ih.async,multi:!0},{provide:vb,useFactory:cB(t),multi:!0,deps:[oe,Ce,mn,sn,...e]}])}var Y8=Ih.async;var HA=Ne($A,!0);var tl="Service workers are disabled or not supported by this browser";function dB(t){return ji(()=>wr(new Error(t)))}var Vs=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=dB(tl);else{let n=ra(e,"controllerchange").pipe(ue(()=>e.controller)),r=ji(()=>re(e.controller)),o=yo(r,n);this.worker=o.pipe(He(h=>!!h)),this.registration=this.worker.pipe(yt(()=>e.getRegistration()));let u=ra(e,"message").pipe(ue(h=>h.data)).pipe(He(h=>h&&h.type)).pipe(Ay());u.connect(),this.events=u}}postMessage(e,i){return this.worker.pipe(_t(1),it(n=>{n.postMessage(V({action:e},i))})).toPromise().then(()=>{})}postMessageWithOperation(e,i,n){let r=this.waitForOperationCompleted(n),o=this.postMessage(e,i);return Promise.all([o,r]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let i;return typeof e=="string"?i=n=>n.type===e:i=n=>e.includes(n.type),this.events.pipe(He(i))}nextEventOfType(e){return this.eventsOfType(e).pipe(_t(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(He(i=>i.nonce===e),_t(1),ue(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},hB=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new ye,!n.isEnabled){this.messages=wo,this.notificationClicks=wo,this.subscription=wo;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ue(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ue(o=>o.data)),this.pushManager=this.sw.registration.pipe(ue(o=>o.pushManager));let r=this.pushManager.pipe(yt(o=>o.getSubscription()));this.subscription=Ir(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(tl));let r={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return r.applicationServerKey=s,this.pushManager.pipe(yt(a=>a.subscribe(r)),_t(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(tl));let n=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(_t(1),yt(n)).toPromise()}decodeBase64(n){return atob(n)}};e.\u0275fac=function(r){return new(r||e)(D(Vs))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),fB=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=wo,this.unrecoverable=wo;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tl));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tl));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}};e.\u0275fac=function(r){return new(r||e)(D(Vs))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();var KA=new X("");function pB(t,e,i,n){return()=>{if(!(pa(n)&&"serviceWorker"in navigator&&i.enabled!==!1))return;let r=t.get(oe),o=t.get(pi);r.runOutsideAngular(()=>{let a=navigator.serviceWorker,l=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",l),o.onDestroy(()=>{a.removeEventListener("controllerchange",l)})});let s;if(typeof i.registrationStrategy=="function")s=i.registrationStrategy();else{let[a,...l]=(i.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=re(null);break;case"registerWithDelay":s=YA(+l[0]||0);break;case"registerWhenStable":s=l[0]?Ir(QA(t),YA(+l[0])):QA(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`)}}r.runOutsideAngular(()=>s.pipe(_t(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:i.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function YA(t){return re(null).pipe(Ty(t))}function QA(t){return t.get(pi).isStable.pipe(He(i=>i))}function mB(t,e){return new Vs(pa(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var el=class{};function XA(t,e={}){return ct([hB,fB,{provide:KA,useValue:t},{provide:el,useValue:e},{provide:Vs,useFactory:mB,deps:[el,Qt]},{provide:ha,useFactory:pB,deps:[Ce,KA,el,Qt],multi:!0}])}var JA={providers:[By({eventCoalescing:!0}),l0(u0()),Z0(nA),iA(),Tw(()=>Sw({apiKey:"AIzaSyA9mqYMpobF0WJuA0h-l1Qft5v7PjVwgOI",authDomain:"fyi1-aa2c2.firebaseapp.com",projectId:"fyi1-aa2c2",storageBucket:"fyi1-aa2c2.appspot.com",messagingSenderId:"273891090725",appId:"1:273891090725:web:1a3a2b61ba58a8e632bacc",measurementId:"G-CJ026BL27H"})),II(()=>Nu()),nT(()=>rT()),uA(()=>dA()),WA(()=>HA()),PS(()=>DS()),XA("ngsw-worker.js",{enabled:!zy(),registrationStrategy:"registerWhenStable:30000"})]};function gB(t,e){if(t&1){let i=Me();_(0,"div",1)(1,"button",2),q("click",function(){de(i);let r=J();return he(r.moveToHome())}),F(2,"img",3),_(3,"span"),E(4,"Home"),v()(),_(5,"button",2),q("click",function(){de(i);let r=J();return he(r.moveTohistory())}),F(6,"img",4),_(7,"span"),E(8,"History"),v()(),_(9,"button",2),q("click",function(){de(i);let r=J();return he(r.moveToaccount())}),F(10,"img",5),_(11,"span"),E(12,"Account"),v()()()}if(t&2){let i=J();M(),lt("active",i.currentTab==="home"),M(),B("src",i.currentTab==="home"?"/assets/navbar/home1.svg":"/assets/navbar/home.svg",Vt),M(3),lt("active",i.currentTab==="donation"),M(),B("src",i.currentTab==="donation"?"/assets/navbar/history1.svg":"/assets/navbar/history.svg",Vt),M(3),lt("active",i.currentTab==="account"),M(),B("src",i.currentTab==="account"?"/assets/navbar/profile1.svg":"/assets/navbar/profile.svg",Vt)}}var ZA=(()=>{let e=class e{constructor(n,r){this.router=n,this.DataProviderService=r,this.hiddenRoutes=["/login","/add-address","/otp","/profile","/member-detail","event-payment","payment","payment-successful","patmentfailed","varient"],this.currentTab="home",this.checkRoute(this.router.url),this.router.events.subscribe(o=>{o instanceof _i&&this.checkRoute(o.urlAfterRedirects)})}moveToHome(){this.currentTab="home",this.router.navigate(["home"])}moveTohistory(){this.currentTab="donation",this.router.navigate(["history"])}moveTofeed(){this.currentTab="feed",this.router.navigate(["feed"])}moveTocoupon(){this.currentTab="coupon",this.router.navigate(["coupon"])}moveToaccount(){this.currentTab="account",this.router.navigate(["account"])}checkRoute(n){this.showNavbar=!this.hiddenRoutes.some(r=>n.includes(r))}};e.\u0275fac=function(r){return new(r||e)(x(ge),x(at))},e.\u0275cmp=H({type:e,selectors:[["app-navbar"]],standalone:!0,features:[K],decls:1,vars:1,consts:[["class","navbar",4,"ngIf"],[1,"navbar"],[3,"click"],["alt","Home",3,"src"],["alt","Donation",3,"src"],["alt","Account",3,"src"]],template:function(r,o){r&1&&se(0,gB,13,9,"div",0),r&2&&B("ngIf",o.showNavbar)},dependencies:[xe,It],styles:[".navbar[_ngcontent-%COMP%]{border-radius:30px;display:flex;position:fixed;justify-content:space-evenly;bottom:0;background:#fff;height:80px;width:100%;z-index:1000;padding-left:20px;padding-right:20px}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .3s ease;position:relative}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-top:5px;color:#000;transition:color .3s ease}.navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff}.navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translateY(-5px);background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border-radius:30px}.navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translateY(-5px);color:#2f15aa}"]});let t=e;return t})();var ex=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=ze({imports:[xe,th]});let t=e;return t})();function _B(t,e){t&1&&(_(0,"div",1),F(1,"div",2),v())}var tx=(()=>{let e=class e{constructor(n){this.loadingService=n,this.isLoading=this.loadingService.isLoading$}};e.\u0275fac=function(r){return new(r||e)(x(lh))},e.\u0275cmp=H({type:e,selectors:[["app-spinner"]],standalone:!0,features:[K],decls:2,vars:3,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(r,o){r&1&&(se(0,_B,2,0,"div",0),xl(1,"async")),r&2&&B("ngIf",Pl(1,1,o.isLoading))},dependencies:[ex,xe,It,Ky],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:10000}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let t=e;return t})();var nx=(()=>{let e=class e{constructor(){this.title="donor"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=H({type:e,selectors:[["app-root"]],standalone:!0,features:[K],decls:10,vars:0,consts:[[1,"hide-on-desktop"],[1,"hide-on-mobile"],["src","assets/warningsize.svg","alt",""],[1,"green"],[1,"white"]],template:function(r,o){r&1&&(_(0,"div",0),F(1,"app-spinner")(2,"router-outlet")(3,"app-navbar"),v(),_(4,"div",1),F(5,"img",2),_(6,"p",3),E(7,"Switch to Mobile "),v(),_(8,"p",4),E(9," for your best Experience"),v()())},dependencies:[dp,ZA,tx],styles:["@media (max-width: 500px){.hide-on-mobile[_ngcontent-%COMP%]{display:none}}@media (min-width: 501px){.hide-on-desktop[_ngcontent-%COMP%]{display:none}.hide-on-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;background:linear-gradient(180deg,#464e5f33,#464e5f99 38.5%,#464e5fcc);width:100vw;height:100vh}.hide-on-mobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:20px}.hide-on-mobile[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:48px;font-weight:700;line-height:56.78px;text-align:center;color:#48bc1f}.hide-on-mobile[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{font-family:Jura,sans-serif;font-size:48px;font-weight:700;line-height:56.78px;text-align:center;color:#f0f0f0}}p[_ngcontent-%COMP%]{margin:0;padding:0}"]});let t=e;return t})();_0(nx,JA).catch(t=>console.error(t));
