import{$,$a as _t,$b as Ae,A as an,Aa as rl,Ab as ll,B as el,Ba as s0,Bb as hs,C as zo,Ca as En,Cb as p0,D as Xy,Da as Go,Db as ul,E as Jy,Ea as Wo,Eb as dl,F as tl,Fa as st,Fb as Lh,G as mt,Ga as Ho,Gb as Uh,H as Ph,Ha as D,Hb as fs,I as cs,Ia as O,Ib as jh,J as fr,Ja as Nh,Jb as m0,K as Rh,Ka as Ko,Kb as ui,L as Dh,La as o0,Lb as g0,M as cn,Ma as sl,Mb as _0,N as Zy,Na as ol,Nb as ps,O as nl,Oa as ls,Ob as Qo,P as pr,Pa as Fh,Pb as Un,Q as Mi,Qa as ce,Qb as ms,R as Oh,Ra as a0,Rb as v0,S as e0,Sa as mr,Sb as y0,T as xh,Ta as us,Tb as he,U as il,Ua as Wt,Ub as Ui,V as Ni,Va as Ze,Vb as hl,W as Qt,Wa as c0,Wb as b0,X as li,Xa as l0,Xb as et,Y as ct,Ya as re,Yb as Nt,Z as je,Za as dn,Zb as w0,_ as ln,_a as j,_b as I0,a as L,aa as We,ab as Vh,ac as E0,b as pe,ba as t0,bb as v,bc as C0,ca as ie,cb as y,cc as fl,d as xi,da as kh,db as U,dc as pl,e as g,ea as N,eb as ke,f as hr,fa as K,fb as u0,g as wh,ga as Le,gb as G,gc as T0,h as Tt,ha as $o,hb as d0,hc as Bh,i as Ih,ia as W,ib as te,ic as zh,j as Eh,ja as He,jb as Yo,k as Se,ka as Oe,kb as h0,kc as $h,l as at,la as n0,lb as gr,lc as qh,m as Ky,ma as gt,mb as Vi,mc as Gh,n as Yy,na as i0,nb as Li,nc as Wh,o as ki,oa as Fi,ob as al,oc as Hh,p as Ch,pa as wn,pb as E,q as Th,qa as In,qb as me,r as Sh,ra as ue,rb as ve,s as St,sa as de,sb as ds,t as oe,ta as un,tb as _r,u as jo,ua as xe,ub as Ln,v as Ah,va as Mh,vb as vr,w as Qy,wa as Je,wb as Mt,x as Vn,xa as qo,xb as Y,y as be,ya as Ke,yb as f0,z as Bo,za as r0,zb as cl}from"./chunk-HPXMBUTT.js";var Jo=class{},gl=class{},Cn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Yh=class{encodeKey(e){return S0(e)}encodeValue(e){return S0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function iP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var rP=/%(\d[a-f0-9])/gi,sP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function S0(t){return encodeURIComponent(t).replace(rP,(e,n)=>sP[n]??e)}function ml(t){return`${t}`}var Bi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=iP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(ml):[ml(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ml(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(ml(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Qh=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function oP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function A0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function P0(t){return typeof Blob<"u"&&t instanceof Blob}function R0(t){return typeof FormData<"u"&&t instanceof FormData}function aP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Xo=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(oP(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Cn,this.context??=new Qh,!this.params)this.params=new Bi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||A0(this.body)||P0(this.body)||R0(this.body)||aP(this.body)?this.body:this.body instanceof Bi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||R0(this.body)?null:P0(this.body)?this.body.type||null:A0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Bi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((_,C)=>_.set(C,e.setHeaders[C]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((_,C)=>_.set(C,e.setParams[C]),h)),new t(n,i,o,{params:h,headers:u,context:p,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},zi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(zi||{}),Zo=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Cn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},_l=class t extends Zo{constructor(e={}){super(e),this.type=zi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ea=class t extends Zo{constructor(e={}){super(e),this.type=zi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ji=class extends Zo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},M0=200,cP=204;function Kh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Zh=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Xo)o=i;else{let u;s.headers instanceof Cn?u=s.headers:u=new Cn(s.headers);let h;s.params&&(s.params instanceof Bi?h=s.params:h=new Bi({fromObject:s.params})),o=new Xo(i,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=oe(o).pipe(fr(u=>this.handler.handle(u)));if(i instanceof Xo||s.observe==="events")return a;let l=a.pipe(mt(u=>u instanceof ea));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(be(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(be(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(be(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(be(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Bi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Kh(s,r))}post(i,r,s={}){return this.request("POST",i,Kh(s,r))}put(i,r,s={}){return this.request("PUT",i,Kh(s,r))}};e.\u0275fac=function(r){return new(r||e)(N(Jo))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),lP=/^\)\]\}',?\n/,uP="X-Request-URL";function D0(t){if(t.url)return t.url;let e=uP.toLocaleLowerCase();return t.headers.get(e)}var dP=(()=>{let e=class e{constructor(){this.fetchImpl=K(Xh,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=K(ce)}handle(i){return new Tt(r=>{let s=new AbortController;return this.doRequest(i,s.signal,r).then(Jh,o=>r.error(new ji({error:o}))),()=>s.abort()})}doRequest(i,r,s){return g(this,null,function*(){let o=this.createRequestInit(i),a;try{let k=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,L({signal:r},o)));hP(k),s.next({type:zi.Sent}),a=yield k}catch(k){s.error(new ji({error:k,status:k.status??0,statusText:k.statusText,url:i.urlWithParams,headers:k.headers}));return}let l=new Cn(a.headers),u=a.statusText,h=D0(a)??i.urlWithParams,p=a.status,_=null;if(i.reportProgress&&s.next(new _l({headers:l,status:p,statusText:u,url:h})),a.body){let k=a.headers.get("content-length"),F=[],x=a.body.getReader(),z=0,X,H,J=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>g(this,null,function*(){for(;;){let{done:le,value:T}=yield x.read();if(le)break;if(F.push(T),z+=T.length,i.reportProgress){H=i.responseType==="text"?(H??"")+(X??=new TextDecoder).decode(T,{stream:!0}):void 0;let b=()=>s.next({type:zi.DownloadProgress,total:k?+k:void 0,loaded:z,partialText:H});J?J.run(b):b()}}}));let Ne=this.concatChunks(F,z);try{let le=a.headers.get("Content-Type")??"";_=this.parseBody(i,Ne,le)}catch(le){s.error(new ji({error:le,headers:new Cn(a.headers),status:a.status,statusText:a.statusText,url:D0(a)??i.urlWithParams}));return}}p===0&&(p=_?M0:0),p>=200&&p<300?(s.next(new ea({body:_,headers:l,status:p,statusText:u,url:h})),s.complete()):s.error(new ji({error:_,headers:l,status:p,statusText:u,url:h}))})}parseBody(i,r,s){switch(i.responseType){case"json":let o=new TextDecoder().decode(r).replace(lP,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},s=i.withCredentials?"include":void 0;if(i.headers.forEach((o,a)=>r[o]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let o=i.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:s}}concatChunks(i,r){let s=new Uint8Array(r),o=0;for(let a of i)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Xh=class{};function Jh(){}function hP(t){t.then(Jh,Jh)}function N0(t,e){return e(t)}function fP(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function pP(t,e,n){return(i,r)=>wn(n,()=>e(i,s=>t(s,r)))}var mP=new ie(""),ef=new ie(""),gP=new ie(""),F0=new ie("",{providedIn:"root",factory:()=>!0});function _P(){let t=null;return(e,n)=>{t===null&&(t=(K(mP,{optional:!0})??[]).reduceRight(fP,N0));let i=K(qo);if(K(F0)){let s=i.add();return t(e,n).pipe(pr(()=>i.remove(s)))}else return t(e,n)}}var O0=(()=>{let e=class e extends Jo{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=K(qo),this.contributeToStability=K(F0)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ef),...this.injector.get(gP,[])]));this.chain=r.reduceRight((s,o)=>pP(s,o,this.injector),N0)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(pr(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(N(gl),N(Fi))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();var vP=/^\)\]\}',?\n/;function yP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var x0=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new je(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?St(r.\u0275loadImpl()):oe(null)).pipe(Qt(()=>new Tt(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((x,z)=>a.setRequestHeader(x,z.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let x=i.detectContentTypeHeader();x!==null&&a.setRequestHeader("Content-Type",x)}if(i.responseType){let x=i.responseType.toLowerCase();a.responseType=x!=="json"?x:"text"}let l=i.serializeBody(),u=null,h=()=>{if(u!==null)return u;let x=a.statusText||"OK",z=new Cn(a.getAllResponseHeaders()),X=yP(a)||i.url;return u=new _l({headers:z,status:a.status,statusText:x,url:X}),u},p=()=>{let{headers:x,status:z,statusText:X,url:H}=h(),J=null;z!==cP&&(J=typeof a.response>"u"?a.responseText:a.response),z===0&&(z=J?M0:0);let Ne=z>=200&&z<300;if(i.responseType==="json"&&typeof J=="string"){let le=J;J=J.replace(vP,"");try{J=J!==""?JSON.parse(J):null}catch(T){J=le,Ne&&(Ne=!1,J={error:T,text:J})}}Ne?(o.next(new ea({body:J,headers:x,status:z,statusText:X,url:H||void 0})),o.complete()):o.error(new ji({error:J,headers:x,status:z,statusText:X,url:H||void 0}))},_=x=>{let{url:z}=h(),X=new ji({error:x,status:a.status||0,statusText:a.statusText||"Unknown Error",url:z||void 0});o.error(X)},C=!1,k=x=>{C||(o.next(h()),C=!0);let z={type:zi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(z.total=x.total),i.responseType==="text"&&a.responseText&&(z.partialText=a.responseText),o.next(z)},F=x=>{let z={type:zi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(z.total=x.total),o.next(z)};return a.addEventListener("load",p),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),i.reportProgress&&(a.addEventListener("progress",k),l!==null&&a.upload&&a.upload.addEventListener("progress",F)),a.send(l),o.next({type:zi.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",p),a.removeEventListener("timeout",_),i.reportProgress&&(a.removeEventListener("progress",k),l!==null&&a.upload&&a.upload.removeEventListener("progress",F)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(N(pl))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),V0=new ie(""),bP="XSRF-TOKEN",wP=new ie("",{providedIn:"root",factory:()=>bP}),IP="X-XSRF-TOKEN",EP=new ie("",{providedIn:"root",factory:()=>IP}),vl=class{},CP=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=hl(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(N(he),N(En),N(wP))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function TP(t,e){let n=t.url.toLowerCase();if(!K(V0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=K(vl).getToken(),r=K(EP);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var L0=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(L0||{});function SP(t,e){return{\u0275kind:t,\u0275providers:e}}function U0(...t){let e=[Zh,x0,O0,{provide:Jo,useExisting:O0},{provide:gl,useFactory:()=>K(dP,{optional:!0})??K(x0)},{provide:ef,useValue:TP,multi:!0},{provide:V0,useValue:!0},{provide:vl,useClass:CP}];for(let n of t)e.push(...n.\u0275providers);return gt(e)}var k0=new ie("");function j0(){return SP(L0.LegacyInterceptors,[{provide:k0,useFactory:_P},{provide:ef,useExisting:k0,multi:!0}])}var rf=class extends y0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sf=class t extends rf{static makeCurrent(){v0(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RP();return n==null?null:DP(n)}resetBaseElement(){ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hl(document.cookie,e)}},ta=null;function RP(){return ta=ta||document.querySelector("base"),ta?ta.getAttribute("href"):null}function DP(t){return new URL(t,document.baseURI).pathname}var OP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),yl=new ie(""),$0=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new je(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(N(yl),N(ce))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),na=class{constructor(e){this._doc=e}},tf="ng-app-id",q0=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fl(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${tf}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(tf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(tf,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(N(he),N(rl),N(Wo,8),N(En))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},af=/%COMP%/g,G0="%COMP%",xP=`_nghost-${G0}`,kP=`_ngcontent-${G0}`,MP=!0,NP=new ie("",{providedIn:"root",factory:()=>MP});function FP(t){return kP.replace(af,t)}function VP(t){return xP.replace(af,t)}function W0(t,e){return e.map(n=>n.replace(af,t))}var bl=(()=>{let e=class e{constructor(i,r,s,o,a,l,u,h=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=fl(l),this.defaultRenderer=new ia(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$o.ShadowDom&&(r=pe(L({},r),{encapsulation:$o.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof wl?s.applyToHost(i):s instanceof ra&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case $o.Emulated:o=new wl(u,h,r,this.appId,p,a,l,_);break;case $o.ShadowDom:return new of(u,h,i,r,a,l,this.nonce,_);default:o=new ra(u,h,r,p,a,l,_);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(N($0),N(q0),N(rl),N(NP),N(he),N(En),N(ce),N(Wo))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(B0(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(B0(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new je(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=nf[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=nf[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Ho.DashCase|Ho.Important)?e.style.setProperty(n,i,r&Ho.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ho.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ms().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function B0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var of=class extends ia{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=W0(r.id,r.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ra=class extends ia{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?W0(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wl=class extends ra{constructor(e,n,i,r,s,o,a,l){let u=r+"-"+i.id;super(e,n,i,s,o,a,l,u),this.contentAttr=FP(u),this.hostAttr=VP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},LP=(()=>{let e=class e extends na{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),UP=(()=>{let e=class e extends na{constructor(i){super(i),this.delegate=K(_0,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),z0=["alt","control","meta","shift"],jP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zP=(()=>{let e=class e extends na{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ms().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),z0.forEach(h=>{let p=r.indexOf(h);p>-1&&(r.splice(p,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=jP[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),z0.forEach(a=>{if(a!==s){let l=BP[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function H0(t,e){return g0(L({rootComponent:t},$P(e)))}function $P(t){return{appProviders:[...KP,...t?.providers??[]],platformProviders:HP}}function qP(){sf.makeCurrent()}function GP(){return new Mh}function WP(){return r0(document),document}var HP=[{provide:En,useValue:E0},{provide:s0,useValue:qP,multi:!0},{provide:he,useFactory:WP,deps:[]}];var KP=[{provide:i0,useValue:"root"},{provide:Mh,useFactory:GP,deps:[]},{provide:yl,useClass:LP,multi:!0,deps:[he,ce,En]},{provide:yl,useClass:zP,multi:!0,deps:[he]},{provide:yl,useClass:UP,multi:!0},bl,q0,$0,{provide:ol,useExisting:bl},{provide:pl,useClass:OP,deps:[]},[]];var K0=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ye="primary",Ia=Symbol("RouteTitle"),hf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ws(t){return new hf(t)}function QP(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function XP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jn(t[n],e[n]))return!1;return!0}function jn(t,e){let n=t?ff(t):void 0,i=e?ff(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!nb(t[r],e[r]))return!1;return!0}function ff(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function ib(t){return t.length>0?t[t.length-1]:null}function $i(t){return Ah(t)?t:dl(t)?St(Promise.resolve(t)):oe(t)}var JP={exact:sb,subset:ob},rb={exact:ZP,subset:eR,ignored:()=>!0};function Y0(t,e,n){return JP[n.paths](t.root,e.root,n.matrixParams)&&rb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ZP(t,e){return jn(t,e)}function sb(t,e,n){if(!br(t.segments,e.segments)||!Cl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!sb(t.children[i],e.children[i],n))return!1;return!0}function eR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nb(t[n],e[n]))}function ob(t,e,n){return ab(t,e,e.segments,n)}function ab(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!br(r,n)||e.hasChildren()||!Cl(r,n,i))}else if(t.segments.length===n.length){if(!br(t.segments,n)||!Cl(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!ob(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!br(t.segments,r)||!Cl(t.segments,r,i)||!t.children[ye]?!1:ab(t.children[ye],e,s,i)}}function Cl(t,e,n){return e.every((i,r)=>rb[n](t[r].parameters,i.parameters))}var hi=class{constructor(e=new Re([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ws(this.queryParams),this._queryParamMap}toString(){return iR.serialize(this)}},Re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tl(this)}},yr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ws(this.parameters),this._parameterMap}toString(){return lb(this)}};function tR(t,e){return br(t,e)&&t.every((n,i)=>jn(n.parameters,e[i].parameters))}function br(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function nR(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ye&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ye&&(n=n.concat(e(r,i)))}),n}var Uf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>new da,providedIn:"root"});let t=e;return t})(),da=class{parse(e){let n=new mf(e);return new hi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sa(e.root,!0)}`,i=oR(e.queryParams),r=typeof e.fragment=="string"?`#${rR(e.fragment)}`:"";return`${n}${i}${r}`}},iR=new da;function Tl(t){return t.segments.map(e=>lb(e)).join("/")}function sa(t,e){if(!t.hasChildren())return Tl(t);if(e){let n=t.children[ye]?sa(t.children[ye],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ye&&i.push(`${r}:${sa(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=nR(t,(i,r)=>r===ye?[sa(t.children[ye],!1)]:[`${r}:${sa(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ye]!=null?`${Tl(t)}/${n[0]}`:`${Tl(t)}/(${n.join("//")})`}}function cb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Il(t){return cb(t).replace(/%3B/gi,";")}function rR(t){return encodeURI(t)}function pf(t){return cb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sl(t){return decodeURIComponent(t)}function Q0(t){return Sl(t.replace(/\+/g,"%20"))}function lb(t){return`${pf(t.path)}${sR(t.parameters)}`}function sR(t){return Object.entries(t).map(([e,n])=>`;${pf(e)}=${pf(n)}`).join("")}function oR(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Il(n)}=${Il(r)}`).join("&"):`${Il(n)}=${Il(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var aR=/^[^\/()?;#]+/;function cf(t){let e=t.match(aR);return e?e[0]:""}var cR=/^[^\/()?;=#]+/;function lR(t){let e=t.match(cR);return e?e[0]:""}var uR=/^[^=?&#]+/;function dR(t){let e=t.match(uR);return e?e[0]:""}var hR=/^[^&#]+/;function fR(t){let e=t.match(hR);return e?e[0]:""}var mf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ye]=new Re(e,n)),i}parseSegment(){let e=cf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new je(4009,!1);return this.capture(e),new yr(Sl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=cf(this.remaining);r&&(i=r,this.capture(i))}e[Sl(n)]=Sl(i)}parseQueryParam(e){let n=dR(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=fR(this.remaining);o&&(i=o,this.capture(i))}let r=Q0(n),s=Q0(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=cf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new je(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ye]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new je(4011,!1)}};function ub(t){return t.segments.length>0?new Re([],{[ye]:t}):t}function db(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=db(r);if(i===ye&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new Re(t.segments,e);return pR(n)}function pR(t){if(t.numberOfChildren===1&&t.children[ye]){let e=t.children[ye];return new Re(t.segments.concat(e.segments),e.children)}return t}function ha(t){return t instanceof hi}function mR(t,e,n=null,i=null){let r=hb(t);return fb(r,e,n,i)}function hb(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let a=new Re(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=ub(i);return e??r}function fb(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return lf(r,r,r,n,i);let s=gR(e);if(s.toRoot())return lf(r,r,new Re([],{}),n,i);let o=_R(s,r,t),a=o.processChildren?ca(o.segmentGroup,o.index,s.commands):mb(o.segmentGroup,o.index,s.commands);return lf(r,o.segmentGroup,a,n,i)}function Al(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fa(t){return typeof t=="object"&&t!=null&&t.outlets}function lf(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;t===e?o=n:o=pb(t,e,n);let a=ub(db(o));return new hi(a,s,r)}function pb(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=pb(s,e,n)}),new Re(t.segments,i)}var Pl=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Al(i[0]))throw new je(4003,!1);let r=i.find(fa);if(r&&r!==ib(i))throw new je(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pl(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Pl(n,e,i)}var vs=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function _R(t,e,n){if(t.isAbsolute)return new vs(e,!0,0);if(!n)return new vs(e,!1,NaN);if(n.parent===null)return new vs(n,!0,0);let i=Al(t.commands[0])?0:1,r=n.segments.length-1+i;return vR(n,r,t.numberOfDoubleDots)}function vR(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new je(4005,!1);r=i.segments.length}return new vs(i,!1,r-s)}function yR(t){return fa(t[0])?t[0].outlets:{[ye]:t}}function mb(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return ca(t,e,n);let i=bR(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new Re(t.segments.slice(0,i.pathIndex),{});return s.children[ye]=new Re(t.segments.slice(i.pathIndex),t.children),ca(s,0,r)}else return i.match&&r.length===0?new Re(t.segments,{}):i.match&&!t.hasChildren()?gf(t,e,n):i.match?ca(t,0,r):gf(t,e,n)}function ca(t,e,n){if(n.length===0)return new Re(t.segments,{});{let i=yR(n),r={};if(Object.keys(i).some(s=>s!==ye)&&t.children[ye]&&t.numberOfChildren===1&&t.children[ye].segments.length===0){let s=ca(t.children[ye],e,n);return new Re(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=mb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Re(t.segments,r)}}function bR(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(fa(a))break;let l=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!J0(l,u,o))return s;i+=2}else{if(!J0(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function gf(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(fa(s)){let l=wR(s.outlets);return new Re(i,l)}if(r===0&&Al(n[0])){let l=t.segments[e];i.push(new yr(l.path,X0(n[0]))),r++;continue}let o=fa(s)?s.outlets[ye]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Al(a)?(i.push(new yr(o,X0(a))),r+=2):(i.push(new yr(o,{})),r++)}return new Re(i,{})}function wR(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=gf(new Re([],{}),0,i))}),e}function X0(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function J0(t,e,n){return t==n.path&&jn(e,n.parameters)}var la="imperative",At=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(At||{}),hn=class{constructor(e,n){this.id=e,this.url=n}},pa=class extends hn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=At.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fi=class extends hn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=At.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Jt||{}),_f=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_f||{}),di=class extends hn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=At.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wr=class extends hn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=At.NavigationSkipped}},ma=class extends hn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=At.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rl=class extends hn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=At.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends hn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=At.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends hn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=At.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bf=class extends hn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=At.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends hn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=At.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ef=class{constructor(e){this.route=e,this.type=At.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cf=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tf=class{constructor(e){this.snapshot=e,this.type=At.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{constructor(e){this.snapshot=e,this.type=At.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{constructor(e){this.snapshot=e,this.type=At.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ga=class{},Is=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function IR(t,e){return t.providers&&!t._injector&&(t._injector=l0(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Tn(t){return t.outlet||ye}function ER(t,e){let n=t.filter(i=>Tn(i)===e);return n.push(...t.filter(i=>Tn(i)!==e)),n}function Ea(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Pf=class{get injector(){return Ea(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Fl(this.rootInjector),this.attachRef=null}},Fl=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Pf(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(N(Fi))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Rf(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Rf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Df(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Df(e,this._root).map(n=>n.value)}};function Rf(t,e){if(t===e.value)return e;for(let n of e.children){let i=Rf(t,n);if(i)return i}return null}function Df(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Df(t,n);if(i.length)return i.unshift(e),i}return[]}var Xt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _s(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ol=class extends Dl{constructor(e,n){super(e),this.snapshot=n,jf(this,e)}toString(){return this.snapshot.toString()}};function gb(t){let e=CR(t),n=new at([new yr("",{})]),i=new at({}),r=new at({}),s=new at({}),o=new at(""),a=new fn(n,i,s,o,r,ye,t,e.root);return a.snapshot=e.root,new Ol(new Xt(a,[]),e)}function CR(t){let e={},n={},i={},r="",s=new ys([],e,i,r,n,ye,t,null,{});return new kl("",new Xt(s,[]))}var fn=class{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(be(u=>u[Ia]))??oe(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(be(e=>ws(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(be(e=>ws(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function xl(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),r?.data),t._resolvedData)}:i={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},r&&vb(r)&&(i.resolve[Ia]=r.title),i}var ys=class{get title(){return this.data?.[Ia]}constructor(e,n,i,r,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ws(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ws(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},kl=class extends Dl{constructor(e,n){super(n),this.url=e,jf(this,n)}toString(){return _b(this._root)}};function jf(t,e){e.value._routerState=t,e.children.forEach(n=>jf(t,n))}function _b(t){let e=t.children.length>0?` { ${t.children.map(_b).join(", ")} } `:"";return`${t.value}${e}`}function uf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jn(e.params,n.params)||t.paramsSubject.next(n.params),XP(e.url,n.url)||t.urlSubject.next(n.url),jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Of(t,e){let n=jn(t.params,e.params)&&tR(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Of(t.parent,e.parent))}function vb(t){return typeof t.title=="string"||t.title===null}var Bf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ye,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=K(Fl),this.location=K(us),this.changeDetector=K(ui),this.inputBinder=K(zf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new je(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new je(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new xf(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]});let t=e;return t})(),xf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===fn?this.route:e===Fl?this.childContexts:this.parent.get(e,n)}},zf=new ie("");function TR(t,e,n){let i=_a(t,e._root,n?n._root:void 0);return new Ol(i,e)}function _a(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=SR(t,e,n);return new Xt(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_a(t,a)),o}}let i=AR(e.value),r=e.children.map(s=>_a(t,s));return new Xt(i,r)}}function SR(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return _a(t,i,r);return _a(t,i)})}function AR(t){return new fn(new at(t.url),new at(t.params),new at(t.queryParams),new at(t.fragment),new at(t.data),t.outlet,t.component,t)}var va=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yb="ngNavigationCancelingError";function Ml(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ha(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=bb(!1,Jt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function bb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yb]=!0,n.cancellationCode=e,n}function PR(t){return wb(t)&&ha(t.url)}function wb(t){return!!t&&t[yb]}var RR=(t,e,n,i)=>be(r=>(new kf(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),kf=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),uf(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=_s(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=_s(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=_s(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=_s(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Af(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tf(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(uf(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),uf(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Nl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{constructor(e,n){this.component=e,this.route=n}};function DR(t,e,n){let i=t._root,r=e?e._root:null;return oa(i,r,n,[i.value])}function OR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!t0(t)?t:e.get(t):i}function oa(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=_s(e);return t.children.forEach(o=>{xR(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ua(a,n.getContext(o),r)),r}function xR(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=kR(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Nl(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?oa(t,e,a?a.children:null,i,r):oa(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new bs(a.outlet.component,o))}else o&&ua(e,a,r),r.canActivateChecks.push(new Nl(i)),s.component?oa(t,null,a?a.children:null,i,r):oa(t,null,n,i,r);return r}function kR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!br(t.url,e.url);case"pathParamsOrQueryParamsChange":return!br(t.url,e.url)||!jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Of(t,e)||!jn(t.queryParams,e.queryParams);case"paramsChange":default:return!Of(t,e)}}function ua(t,e,n){let i=_s(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?ua(o,e.children.getContext(s),n):ua(o,null,n):ua(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bs(e.outlet.component,r)):n.canDeactivateChecks.push(new bs(null,r)):n.canDeactivateChecks.push(new bs(null,r))}function Ca(t){return typeof t=="function"}function MR(t){return typeof t=="boolean"}function NR(t){return t&&Ca(t.canLoad)}function FR(t){return t&&Ca(t.canActivate)}function VR(t){return t&&Ca(t.canActivateChild)}function LR(t){return t&&Ca(t.canDeactivate)}function UR(t){return t&&Ca(t.canMatch)}function Ib(t){return t instanceof Qy||t?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function Es(){return Qt(t=>Bo(t.map(e=>e.pipe(cn(1),Ni(El)))).pipe(be(e=>{for(let n of e)if(n!==!0){if(n===El)return El;if(n===!1||jR(n))return n}return!0}),mt(e=>e!==El),cn(1)))}function jR(t){return ha(t)||t instanceof va}function BR(t,e){return an(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?oe(pe(L({},n),{guardsResult:!0})):zR(o,i,r,t).pipe(an(a=>a&&MR(a)?$R(i,s,t,e):oe(a)),be(a=>pe(L({},n),{guardsResult:a})))})}function zR(t,e,n,i){return St(t).pipe(an(r=>KR(r.component,r.route,n,e,i)),Mi(r=>r!==!0,!0))}function $R(t,e,n,i){return St(e).pipe(fr(r=>el(GR(r.route.parent,i),qR(r.route,i),HR(t,r.path,n),WR(t,r.route,n))),Mi(r=>r!==!0,!0))}function qR(t,e){return t!==null&&e&&e(new Sf(t)),oe(!0)}function GR(t,e){return t!==null&&e&&e(new Cf(t)),oe(!0)}function WR(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return oe(!0);let r=i.map(s=>zo(()=>{let o=Ea(e)??n,a=Cs(s,o),l=FR(a)?a.canActivate(e,t):wn(o,()=>a(e,t));return $i(l).pipe(Mi())}));return oe(r).pipe(Es())}function HR(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>OR(o)).filter(o=>o!==null).map(o=>zo(()=>{let a=o.guards.map(l=>{let u=Ea(o.node)??n,h=Cs(l,u),p=VR(h)?h.canActivateChild(i,t):wn(u,()=>h(i,t));return $i(p).pipe(Mi())});return oe(a).pipe(Es())}));return oe(s).pipe(Es())}function KR(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return oe(!0);let o=s.map(a=>{let l=Ea(e)??r,u=Cs(a,l),h=LR(u)?u.canDeactivate(t,e,n,i):wn(l,()=>u(t,e,n,i));return $i(h).pipe(Mi())});return oe(o).pipe(Es())}function YR(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return oe(!0);let s=r.map(o=>{let a=Cs(o,t),l=NR(a)?a.canLoad(e,n):wn(t,()=>a(e,n));return $i(l)});return oe(s).pipe(Es(),Eb(i))}function Eb(t){return wh(ct(e=>{if(typeof e!="boolean")throw Ml(t,e)}),be(e=>e===!0))}function QR(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return oe(!0);let s=r.map(o=>{let a=Cs(o,t),l=UR(a)?a.canMatch(e,n):wn(t,()=>a(e,n));return $i(l)});return oe(s).pipe(Es(),Eb(i))}var ya=class{constructor(e){this.segmentGroup=e||null}},ba=class extends Error{constructor(e){super(),this.urlTree=e}};function gs(t){return jo(new ya(t))}function XR(t){return jo(new je(4e3,!1))}function JR(t){return jo(bb(!1,Jt.GuardRejected))}var Mf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return oe(i);if(r.numberOfChildren>1||!r.children[ye])return XR(`${e.redirectTo}`);r=r.children[ye]}}applyRedirectCommands(e,n,i,r,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:_,params:C,data:k,title:F}=r,x=wn(s,()=>a({params:C,data:k,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:_,title:F}));if(x instanceof hi)throw new ba(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new ba(o);return o}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new hi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Re(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new je(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Nf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZR(t,e,n,i,r){let s=$f(t,e,n);return s.matched?(i=IR(e,i),QR(i,e,n,r).pipe(be(o=>o===!0?s:L({},Nf)))):oe(s)}function $f(t,e,n){if(e.path==="**")return eD(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Nf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||QP)(n,t,e);if(!r)return L({},Nf);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?L(L({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function eD(t){return{matched:!0,parameters:t.length>0?ib(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Z0(t,e,n,i){return n.length>0&&iD(t,n,i)?{segmentGroup:new Re(e,nD(i,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&rD(t,n,i)?{segmentGroup:new Re(t.segments,tD(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function tD(t,e,n,i){let r={};for(let s of n)if(Vl(t,e,s)&&!i[Tn(s)]){let o=new Re([],{});r[Tn(s)]=o}return L(L({},i),r)}function nD(t,e){let n={};n[ye]=e;for(let i of t)if(i.path===""&&Tn(i)!==ye){let r=new Re([],{});n[Tn(i)]=r}return n}function iD(t,e,n){return n.some(i=>Vl(t,e,i)&&Tn(i)!==ye)}function rD(t,e,n){return n.some(i=>Vl(t,e,i))}function Vl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sD(t,e,n,i){return Tn(t)!==i&&(i===ye||!Vl(e,n,t))?!1:$f(e,t,n).matched}function oD(t,e,n){return e.length===0&&!t.children[n]}var Ff=class{};function aD(t,e,n,i,r,s,o="emptyOnly"){return new Vf(t,e,n,i,r,o,s).recognize()}var cD=31,Vf=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Mf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new je(4002,`'${e.segmentGroup}'`)}recognize(){let e=Z0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(be(({children:n,rootSnapshot:i})=>{let r=new Xt(i,n),s=new kl("",r),o=mR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,n).pipe(be(i=>({children:i,rootSnapshot:n})),cs(i=>{if(i instanceof ba)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ya?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,s):this.processSegment(e,n,i,i.segments,r,!0,s).pipe(be(o=>o instanceof Xt?[o]:[]))}processChildren(e,n,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return St(s).pipe(fr(o=>{let a=i.children[o],l=ER(n,o);return this.processSegmentGroup(e,l,a,o,r)}),xh((o,a)=>(o.push(...a),o)),Dh(null),e0(),an(o=>{if(o===null)return gs(i);let a=Cb(o);return lD(a),oe(a)}))}processSegment(e,n,i,r,s,o,a){return St(n).pipe(fr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,s,o,a).pipe(cs(u=>{if(u instanceof ya)return oe(null);throw u}))),Mi(l=>!!l),cs(l=>{if(Ib(l))return oD(i,r,s)?oe(new Ff):gs(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,s,o,a,l){return sD(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o,l):gs(r):gs(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:_}=$f(n,r,s);if(!l)return gs(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cD&&(this.allowRedirects=!1));let C=new ys(s,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,eb(r),Tn(r),r.component??r._loadedComponent??null,r,tb(r)),k=xl(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(k.params),C.data=Object.freeze(k.data);let F=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,C,e);return this.applyRedirects.lineralizeSegments(r,F).pipe(an(x=>this.processSegment(e,i,n,x.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,s,o){let a=ZR(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Qt(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Qt(({routes:u})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:C}=l,k=new ys(_,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,eb(i),Tn(i),i.component??i._loadedComponent??null,i,tb(i)),F=xl(k,o,this.paramsInheritanceStrategy);k.params=Object.freeze(F.params),k.data=Object.freeze(F.data);let{segmentGroup:x,slicedSegments:z}=Z0(n,_,C,u);if(z.length===0&&x.hasChildren())return this.processChildren(h,u,x,k).pipe(be(H=>new Xt(k,H)));if(u.length===0&&z.length===0)return oe(new Xt(k,[]));let X=Tn(i)===s;return this.processSegment(h,u,x,z,X?ye:s,!0,k).pipe(be(H=>new Xt(k,H instanceof Xt?[H]:[])))}))):gs(n)))}getChildConfig(e,n,i){return n.children?oe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?oe({routes:n._loadedRoutes,injector:n._loadedInjector}):YR(e,n,i,this.urlSerializer).pipe(an(r=>r?this.configLoader.loadChildren(e,n).pipe(ct(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):JR(n))):oe({routes:[],injector:e})}};function lD(t){t.sort((e,n)=>e.value.outlet===ye?-1:n.value.outlet===ye?1:e.value.outlet.localeCompare(n.value.outlet))}function uD(t){let e=t.value.routeConfig;return e&&e.path===""}function Cb(t){let e=[],n=new Set;for(let i of t){if(!uD(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Cb(i.children);e.push(new Xt(i.value,r))}return e.filter(i=>!n.has(i))}function eb(t){return t.data||{}}function tb(t){return t.resolve||{}}function dD(t,e,n,i,r,s){return an(o=>aD(t,e,n,i,o.extractedUrl,r,s).pipe(be(({state:a,tree:l})=>pe(L({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function hD(t,e){return an(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return oe(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of Tb(l))o.add(u);let a=0;return St(o).pipe(fr(l=>s.has(l)?fD(l,i,t,e):(l.data=xl(l,l.parent,t).resolve,oe(void 0))),ct(()=>a++),Oh(1),an(l=>a===o.size?oe(n):ki))})}function Tb(t){let e=t.children.map(n=>Tb(n)).flat();return[t,...e]}function fD(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!vb(r)&&(s[Ia]=r.title),pD(s,t,e,i).pipe(be(o=>(t._resolvedData=o,t.data=xl(t,t.parent,n).resolve,null)))}function pD(t,e,n,i){let r=ff(t);if(r.length===0)return oe({});let s={};return St(r).pipe(an(o=>mD(t[o],e,n,i).pipe(Mi(),ct(a=>{if(a instanceof va)throw Ml(new da,a);s[o]=a}))),Oh(1),Zy(s),cs(o=>Ib(o)?ki:jo(o)))}function mD(t,e,n,i){let r=Ea(e)??i,s=Cs(t,r),o=s.resolve?s.resolve(e,n):wn(r,()=>s(e,n));return $i(o)}function df(t){return Qt(e=>{let n=t(e);return n?St(n).pipe(be(()=>e)):oe(e)})}var Sb=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(i){return i.data[Ia]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>K(gD),providedIn:"root"});let t=e;return t})(),gD=(()=>{let e=class e extends Sb{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(N(K0))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qf=new ie("",{providedIn:"root",factory:()=>({})}),_D=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["ng-component"]],standalone:!0,features:[Y],decls:1,vars:0,template:function(r,s){r&1&&U(0,"router-outlet")},dependencies:[Bf],encapsulation:2});let t=e;return t})();function Gf(t){let e=t.children&&t.children.map(Gf),n=e?pe(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ye&&(n.component=_D),n}var Wf=new ie(""),vD=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(jh)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return oe(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=$i(i.loadComponent()).pipe(be(Ab),ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),pr(()=>{this.componentLoaders.delete(i)})),s=new Eh(r,()=>new Se).pipe(Ih());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yD(r,this.compiler,i,this.onLoadEndListener).pipe(pr(()=>{this.childrenLoaders.delete(r)})),a=new Eh(o,()=>new Se).pipe(Ih());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yD(t,e,n,i){return $i(t.loadChildren()).pipe(be(Ab),an(r=>r instanceof c0||Array.isArray(r)?oe(r):St(e.compileModuleAsync(r))),be(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Wf,[],{optional:!0,self:!0}).flat()),{routes:o.map(Gf),injector:s}}))}function bD(t){return t&&typeof t=="object"&&"default"in t}function Ab(t){return bD(t)?t.default:t}var Hf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>K(wD),providedIn:"root"});let t=e;return t})(),wD=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ID=new ie("");var ED=new ie(""),CD=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=K(vD),this.environmentInjector=K(Fi),this.urlSerializer=K(Uf),this.rootContexts=K(Fl),this.location=K(Ui),this.inputBindingEnabled=K(zf,{optional:!0})!==null,this.titleStrategy=K(Sb),this.options=K(qf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(Hf),this.createViewTransition=K(ID,{optional:!0}),this.navigationErrorHandler=K(ED,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let i=s=>this.events.next(new If(s)),r=s=>this.events.next(new Ef(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(pe(L(L({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new at({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),be(o=>pe(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Qt(o=>{let a=!1,l=!1;return oe(o).pipe(Qt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Jt.SupersededByNewNavigation),ki;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!h&&p!=="reload"){let _="";return this.events.next(new wr(u.id,this.urlSerializer.serialize(u.rawUrl),_,_f.IgnoredSameUrlNavigation)),u.resolve(!1),ki}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return oe(u).pipe(Qt(_=>{let C=this.transitions?.getValue();return this.events.next(new pa(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),C!==this.transitions?.getValue()?ki:Promise.resolve(_)}),dD(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=pe(L({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let C=new Rl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(C)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:_,extractedUrl:C,source:k,restoredState:F,extras:x}=u,z=new pa(_,this.urlSerializer.serialize(C),k,F);this.events.next(z);let X=gb(this.rootComponentType).snapshot;return this.currentTransition=o=pe(L({},u),{targetSnapshot:X,urlAfterRedirects:C,extras:pe(L({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,oe(o)}else{let _="";return this.events.next(new wr(u.id,this.urlSerializer.serialize(u.extractedUrl),_,_f.IgnoredByUrlHandlingStrategy)),u.resolve(!1),ki}}),ct(u=>{let h=new vf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),be(u=>(this.currentTransition=o=pe(L({},u),{guards:DR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),BR(this.environmentInjector,u=>this.events.next(u)),ct(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Ml(this.urlSerializer,u.guardsResult);let h=new yf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Jt.GuardRejected),!1)),df(u=>{if(u.guards.canActivateChecks.length)return oe(u).pipe(ct(h=>{let p=new bf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Qt(h=>{let p=!1;return oe(h).pipe(hD(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Jt.NoDataFromResolver)}}))}),ct(h=>{let p=new wf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),df(u=>{let h=p=>{let _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(ct(C=>{p.component=C}),be(()=>{})));for(let C of p.children)_.push(...h(C));return _};return Bo(h(u.targetSnapshot.root)).pipe(Dh(null),cn(1))}),df(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:u,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return p?St(p).pipe(be(()=>o)):oe(o)}),be(u=>{let h=TR(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=pe(L({},u),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ct(()=>{this.events.next(new ga)}),RR(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),cn(1),ct({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),li(this.transitionAbortSubject.pipe(ct(u=>{throw u}))),pr(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),cs(u=>{if(l=!0,wb(u))this.events.next(new di(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),PR(u)?this.events.next(new Is(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let h=new ma(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof va){let{message:_,cancellationCode:C}=Ml(this.urlSerializer,p);this.events.next(new di(o.id,this.urlSerializer.serialize(o.extractedUrl),_,C)),this.events.next(new Is(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let _=i.errorHandler(u);o.resolve(!!_)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return ki}))}))}cancelNavigationTransition(i,r,s){let o=new di(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TD(t){return t!==la}var SD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>K(AD),providedIn:"root"});let t=e;return t})(),Lf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AD=(()=>{let e=class e extends Lf{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>K(PD),providedIn:"root"});let t=e;return t})(),PD=(()=>{let e=class e extends Pb{constructor(){super(...arguments),this.location=K(Ui),this.urlSerializer=K(Uf),this.options=K(qf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(Hf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof pa)this.stateMemento=this.createStateMemento();else if(i instanceof wr)this.rawUrlTree=r.initialUrl;else if(i instanceof Rl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof ga?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof di&&(i.code===Jt.GuardRejected||i.code===Jt.NoDataFromResolver)?this.restoreHistory(r):i instanceof ma?this.restoreHistory(r,!0):i instanceof fi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof hi?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(aa||{});function RD(t,e){t.events.pipe(mt(n=>n instanceof fi||n instanceof di||n instanceof ma||n instanceof wr),be(n=>n instanceof fi||n instanceof wr?aa.COMPLETE:(n instanceof di?n.code===Jt.Redirect||n.code===Jt.SupersededByNewNavigation:!1)?aa.REDIRECTING:aa.FAILED),mt(n=>n!==aa.REDIRECTING),cn(1)).subscribe(()=>{e()})}function DD(t){throw t}var OD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ge=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(ul),this.stateManager=K(Pb),this.options=K(qf,{optional:!0})||{},this.pendingTasks=K(qo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(CD),this.urlSerializer=K(Uf),this.location=K(Ui),this.urlHandlingStrategy=K(Hf),this._events=new Se,this.errorHandler=this.options.errorHandler||DD,this.navigated=!1,this.routeReuseStrategy=K(SD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Wf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(zf,{optional:!0}),this.eventsSubscription=new hr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof di&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fi)this.navigated=!0;else if(r instanceof Is){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=L({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TD(s.source)},a);this.scheduleNavigation(l,la,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}MD(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=L({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Gf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:a,p=null;switch(l){case"merge":p=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let _;try{let C=s?s.snapshot:this.routerState.snapshot.root;_=hb(C)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),_=this.currentUrlTree.root}return fb(_,i,p,h??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ha(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,la,null,r)}navigate(i,r={skipLocationChange:!1}){return kD(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=L({},OD):r===!1?s=L({},xD):s=r,ha(i))return Y0(this.currentUrlTree,i,s);let o=this.parseUrl(i);return Y0(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((_,C)=>{l=_,u=C});let p=this.pendingTasks.add();return RD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(_=>Promise.reject(_))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kD(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new je(4008,!1)}function MD(t){return!(t instanceof ga)&&!(t instanceof Is)}var ND=new ie("");function Rb(t,...e){return gt([{provide:Wf,multi:!0,useValue:t},[],{provide:fn,useFactory:FD,deps:[ge]},{provide:Uh,multi:!0,useFactory:VD},e.map(n=>n.\u0275providers)])}function FD(t){return t.routerState.root}function VD(){let t=K(xe);return e=>{let n=t.get(fs);if(e!==n.components[0])return;let i=t.get(ge),r=t.get(LD);t.get(UD)===1&&i.initialNavigation(),t.get(jD,null,kh.Optional)?.setUpPreloading(),t.get(ND,null,kh.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var LD=new ie("",{factory:()=>new Se}),UD=new ie("",{providedIn:"root",factory:()=>1});var jD=new ie("");var Yf;try{Yf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Yf=!1}var bt=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?C0(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Yf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(N(En))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ta;function BD(){if(Ta==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ta=!0}))}finally{Ta=Ta||!1}return Ta}function Ts(t){return BD()?t:!!t.capture}var Ir;function Db(){if(Ir==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ir=!1,Ir;if("scrollBehavior"in document.documentElement.style)Ir=!0;else{let t=Element.prototype.scrollTo;t?Ir=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Ir=!1}}return Ir}var Kf;function zD(){if(Kf==null){let t=typeof document<"u"?document.head:null;Kf=!!(t&&(t.createShadowRoot||t.attachShadow))}return Kf}function Ob(t){if(zD()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Sa(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Sn(t){return t.composedPath?t.composedPath()[0]:t.target}function Aa(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ul(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Ss(t){return Array.isArray(t)?t:[t]}function ot(t){return t==null?"":typeof t=="string"?t:`${t}px`}function pi(t){return t instanceof Je?t.nativeElement:t}var xb=new Set,Er,$D=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GD}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&qD(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(N(bt),N(Wo,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qD(t,e){if(!xb.has(t))try{Er||(Er=document.createElement("style"),e&&Er.setAttribute("nonce",e),Er.setAttribute("type","text/css"),document.head.appendChild(Er)),Er.sheet&&(Er.sheet.insertRule(`@media ${t} {body{ }}`,0),xb.add(t))}catch(n){console.error(n)}}function GD(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var jl=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new Se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return kb(Ss(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=kb(Ss(i)).map(a=>this._registerQuery(a).observable),o=Bo(s);return o=el(o.pipe(cn(1)),o.pipe(il(1),Rh(0))),o.pipe(be(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:h})=>{l.matches=l.matches||u,l.breakpoints[h]=u}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new Tt(a=>{let l=u=>this._zone.run(()=>a.next(u));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Ni(r),be(({matches:a})=>({query:i,matches:a})),li(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};e.\u0275fac=function(r){return new(r||e)(N($D),N(ce))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kb(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Cr={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Pa=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return KD(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=HD(nO(i));if(r&&(Mb(r)===-1||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),o=Mb(i);return i.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!eO(i)?!1:s==="audio"?i.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return tO(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(N(bt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HD(t){try{return t.frameElement}catch{return null}}function KD(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function YD(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function QD(t){return JD(t)&&t.type=="hidden"}function XD(t){return ZD(t)&&t.hasAttribute("href")}function JD(t){return t.nodeName.toLowerCase()=="input"}function ZD(t){return t.nodeName.toLowerCase()=="a"}function Vb(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Mb(t){if(!Vb(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function eO(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function tO(t){return QD(t)?!1:YD(t)||XD(t)||t.hasAttribute("contenteditable")||Vb(t)}function nO(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Xf=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,s=!1,o){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?mr(e,{injector:this._injector}):setTimeout(e)}},$l=(()=>{let e=class e{constructor(i,r,s){this._checker=i,this._ngZone=r,this._injector=K(xe),this._document=s}create(i,r=!1){return new Xf(i,this._checker,this._ngZone,this._document,r,this._injector)}};e.\u0275fac=function(r){return new(r||e)(N(Pa),N(ce),N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jf(t){return t.buttons===0||t.detail===0}function Zf(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var iO=new ie("cdk-input-modality-detector-options"),rO={ignoreKeys:[18,17,224,91,16]},Lb=650,As=Ts({passive:!0,capture:!0}),sO=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,s,o){this._platform=i,this._mostRecentTarget=null,this._modality=new at(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Lb||(this._modality.next(Jf(a)?"keyboard":"mouse"),this._mostRecentTarget=Sn(a))},this._onTouchstart=a=>{if(Zf(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sn(a)},this._options=L(L({},rO),o),this.modalityDetected=this._modality.pipe(il(1)),this.modalityChanged=this.modalityDetected.pipe(nl()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,As),s.addEventListener("mousedown",this._onMousedown,As),s.addEventListener("touchstart",this._onTouchstart,As)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,As),document.removeEventListener("mousedown",this._onMousedown,As),document.removeEventListener("touchstart",this._onTouchstart,As))}};e.\u0275fac=function(r){return new(r||e)(N(bt),N(ce),N(he),N(iO,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zl=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(zl||{}),oO=new ie("cdk-focus-monitor-default-options"),Bl=Ts({passive:!0,capture:!0}),ql=(()=>{let e=class e{constructor(i,r,s,o,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Se,this._rootNodeFocusAndBlurListener=l=>{let u=Sn(l);for(let h=u;h;h=h.parentElement)l.type==="focus"?this._onFocus(l,h):this._onBlur(l,h)},this._document=o,this._detectionMode=a?.detectionMode||zl.IMMEDIATE}monitor(i,r=!1){let s=pi(i);if(!this._platform.isBrowser||s.nodeType!==1)return oe();let o=Ob(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new Se,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let r=pi(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let o=pi(i),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([l,u])=>this._originChanged(l,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===zl.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===zl.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?Lb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),o=Sn(i);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bl)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(li(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,o)=>{(o===i||s.checkChildren&&o.contains(i))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(N(ce),N(bt),N(sO),N(he,8),N(oO,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tr=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Tr||{}),Nb="cdk-high-contrast-black-on-white",Fb="cdk-high-contrast-white-on-black",Qf="cdk-high-contrast-active",Ub=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=K(jl).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Tr.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Tr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Tr.BLACK_ON_WHITE}return Tr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Qf,Nb,Fb),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Tr.BLACK_ON_WHITE?i.add(Qf,Nb):r===Tr.WHITE_ON_BLACK&&i.add(Qf,Fb)}}};e.\u0275fac=function(r){return new(r||e)(N(bt),N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aO=new ie("cdk-dir-doc",{providedIn:"root",factory:cO});function cO(){return K(he)}var lO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function uO(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?lO.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Ra=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Ke,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=uO(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(N(aO,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=He({type:e}),e.\u0275inj=We({});let t=e;return t})();var _O=20,jb=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new Se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=_O){return this._platform.isBrowser?new Tt(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(Ph(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):oe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(mt(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,i)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=pi(r),o=i.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return Jy(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(N(ce),N(bt),N(he,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vO=20,np=(()=>{let e=class e{constructor(i,r,s){this._platform=i,this._change=new Se,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,o=s.getBoundingClientRect(),a=-o.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,l=-o.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:a,left:l}}change(i=vO){return i>0?this._change.pipe(Ph(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(N(bt),N(ce),N(he,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Da=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ps=class extends Da{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},Rs=class extends Da{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ip=class extends Da{constructor(e){super(),this.element=e instanceof Je?e.nativeElement:e}},Ds=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ps)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Rs)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ip)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Gl=class extends Ds{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||xe.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Oa=(()=>{let e=class e extends Ds{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ke,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(o,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(O(sl),O(us),O(he))},e.\u0275dir=Oe({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ze]});let t=e;return t})();var Bb=Db(),rp=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ot(-this._previousScrollPosition.left),e.style.top=ot(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Bb&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Bb&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var sp=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(mt(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Wl=class{enable(){}disable(){}attach(){}};function op(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return i||r||s||o})}function zb(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return i||r||s||o})}var ap=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();op(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},bO=(()=>{let e=class e{constructor(i,r,s,o){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new Wl,this.close=a=>new sp(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new rp(this._viewportRuler,this._document),this.reposition=a=>new ap(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(r){return new(r||e)(N(jb),N(np),N(ce),N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xa=class{constructor(e){if(this.scrollStrategy=new Wl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var cp=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var Yb=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(N(he))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wO=(()=>{let e=class e extends Yb{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(N(he),N(ce,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e extends Yb{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Sn(o)},this._clickListener=o=>{let a=Sn(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let h=u.length-1;h>-1;h--){let p=u[h];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if($b(p.overlayElement,a)||$b(p.overlayElement,l))break;let _=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(o)):_.next(o)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(N(he),N(bt),N(ce,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $b(t,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===t)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Hl=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Aa()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let r=this._document.createElement("div");r.classList.add(i),Aa()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(N(he),N(bt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mi=class{constructor(e,n,i,r,s,o,a,l,u,h=!1,p){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._injector=p,this._backdropElement=null,this._backdropClick=new Se,this._attachments=new Se,this._detachments=new Se,this._locationChanges=hr.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new Se,this._outsidePointerEvents=new Se,this._renders=new Se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Un(()=>a0(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),mr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=L(L({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(L({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ot(this._config.width),e.height=ot(this._config.height),e.minWidth=ot(this._config.minWidth),e.minHeight=ot(this._config.minHeight),e.maxWidth=ot(this._config.maxWidth),e.maxHeight=ot(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=Ss(n||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(li(tl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},qb="cdk-overlay-connected-position-bounding-box",EO=/([A-Za-z%]+)$/,lp=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Se,this._resizeSubscription=hr.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(qb),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(l,n,a),h=this._getOverlayFit(u,n,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,u,i)){s.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:u,originPoint:l,position:a,overlayRect:n})}if(s.length){let a=null,l=-1;for(let u of s){let h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?o:a}n.left<0&&(r-=n.left);let s;return i.originY=="center"?s=e.top+e.height/2:s=i.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let s;return i.overlayY=="center"?s=-n.height/2:s=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,n,i,r){let s=Wb(n),{x:o,y:a}=e,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(o+=l),u&&(a+=u);let h=0-o,p=o+s.width-i.width,_=0-a,C=a+s.height-i.height,k=this._subtractOverflows(s.width,h,p),F=this._subtractOverflows(s.height,_,C),x=k*F;return{visibleArea:x,isCompletelyWithinViewport:s.width*s.height===x,fitsInViewportVertically:F===s.height,fitsInViewportHorizontally:k==s.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,s=i.right-n.x,o=Gb(this._overlayRef.getConfig().minHeight),a=Gb(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=s;return l&&u}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=Wb(n),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),u=Math.max(s.left-i.left-e.x,0),h=0,p=0;return r.width<=s.width?h=u||-o:h=e.x<this._viewportMargin?s.left-i.left-e.x:0,r.height<=s.height?p=l||-a:p=e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!CO(this._lastScrollVisibility,i)){let r=new cp(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=i.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,s=i.height-a+this._viewportMargin;else{let C=Math.min(i.bottom-e.y+i.top,e.y),k=this._lastBoundingBoxSize.height;s=C*2,o=e.y-C,s>k&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-k/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,u=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,h,p,_;if(u)_=i.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)p=e.x,h=i.right-e.x;else{let C=Math.min(i.right-e.x+i.left,e.x),k=this._lastBoundingBoxSize.width;h=C*2,p=e.x-C,h>k&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-k/2)}return{top:o,left:p,bottom:a,right:_,width:h,height:s}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ot(i.height),r.top=ot(i.top),r.bottom=ot(i.bottom),r.width=ot(i.width),r.left=ot(i.left),r.right=ot(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=ot(s)),o&&(r.maxWidth=ot(o))}this._lastBoundingBoxSize=i,Sr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Sr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();Sr(i,this._getExactOverlayY(n,e,h)),Sr(i,this._getExactOverlayX(n,e,h))}else i.position="static";let a="",l=this._getOffset(n,"x"),u=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=ot(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=ot(o.maxWidth):s&&(i.maxWidth="")),Sr(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=ot(s.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(s.x+this._overlayRect.width)}px`}else r.left=ot(s.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zb(e,i),isOriginOutsideView:op(e,i),isOverlayClipped:zb(n,i),isOverlayOutsideView:op(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ss(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Je)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function Sr(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Gb(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(EO);return!n||n==="px"?parseFloat(e):null}return t||null}function Wb(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function CO(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var Hb="cdk-global-overlay-wrapper",up=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Hb),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,p=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",C="",k="",F="";l?F="flex-start":h==="center"?(F="center",_?k=p:C=p):_?h==="left"||h==="end"?(F="flex-end",C=p):(h==="right"||h==="start")&&(F="flex-start",k=p):h==="left"||h==="start"?(F="flex-start",C=p):(h==="right"||h==="end")&&(F="flex-end",k=p),e.position=this._cssPosition,e.marginLeft=l?"0":C,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":k,n.justifyContent=F,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(Hb),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},TO=(()=>{let e=class e{constructor(i,r,s,o){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=o}global(){return new up}flexibleConnectedTo(i){return new lp(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(N(np),N(he),N(bt),N(Hl))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SO=0,Os=(()=>{let e=class e{constructor(i,r,s,o,a,l,u,h,p,_,C,k){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=u,this._document=h,this._directionality=p,this._location=_,this._outsideClickDispatcher=C,this._animationsModuleType=k}create(i){let r=this._createHostElement(),s=this._createPaneElement(r),o=this._createPortalOutlet(s),a=new xa(i);return a.direction=a.direction||this._directionality.value,new mi(o,r,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Fi))}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${SO++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(fs)),new Gl(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(N(bO),N(Hl),N(sl),N(TO),N(wO),N(xe),N(ce),N(he),N(Ra),N(Ui),N(IO),N(Go,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AO(t,e){}var Ar=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var fp=(()=>{let e=class e extends Ds{constructor(i,r,s,o,a,l,u,h){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=u,this._focusMonitor=h,this._platform=K(bt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=K(ui),this._injector=K(xe),this._isDestroyed=!1,this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let _=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),_},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(r)}_focusByCssSelector(i,r){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,r)}_trapFocus(){this._isDestroyed||mr(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let s=Sa(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=Sa();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Sa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(O(Je),O($l),O(he,8),O(Ar),O(Pa),O(ce),O(mi),O(ql))},e.\u0275cmp=W({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(r&1&&gr(Oa,7),r&2){let o;Vi(o=Li())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){r&2&&dn("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Ze,Y],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&re(0,AO,0,0,"ng-template",0)},dependencies:[Oa],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),ka=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new Se,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Ul(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},PO=new ie("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=K(Os);return()=>t.scrollStrategies.block()}}),RO=new ie("DialogData"),DO=new ie("DefaultDialogConfig");var OO=0,Xb=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,s,o,a,l){this._overlay=i,this._injector=r,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Se,this._afterOpenedAtThisLevel=new Se,this._ariaHiddenElements=new Map,this.afterAllClosed=zo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ni(void 0))),this._scrollStrategy=l}open(i,r){let s=this._defaultOptions||new Ar;r=L(L({},s),r),r.id=r.id||`cdk-dialog-${OO++}`,r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),a=this._overlay.create(o),l=new ka(a,r),u=this._attachContainer(a,l,r);return l.containerInstance=u,this._attachDialogContent(i,l,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){dp(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){dp(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),dp(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new xa({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:Ar,useValue:s},{provide:ka,useValue:r},{provide:mi,useValue:i}],l;s.container?typeof s.container=="function"?l=s.container:(l=s.container.type,a.push(...s.container.providers(s))):l=fp;let u=new Ps(l,s.viewContainerRef,xe.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return i.attach(u).instance}_attachDialogContent(i,r,s,o){if(i instanceof Ko){let a=this._createInjector(o,r,s,void 0),l={$implicit:o.data,dialogRef:r};o.templateContext&&(l=L(L({},l),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new Rs(i,null,l,a))}else{let a=this._createInjector(o,r,s,this._injector),l=s.attachComponentPortal(new Ps(i,o.viewContainerRef,a,o.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(i,r,s,o){let a=i.injector||i.viewContainerRef?.injector,l=[{provide:RO,useValue:i.data},{provide:ka,useValue:r}];return i.providers&&(typeof i.providers=="function"?l.push(...i.providers(r,i,s)):l.push(...i.providers)),i.direction&&(!a||!a.get(Ra,null,{optional:!0}))&&l.push({provide:Ra,useValue:{value:i.direction,change:oe()}}),xe.create({parent:a||o,providers:l})}_removeOpenDialog(i,r){let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let s=r.length-1;s>-1;s--){let o=r[s];o!==i&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(N(Os),N(xe),N(DO,8),N(e,12),N(Hl),N(PO))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dp(t,e){let n=t.length;for(;n--;)e(t[n])}var gp=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),_p=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function kO(){return!0}var MO=new ie("mat-sanity-checks",{providedIn:"root",factory:kO}),vp=(()=>{let e=class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Aa()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(N(Ub),N(MO,8),N(he))},e.\u0275mod=He({type:e}),e.\u0275inj=We({imports:[tp,tp]});let t=e;return t})();var pn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(pn||{}),pp=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=pn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Jb=Ts({passive:!0,capture:!0}),mp=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Sn(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Jb)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Jb)))}},Zb={enterDuration:225,exitDuration:150},NO=800,ew=Ts({passive:!0,capture:!0}),tw=["mousedown","touchstart"],nw=["mouseup","mouseleave","touchend","touchcancel"],Ma=class Ma{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pi(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=L(L({},Zb),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||FO(e,n,r),a=e-r.left,l=n-r.top,u=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-o}px`,h.style.top=`${l-o}px`,h.style.height=`${o*2}px`,h.style.width=`${o*2}px`,i.color!=null&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);let p=window.getComputedStyle(h),_=p.transitionProperty,C=p.transitionDuration,k=_==="none"||C==="0s"||C==="0s, 0s"||r.width===0&&r.height===0,F=new pp(this,h,i,k);h.style.transform="scale3d(1, 1, 1)",F.state=pn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=F);let x=null;return!k&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>{x&&(x.fallbackTimer=null),clearTimeout(H),this._finishRippleTransition(F)},X=()=>this._destroyRipple(F),H=setTimeout(X,u+100);h.addEventListener("transitionend",z),h.addEventListener("transitioncancel",X),x={onTransitionEnd:z,onTransitionCancel:X,fallbackTimer:H}}),this._activeRipples.set(F,x),(k||!u)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(e.state===pn.FADING_OUT||e.state===pn.HIDDEN)return;let n=e.element,i=L(L({},Zb),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=pn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=pi(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,tw.forEach(i=>{Ma._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{nw.forEach(n=>{this._triggerElement.addEventListener(n,this,ew)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===pn.FADING_IN?this._startFadeOutTransition(e):e.state===pn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=pn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=pn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=Jf(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+NO;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Zf(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===pn.VISIBLE||e.config.terminateOnPointerUp&&e.state===pn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(tw.forEach(n=>Ma._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(nw.forEach(n=>e.removeEventListener(n,this,ew)),this._pointerUpEventsRegistered=!1))}};Ma._eventManager=new mp;var iw=Ma;function FO(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}function VO(t,e){}var LO={bottomSheetState:T0("state",[qh("void, hidden",$h({transform:"translateY(100%)"})),qh("visible",$h({transform:"translateY(0%)"})),Gh("visible => void, visible => hidden",zh([Bh(`${_p.COMPLEX} ${gp.ACCELERATION_CURVE}`),Hh("@*",Wh(),{optional:!0})])),Gh("void => visible",zh([Bh(`${_p.EXITING} ${gp.DECELERATION_CURVE}`),Hh("@*",Wh(),{optional:!0})]))])},UO=(()=>{let e=class e extends fp{constructor(i,r,s,o,a,l,u,h,p){super(i,r,s,o,a,l,u,p),this._animationState="void",this._animationStateChanged=new Ke,this._breakpointSubscription=h.observe([Cr.Medium,Cr.Large,Cr.XLarge]).subscribe(()=>{let _=this._elementRef.nativeElement.classList;_.toggle("mat-bottom-sheet-container-medium",h.isMatched(Cr.Medium)),_.toggle("mat-bottom-sheet-container-large",h.isMatched(Cr.Large)),_.toggle("mat-bottom-sheet-container-xlarge",h.isMatched(Cr.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(i){i.toState==="visible"&&this._trapFocus(),this._animationStateChanged.emit(i)}_onAnimationStart(i){this._animationStateChanged.emit(i)}_captureInitialFocus(){}};e.\u0275fac=function(r){return new(r||e)(O(Je),O($l),O(he,8),O(Ar),O(Pa),O(ce),O(mi),O(jl),O(ql))},e.\u0275cmp=W({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(r,s){r&1&&d0("@state.start",function(a){return s._onAnimationStart(a)})("@state.done",function(a){return s._onAnimationDone(a)}),r&2&&(u0("@state",s._animationState),dn("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-label",s._config.ariaLabel))},standalone:!0,features:[Ze,Y],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&re(0,VO,0,0,"ng-template",0)},dependencies:[Oa],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[LO.bottomSheetState]}});let t=e;return t})(),bp=new ie("MatBottomSheetData"),yp=class{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}},xs=class{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(e,n,i){this._ref=e,this._afterOpened=new Se,this.containerInstance=i,this.disableClose=n.disableClose,i._animationStateChanged.pipe(mt(r=>r.phaseName==="done"&&r.toState==="visible"),cn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(mt(r=>r.phaseName==="done"&&r.toState==="hidden"),cn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),tl(this.backdropClick(),this.keydownEvents().pipe(mt(r=>r.keyCode===27))).subscribe(r=>{!this.disableClose&&(r.type!=="keydown"||!Ul(r))&&(r.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(mt(n=>n.phaseName==="start"),cn(1)).subscribe(n=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},n.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},jO=new ie("mat-bottom-sheet-default-options"),Kl=(()=>{let e=class e{get _openedBottomSheetRef(){let i=this._parentBottomSheet;return i?i._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(i){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=i:this._bottomSheetRefAtThisLevel=i}constructor(i,r,s,o){this._overlay=i,this._parentBottomSheet=s,this._defaultOptions=o,this._bottomSheetRefAtThisLevel=null,this._dialog=r.get(Xb)}open(i,r){let s=L(L({},this._defaultOptions||new yp),r),o;return this._dialog.open(i,pe(L({},s),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:UO,scrollStrategy:s.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:o}),providers:(a,l,u)=>(o=new xs(a,s,u),[{provide:xs,useValue:o},{provide:bp,useValue:s.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(i){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(i)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}};e.\u0275fac=function(r){return new(r||e)(N(Os),N(xe),N(e,12),N(jO,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rw=(()=>{let e=class e{constructor(){this.btnName=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["lib-cancel-btn"]],inputs:{btnName:"btnName"},standalone:!0,features:[Y],decls:2,vars:1,consts:[[1,"header_text_color","secondary_botton_gradient"]],template:function(r,s){r&1&&(v(0,"button",0),E(1),y()),r&2&&(D(),ve(" ",s.btnName,`
`))},styles:["button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px}"]});let t=e;return t})();var ks=(()=>{let e=class e{constructor(){this.btnName=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["lib-save-btn"]],inputs:{btnName:"btnName"},standalone:!0,features:[Y],decls:2,vars:1,consts:[[1,"white","primary_botton_gradient"]],template:function(r,s){r&1&&(v(0,"button",0),E(1),y()),r&2&&(D(),ve(" ",s.btnName,`
`))},styles:["button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px;font-family:Jura,sans-serif;font-size:16px;font-style:normal;font-weight:700;line-height:normal}"]});let t=e;return t})();var hw=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(O(ls),O(Je))},e.\u0275dir=Oe({type:e});let t=e;return t})(),ou=(()=>{let e=class e extends hw{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,features:[Ze]});let t=e;return t})(),Rr=new ie("");var BO={provide:Rr,useExisting:ln(()=>mn),multi:!0};function zO(){let t=ms()?ms().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $O=new ie(""),mn=(()=>{let e=class e extends hw{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!zO())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(O(ls),O(Je),O($O,8))},e.\u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&G("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Mt([BO]),Ze]});let t=e;return t})();function qi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function fw(t){return t!=null&&typeof t.length=="number"}var Dr=new ie(""),au=new ie(""),qO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$e=class{static min(e){return GO(e)}static max(e){return WO(e)}static required(e){return HO(e)}static requiredTrue(e){return KO(e)}static email(e){return YO(e)}static minLength(e){return pw(e)}static maxLength(e){return mw(e)}static pattern(e){return gw(e)}static nullValidator(e){return Ql(e)}static compose(e){return Iw(e)}static composeAsync(e){return Cw(e)}};function GO(t){return e=>{if(qi(e.value)||qi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function WO(t){return e=>{if(qi(e.value)||qi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function HO(t){return qi(t.value)?{required:!0}:null}function KO(t){return t.value===!0?null:{required:!0}}function YO(t){return qi(t.value)||qO.test(t.value)?null:{email:!0}}function pw(t){return e=>qi(e.value)||!fw(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function mw(t){return e=>fw(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function gw(t){if(!t)return Ql;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(qi(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Ql(t){return null}function _w(t){return t!=null}function vw(t){return dl(t)?St(t):t}function yw(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function bw(t,e){return e.map(n=>n(t))}function QO(t){return!t.validate}function ww(t){return t.map(e=>QO(e)?e:n=>e.validate(n))}function Iw(t){if(!t)return null;let e=t.filter(_w);return e.length==0?null:function(n){return yw(bw(n,e))}}function Ew(t){return t!=null?Iw(ww(t)):null}function Cw(t){if(!t)return null;let e=t.filter(_w);return e.length==0?null:function(n){let i=bw(n,e).map(vw);return Xy(i).pipe(be(yw))}}function Tw(t){return t!=null?Cw(ww(t)):null}function sw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Sw(t){return t._rawValidators}function Aw(t){return t._rawAsyncValidators}function Ip(t){return t?Array.isArray(t)?t:[t]:[]}function Xl(t,e){return Array.isArray(t)?t.includes(e):t===e}function ow(t,e){let n=Ip(e);return Ip(t).forEach(r=>{Xl(n,r)||n.push(r)}),n}function aw(t,e){return Ip(e).filter(n=>!Xl(t,n))}var Jl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ew(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Pr=class extends Jl{get formDirective(){return null}get path(){return null}},gi=class extends Jl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},XO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},C$=pe(L({},XO),{"[class.ng-submitted]":"isSubmitted"}),gn=(()=>{let e=class e extends Zl{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(O(gi,2))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&_t("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ze]});let t=e;return t})(),Fs=(()=>{let e=class e extends Zl{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(O(Pr,10))},e.\u0275dir=Oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&_t("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ze]});let t=e;return t})();var Na="VALID",Yl="INVALID",Ms="PENDING",Fa="DISABLED",Gi=class{},eu=class extends Gi{constructor(e,n){super(),this.value=e,this.source=n}},Va=class extends Gi{constructor(e,n){super(),this.pristine=e,this.source=n}},La=class extends Gi{constructor(e,n){super(),this.touched=e,this.source=n}},Ns=class extends Gi{constructor(e,n){super(),this.status=e,this.source=n}},Ep=class extends Gi{constructor(e){super(),this.source=e}},Cp=class extends Gi{constructor(e){super(),this.source=e}};function Pw(t){return(cu(t)?t.validators:t)||null}function JO(t){return Array.isArray(t)?Ew(t):t||null}function Rw(t,e){return(cu(e)?e.asyncValidators:t)||null}function ZO(t){return Array.isArray(t)?Tw(t):t||null}function cu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ex(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new je(1e3,"");if(!i[n])throw new je(1001,"")}function tx(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new je(1002,"")})}var tu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Qo(()=>this.statusReactive()),this.statusReactive=Wt(void 0),this._pristine=Qo(()=>this.pristineReactive()),this.pristineReactive=Wt(!0),this._touched=Qo(()=>this.touchedReactive()),this.touchedReactive=Wt(!1),this._events=new Se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(e){Un(()=>this.statusReactive.set(e))}get valid(){return this.status===Na}get invalid(){return this.status===Yl}get pending(){return this.status==Ms}get disabled(){return this.status===Fa}get enabled(){return this.status!==Fa}get pristine(){return Un(this.pristineReactive)}set pristine(e){Un(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(e){Un(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ow(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ow(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aw(e,this._rawAsyncValidators))}hasValidator(e){return Xl(this._rawValidators,e)}hasAsyncValidator(e){return Xl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(L({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new La(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new La(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(L({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Va(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Va(!0,i))}markAsPending(e={}){this.status=Ms;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ns(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(L({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Fa,this.errors=null,this._forEachChild(r=>{r.disable(pe(L({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new eu(this.value,i)),this._events.next(new Ns(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Na,this._forEachChild(i=>{i.enable(pe(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Na||this.status===Ms)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new eu(this.value,n)),this._events.next(new Ns(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(L({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fa:Na}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ms,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=vw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ns(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Fa:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ms)?Ms:this._anyControlsHaveStatus(Yl)?Yl:Na}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Va(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new La(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=ZO(this._rawAsyncValidators)}},Bn=class extends tu{constructor(e,n,i){super(Pw(n),Rw(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tx(this,!0,e),Object.keys(e).forEach(i=>{ex(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ua=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>lu}),lu="always";function Dw(t,e){return[...e.path,t]}function nu(t,e,n=lu){Tp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ix(t,e),sx(t,e),rx(t,e),nx(t,e)}function iu(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),su(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ru(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nx(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Tp(t,e){let n=Sw(t);e.validator!==null?t.setValidators(sw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Aw(t);e.asyncValidator!==null?t.setAsyncValidators(sw(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();ru(e._rawValidators,r),ru(e._rawAsyncValidators,r)}function su(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Sw(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Aw(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return ru(e._rawValidators,i),ru(e._rawAsyncValidators,i),n}function ix(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ow(t,e)})}function rx(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ow(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ow(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sx(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ox(t,e){t==null,Tp(t,e)}function ax(t,e){return su(t,e)}function Sp(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function cx(t){return Object.getPrototypeOf(t.constructor)===ou}function lx(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ap(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===mn?n=s:cx(s)?i=s:r=s}),r||i||n||null}function ux(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function lw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var De=class extends tu{constructor(e=null,n,i){super(Pw(n),Rw(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(lw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){lw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dx=t=>t instanceof De;var hx={provide:gi,useExisting:ln(()=>ja)},uw=Promise.resolve(),ja=(()=>{let e=class e extends gi{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new De,this._registered=!1,this.name="",this.update=new Ke,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Ap(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Sp(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){uw.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&ps(r);uw.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Dw(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(O(Pr,9),O(Dr,10),O(au,10),O(Rr,10),O(ui,8),O(Ua,8))},e.\u0275dir=Oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mt([hx]),Ze,In]});let t=e;return t})(),Vs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),fx={provide:Rr,useExisting:ln(()=>Pp),multi:!0},Pp=(()=>{let e=class e extends ou{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&G("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Mt([fx]),Ze]});let t=e;return t})();var Rp=new ie(""),px={provide:gi,useExisting:ln(()=>Dp)},Dp=(()=>{let e=class e extends gi{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new Ke,this._ngModelWarningSent=!1,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ap(this,s)}ngOnChanges(i){if(this._isControlChanged(i)){let r=i.form.previousValue;r&&iu(r,this,!1),nu(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Sp(i,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&iu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_isControlChanged(i){return i.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(O(Dr,10),O(au,10),O(Rr,10),O(Rp,8),O(Ua,8))},e.\u0275dir=Oe({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Mt([px]),Ze,In]});let t=e;return t})(),mx={provide:Pr,useExisting:ln(()=>Or)},Or=(()=>{let e=class e extends Pr{get submitted(){return Un(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Qo(()=>this._submittedReactive()),this._submittedReactive=Wt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(su(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return nu(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){iu(i.control||null,i,!1),ux(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),lx(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new Ep(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new Cp(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(iu(r||null,i),dx(s)&&(nu(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);ox(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&ax(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tp(this.form,this),this._oldForm&&su(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(O(Dr,10),O(au,10),O(Ua,8))},e.\u0275dir=Oe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&G("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mt([mx]),Ze,In]});let t=e;return t})();var gx={provide:gi,useExisting:ln(()=>xr)},xr=(()=>{let e=class e extends gi{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Ap(this,o)}ngOnChanges(i){this._added||this._setUpControl(),Sp(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Dw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(O(Pr,13),O(Dr,10),O(au,10),O(Rr,10),O(Rp,8))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mt([gx]),Ze,In]});let t=e;return t})(),_x={provide:Rr,useExisting:ln(()=>zn),multi:!0};function xw(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function vx(t){return t.split(":")[0]}var zn=(()=>{let e=class e extends ou{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=xw(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=vx(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&G("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mt([_x]),Ze]});let t=e;return t})(),Wi=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(xw(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(O(Je),O(ls),O(zn,9))},e.\u0275dir=Oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),yx={provide:Rr,useExisting:ln(()=>kw),multi:!0};function dw(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function bx(t){return t.split(":")[0]}var kw=(()=>{let e=class e extends ou{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let u=a[l],h=this._getOptionValue(u.value);s.push(h)}}else{let a=r.options;for(let l=0;l<a.length;l++){let u=a[l];if(u.selected){let h=this._getOptionValue(u.value);s.push(h)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=bx(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&G("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mt([yx]),Ze]});let t=e;return t})(),Hi=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(dw(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(dw(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(O(Je),O(ls),O(kw,9))},e.\u0275dir=Oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function Mw(t){return typeof t=="number"?t:parseInt(t,10)}var Op=(()=>{let e=class e{constructor(){this._validator=Ql}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ql,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Oe({type:e,features:[In]});let t=e;return t})();var wx={provide:Dr,useExisting:ln(()=>xp),multi:!0},xp=(()=>{let e=class e extends Op{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=i=>Mw(i),this.createValidator=i=>pw(i)}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&dn("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[Mt([wx]),Ze]});let t=e;return t})(),Ix={provide:Dr,useExisting:ln(()=>Ba),multi:!0},Ba=(()=>{let e=class e extends Op{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=i=>Mw(i),this.createValidator=i=>mw(i)}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&dn("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Mt([Ix]),Ze]});let t=e;return t})(),Ex={provide:Dr,useExisting:ln(()=>kp),multi:!0},kp=(()=>{let e=class e extends Op{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=i=>i,this.createValidator=i=>gw(i)}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=un(e)))(s||e)}})(),e.\u0275dir=Oe({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&dn("pattern",s._enabled?s.pattern:null)},inputs:{pattern:"pattern"},features:[Mt([Ex]),Ze]});let t=e;return t})();var Nw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=He({type:e}),e.\u0275inj=We({});let t=e;return t})();var Ki=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ua,useValue:i.callSetDisabledState??lu}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=He({type:e}),e.\u0275inj=We({imports:[Nw]});let t=e;return t})(),$n=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Rp,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ua,useValue:i.callSetDisabledState??lu}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=He({type:e}),e.\u0275inj=We({imports:[Nw]});let t=e;return t})();var Vw=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Cx=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Lw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,h=s>>2,p=(s&3)<<4|a>>4,_=(a&15)<<2|u>>6,C=u&63;l||(C=64,o||(_=64)),i.push(n[h],n[p],n[_],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let u=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new Np;let _=s<<2|a>>4;if(i.push(_),u!==64){let C=a<<4&240|u>>2;if(i.push(C),p!==64){let k=u<<6&192|p;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Np=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Tx=function(t){let e=Vw(t);return Lw.encodeByteArray(e,!0)},za=function(t){return Tx(t).replace(/\./g,"")},Vp=function(t){try{return Lw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ax=()=>Sx().__FIREBASE_DEFAULTS__,Px=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vp(t[1]);return e&&JSON.parse(e)},du=()=>{try{return Ax()||Px()||Rx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lp=t=>{var e,n;return(n=(e=du())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Us=t=>{let e=Lp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Up=()=>{var t;return(t=du())===null||t===void 0?void 0:t.config},jp=t=>{var e;return(e=du())===null||e===void 0?void 0:e[`_${t}`]};var uu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function hu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[za(JSON.stringify(n)),za(JSON.stringify(o)),""].join(".")}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Dx(){var t;let e=(t=du())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zw(){let t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $w(){return!Dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $a(){try{return typeof indexedDB=="object"}catch{return!1}}function fu(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function qw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Ox="FirebaseError",wt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ox,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}},Zt=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?xx(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new wt(r,a,i)}};function xx(t,e){return t.replace(kx,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var kx=/\{\$([^}]+)}/g;function Gw(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kr(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Fw(s)&&Fw(o)){if(!kr(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Fw(t){return t!==null&&typeof t=="object"}function js(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ww(t,e){let n=new Fp(t,e);return n.subscribe.bind(n)}var Fp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Mx(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Mp),r.error===void 0&&(r.error=Mp),r.complete===void 0&&(r.complete=Mp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Mx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mp(){}var A$=4*60*60*1e3;function Me(t){return t&&t._delegate?t._delegate:t}var tt=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mr="[DEFAULT]";var Bp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new uu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fx(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Nx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Nx(t){return t===Mr?void 0:t}function Fx(t){return t.instantiationMode==="EAGER"}var pu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Bp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Vx=[],Ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ie||{}),Lx={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Ux=Ie.INFO,jx={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},Bx=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=jx[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yi=class{constructor(e){this.name=e,this._logLevel=Ux,this._logHandler=Bx,this._userLogHandler=null,Vx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}};var zx=(t,e)=>e.some(n=>t instanceof n),Hw,Kw;function $x(){return Hw||(Hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Yw=new WeakMap,$p=new WeakMap,Qw=new WeakMap,zp=new WeakMap,Gp=new WeakMap;function Gx(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(An(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),Gp.set(e,t),e}function Wx(t){if($p.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$p.set(t,e)}var qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xw(t){qp=t(qp)}function Hx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(mu(this),e,...n);return Qw.set(i,e.sort?e.sort():[e]),An(i)}:qx().includes(t)?function(...e){return t.apply(mu(this),e),An(Yw.get(this))}:function(...e){return An(t.apply(mu(this),e))}}function Kx(t){return typeof t=="function"?Hx(t):(t instanceof IDBTransaction&&Wx(t),zx(t,$x())?new Proxy(t,qp):t)}function An(t){if(t instanceof IDBRequest)return Gx(t);if(zp.has(t))return zp.get(t);let e=Kx(t);return e!==t&&(zp.set(t,e),Gp.set(e,t)),e}var mu=t=>Gp.get(t);function Nr(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=An(o);return i&&o.addEventListener("upgradeneeded",l=>{i(An(o.result),l.oldVersion,l.newVersion,An(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function gu(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),An(n).then(()=>{})}var Yx=["get","getKey","getAll","getAllKeys","count"],Qx=["put","add","delete","clear"],Wp=new Map;function Jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Qx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Yx.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&l.done]))[0]})};return Wp.set(e,s),s}Xw(t=>pe(L({},t),{get:(e,n,i)=>Jw(e,n)||t.get(e,n,i),has:(e,n)=>!!Jw(e,n)||t.has(e,n)}));var Kp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xx(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Xx(t){let e=t.getComponent();return e?.type==="VERSION"}var Yp="@firebase/app",Zw="0.10.6";var Fr=new Yi("@firebase/app"),Jx="@firebase/app-compat",Zx="@firebase/analytics-compat",ek="@firebase/analytics",tk="@firebase/app-check-compat",nk="@firebase/app-check",ik="@firebase/auth",rk="@firebase/auth-compat",sk="@firebase/database",ok="@firebase/database-compat",ak="@firebase/functions",ck="@firebase/functions-compat",lk="@firebase/installations",uk="@firebase/installations-compat",dk="@firebase/messaging",hk="@firebase/messaging-compat",fk="@firebase/performance",pk="@firebase/performance-compat",mk="@firebase/remote-config",gk="@firebase/remote-config-compat",_k="@firebase/storage",vk="@firebase/storage-compat",yk="@firebase/firestore",bk="@firebase/vertexai-preview",wk="@firebase/firestore-compat",Ik="firebase",Ek="10.12.3";var Qp="[DEFAULT]",Ck={[Yp]:"fire-core",[Jx]:"fire-core-compat",[ek]:"fire-analytics",[Zx]:"fire-analytics-compat",[nk]:"fire-app-check",[tk]:"fire-app-check-compat",[ik]:"fire-auth",[rk]:"fire-auth-compat",[sk]:"fire-rtdb",[ok]:"fire-rtdb-compat",[ak]:"fire-fn",[ck]:"fire-fn-compat",[lk]:"fire-iid",[uk]:"fire-iid-compat",[dk]:"fire-fcm",[hk]:"fire-fcm-compat",[fk]:"fire-perf",[pk]:"fire-perf-compat",[mk]:"fire-rc",[gk]:"fire-rc-compat",[_k]:"fire-gcs",[vk]:"fire-gcs-compat",[yk]:"fire-fst",[wk]:"fire-fst-compat",[bk]:"fire-vertex","fire-js":"fire-js",[Ik]:"fire-js-all"};var qa=new Map,Tk=new Map,Xp=new Map;function eI(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function It(t){let e=t.name;if(Xp.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(let n of qa.values())eI(n,t);for(let n of Tk.values())eI(n,t);return!0}function Ht(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t.settings!==void 0}var Sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new Zt("app","Firebase",Sk);var Jp=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}};var Gn=Ek;function tm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Qp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Qi.create("bad-app-name",{appName:String(r)});if(n||(n=Up()),!n)throw Qi.create("no-options");let s=qa.get(r);if(s){if(kr(n,s.options)&&kr(i,s.config))return s;throw Qi.create("duplicate-app",{appName:r})}let o=new pu(r);for(let l of Xp.values())o.addComponent(l);let a=new Jp(n,i,o);return qa.set(r,a),a}function en(t=Qp){let e=qa.get(t);if(!e&&t===Qp&&Up())return tm();if(!e)throw Qi.create("no-app",{appName:t});return e}function _u(){return Array.from(qa.values())}function we(t,e,n){var i;let r=(i=Ck[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}It(new tt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Ak="firebase-heartbeat-database",Pk=1,Ga="firebase-heartbeat-store",Hp=null;function rI(){return Hp||(Hp=Nr(Ak,Pk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),Hp}function Rk(t){return g(this,null,function*(){try{let n=(yield rI()).transaction(Ga),i=yield n.objectStore(Ga).get(sI(t));return yield n.done,i}catch(e){if(e instanceof wt)Fr.warn(e.message);else{let n=Qi.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}})}function tI(t,e){return g(this,null,function*(){try{let i=(yield rI()).transaction(Ga,"readwrite");yield i.objectStore(Ga).put(e,sI(t)),yield i.done}catch(n){if(n instanceof wt)Fr.warn(n.message);else{let i=Qi.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(i.message)}}})}function sI(t){return`${t.name}!${t.options.appId}`}var Dk=1024,Ok=30*24*60*60*1e3,Zp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new em(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Ok}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=nI(),{heartbeatsToSend:i,unsentEntries:r}=xk(this._heartbeatsCache.heartbeats),s=za(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function nI(){return new Date().toISOString().substring(0,10)}function xk(t,e=Dk){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),iI(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),iI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var em=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return $a()?fu().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Rk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return tI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return tI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function iI(t){return za(JSON.stringify({version:2,heartbeats:t})).length}function kk(t){It(new tt("platform-logger",e=>new Kp(e),"PRIVATE")),It(new tt("heartbeat",e=>new Zp(e),"PRIVATE")),we(Yp,Zw,t),we(Yp,Zw,"esm2017"),we("fire-js","")}kk("");var Mk="firebase",Nk="10.12.3";we(Mk,Nk,"app");var tn=new hs("ANGULARFIRE2_VERSION"),oI=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Hn(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Pn=(t,e)=>{let n=e?[e]:_u(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Wn=class{constructor(){return Pn(Fk)}},Fk="app-check";function Bs(){}var vu=class{zone;delegate;constructor(e,n=Yy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},nm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs)),n.pipe(ct({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_n=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new vu(Zone.current)),this.insideAngular=n.run(()=>new vu(Zone.current,Ky)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(N(ce))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Vk(t){return yu().ngZone.runOutsideAngular(()=>t())}function Vr(t){return yu().ngZone.run(()=>t())}function Lk(t){return Uk(yu())(t)}function Uk(t){return function(n){return n=n.lift(new nm(t.ngZone)),n.pipe(Sh(t.outsideAngular),Th(t.insideAngular))}}var jk=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vr(()=>t.apply(void 0,i))},Fe=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Vr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bs,{},Bs,Bs))),i[s]=jk(i[s],n));let r=Vk(()=>t.apply(this,i));if(!e)if(r instanceof Tt){let s=yu();return r.pipe(Sh(s.outsideAngular),Th(s.insideAngular))}else return Vr(()=>r);return r instanceof Tt?r.pipe(Lk):r instanceof Promise?Vr(()=>new Promise((s,o)=>r.then(a=>Vr(()=>s(a)),a=>Vr(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Vr(()=>r)};var $t=class{constructor(e){return e}},nn=class{constructor(){return _u()}};function Bk(t){return t&&t.length===1?t[0]:new $t(en())}var im=new ie("angularfire2._apps"),zk={provide:$t,useFactory:Bk,deps:[[new Le,im]]},$k={provide:nn,deps:[[new Le,im]]};function qk(t){return(e,n)=>{let i=n.get(En);we("angularfire",tn.full,"core"),we("angularfire",tn.full,"app"),we("angular",p0.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new $t(r)}}function aI(t,...e){return gt([zk,$k,{provide:im,useFactory:qk(t),multi:!0,deps:[ce,xe,_n,...e]}])}var cI=Fe(tm,!0);function CI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TI=CI,SI=new Zt("auth","Firebase",CI());var Tu=new Yi("@firebase/auth");function Gk(t,...e){Tu.logLevel<=Ie.WARN&&Tu.warn(`Auth (${Gn}): ${t}`,...e)}function wu(t,...e){Tu.logLevel<=Ie.ERROR&&Tu.error(`Auth (${Gn}): ${t}`,...e)}function Zi(t,...e){throw Rm(t,...e)}function Kn(t,...e){return Rm(t,...e)}function AI(t,e,n){let i=Object.assign(Object.assign({},TI()),{[e]:n});return new Zt("auth","Firebase",i).create(e,{appName:t.name})}function Ji(t){return AI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SI.create(t,...e)}function ee(t,e,...n){if(!t)throw Rm(e,...n)}function _i(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wu(e),new Error(e)}function er(t,e){t||_i(e)}function cm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PI(){return lI()==="http:"||lI()==="https:"}function lI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Wk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PI()||jw()||"connection"in navigator)?navigator.onLine:!0}function Hk(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Lr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=Uw()||Bw()}get(){return Wk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dm(t,e){er(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Su=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Kk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Yk=new Lr(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yn(s,o,a,l){return g(this,arguments,function*(t,e,n,i,r={}){return RI(t,r,()=>g(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=js(Object.assign({key:t.config.apiKey},h)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),Su.fetch()(DI(t,t.config.apiHost,n,p),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},u))}))})}function RI(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Kk),e);try{let r=new lm(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Wa(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wa(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wa(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wa(t,"user-disabled",o);let h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AI(t,h,u);Zi(t,h)}}catch(r){if(r instanceof wt)throw r;Zi(t,"network-request-failed",{message:String(r)})}})}function Fu(s,o,a,l){return g(this,arguments,function*(t,e,n,i,r={}){let u=yield Yn(t,e,n,i,r);return"mfaPendingCredential"in u&&Zi(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function DI(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Dm(t.config,r):`${t.config.apiScheme}://${r}`}var lm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),Yk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wa(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Kn(t,e,i);return r.customData._tokenResponse=n,r}function uI(t){return t!==void 0&&t.getResponse!==void 0}function Qk(t){return g(this,null,function*(){return(yield Yn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function Xk(t,e){return g(this,null,function*(){return Yn(t,"POST","/v1/accounts:delete",e)})}function OI(t,e){return g(this,null,function*(){return Yn(t,"POST","/v1/accounts:lookup",e)})}function Ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Om(t,e=!1){return g(this,null,function*(){let n=Me(t),i=yield n.getIdToken(e),r=xm(i);ee(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ha(rm(r.auth_time)),issuedAtTime:Ha(rm(r.iat)),expirationTime:Ha(rm(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rm(t){return Number(t)*1e3}function xm(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wu("JWT malformed, contained fewer than 3 sections"),null;try{let r=Vp(n);return r?JSON.parse(r):(wu("Failed to decode base64 JWT payload"),null)}catch(r){return wu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function dI(t){let e=xm(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ya(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof wt&&Jk(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Jk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var um=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Au(t){return g(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Ya(t,OI(n,{idToken:i}));ee(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xI(s.providerUserInfo):[],a=Zk(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,h=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Qa(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function km(t){return g(this,null,function*(){let e=Me(t);yield Au(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Zk(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function xI(t){return t.map(e=>{var{providerId:n}=e,i=Ch(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function e1(t,e){return g(this,null,function*(){let n=yield RI(t,{},()=>g(this,null,function*(){let i=js({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=DI(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Su.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function t1(t,e){return g(this,null,function*(){return Yn(t,"POST","/v2/accounts:revokeToken",yi(t,e))})}var Ka=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let n=dI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield e1(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(ee(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ee(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _i("not implemented")}};function Xi(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var zs=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new um(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Ya(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Om(this,e)}reload(){return km(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Au(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(qn(this.auth.app))return Promise.reject(Ji(this.auth));let e=yield this.getIdToken();return yield Ya(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,u,h;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(r=n.email)!==null&&r!==void 0?r:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,F=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,z=(u=n.createdAt)!==null&&u!==void 0?u:void 0,X=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:J,isAnonymous:Ne,providerData:le,stsTokenManager:T}=n;ee(H&&T,e,"internal-error");let b=Ka.fromJSON(this.name,T);ee(typeof H=="string",e,"internal-error"),Xi(p,e.name),Xi(_,e.name),ee(typeof J=="boolean",e,"internal-error"),ee(typeof Ne=="boolean",e,"internal-error"),Xi(C,e.name),Xi(k,e.name),Xi(F,e.name),Xi(x,e.name),Xi(z,e.name),Xi(X,e.name);let w=new t({uid:H,auth:e,email:_,emailVerified:J,displayName:p,isAnonymous:Ne,photoURL:k,phoneNumber:C,tenantId:F,stsTokenManager:b,createdAt:z,lastLoginAt:X});return le&&Array.isArray(le)&&(w.providerData=le.map(S=>Object.assign({},S))),x&&(w._redirectEventId=x),w}static _fromIdTokenResponse(e,n,i=!1){return g(this,null,function*(){let r=new Ka;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Au(s),s})}static _fromGetAccountInfoResponse(e,n,i){return g(this,null,function*(){let r=n.users[0];ee(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?xI(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Ka;a.updateFromIdToken(i);let l=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Qa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var hI=new Map;function vi(t){er(t instanceof Function,"Expected a class definition");let e=hI.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hI.set(t,e),e)}var n1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,i){return g(this,null,function*(){this.storage[n]=i})}_get(n){return g(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),dm=n1;function Iu(t,e,n){return`firebase:${t}:${e}:${n}`}var Pu=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Iu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Iu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return g(this,null,function*(){if(!n.length)return new t(vi(dm),e,i);let r=(yield Promise.all(n.map(u=>g(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||vi(dm),o=Iu(i,e.config.apiKey,e.name),a=null;for(let u of n)try{let h=yield u._get(o);if(h){let p=zs._fromJSON(e,h);u!==s&&(a=p),s=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>g(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,i))})}};function fI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VI(e))return"Blackberry";if(LI(e))return"Webos";if(Mm(e))return"Safari";if((e.includes("chrome/")||MI(e))&&!e.includes("edge/"))return"Chrome";if(FI(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function kI(t=vt()){return/firefox\//i.test(t)}function Mm(t=vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MI(t=vt()){return/crios\//i.test(t)}function NI(t=vt()){return/iemobile/i.test(t)}function FI(t=vt()){return/android/i.test(t)}function VI(t=vt()){return/blackberry/i.test(t)}function LI(t=vt()){return/webos/i.test(t)}function Vu(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i1(t=vt()){var e;return Vu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r1(){return zw()&&document.documentMode===10}function UI(t=vt()){return Vu(t)||FI(t)||LI(t)||VI(t)||/windows phone/i.test(t)||NI(t)}function s1(){try{return!!(window&&window!==window.top)}catch{return!1}}function jI(t,e=[]){let n;switch(t){case"Browser":n=fI(vt());break;case"Worker":n=`${fI(vt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gn}/${i}`}var hm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function o1(n){return g(this,arguments,function*(t,e={}){return Yn(t,"GET","/v2/passwordPolicy",yi(t,e))})}var a1=6,fm=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:a1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var pm=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ru(this),this.idTokenSubscription=new Ru(this),this.beforeStateQueue=new hm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Pu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield OI(this,{idToken:e}),i=yield zs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(qn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Au(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Hk()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(qn(this.app))return Promise.reject(Ji(this));let n=e?Me(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return qn(this.app)?Promise.reject(Ji(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qn(this.app)?Promise.reject(Ji(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield o1(this),n=new fm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zt("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield t1(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vi(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=yield Pu.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Gk(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function $s(t){return Me(t)}var Ru=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ww(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lu={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c1(t){Lu=t}function BI(t){return Lu.loadJS(t)}function l1(){return Lu.recaptchaV2Script}function u1(){return Lu.gapiScript}function zI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Nm(t,e){let n=Ht(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(kr(s,e??{}))return r;Zi(r,"already-initialized")}return n.initialize({options:e})}function d1(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(vi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Fm(t,e,n){let i=$s(t);ee(i._canInitEmulator,i,"emulator-config-failed"),ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=$I(e),{host:o,port:a}=h1(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||f1()}function $I(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h1(t){let e=$I(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:pI(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:pI(o)}}}function pI(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function f1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(e){return _i("not implemented")}_linkToIdToken(e,n){return _i("not implemented")}_getReauthenticationResolver(e){return _i("not implemented")}};function sm(t,e){return g(this,null,function*(){return Fu(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))})}function p1(t,e){return g(this,null,function*(){return Yn(t,"POST","/v1/accounts:sendVerificationCode",yi(t,e))})}function m1(t,e){return g(this,null,function*(){return Fu(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,e))})}function g1(t,e){return g(this,null,function*(){let n=yield Fu(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,e));if(n.temporaryProof)throw Wa(t,"account-exists-with-different-credential",n);return n})}var _1={USER_NOT_FOUND:"user-not-found"};function v1(t,e){return g(this,null,function*(){let n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Fu(t,"POST","/v1/accounts:signInWithPhoneNumber",yi(t,n),_1)})}var Du=class t extends Xa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new t({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new t({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return m1(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return g1(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return v1(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s}=e;return!i&&!n&&!r&&!s?null:new t({verificationId:n,verificationCode:i,phoneNumber:r,temporaryProof:s})}};var Ou=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mm=class extends Ou{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ja=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return g(this,null,function*(){let s=yield zs._fromIdTokenResponse(e,i,r),o=mI(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return g(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=mI(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function mI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var gm=class t extends wt{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function qI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gm._fromErrorAndOperation(t,s,e,i):s})}function y1(t,e,n=!1){return g(this,null,function*(){let i=yield Ya(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ja._forOperation(t,"link",i)})}function b1(t,e,n=!1){return g(this,null,function*(){let{auth:i}=t;if(qn(i.app))return Promise.reject(Ji(i));let r="reauthenticate";try{let s=yield Ya(t,qI(i,r,e,t),n);ee(s.idToken,i,"internal-error");let o=xm(s.idToken);ee(o,i,"internal-error");let{sub:a}=o;return ee(t.uid===a,i,"user-mismatch"),Ja._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Zi(i,"user-mismatch"),s}})}function GI(t,e,n=!1){return g(this,null,function*(){if(qn(t.app))return Promise.reject(Ji(t));let i="signIn",r=yield qI(t,i,e),s=yield Ja._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function Vm(t,e){return g(this,null,function*(){return GI($s(t),e)})}function ec(t,e,n,i){return Me(t).onIdTokenChanged(e,n,i)}function Lm(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function w1(t,e){return Yn(t,"POST","/v2/accounts/mfaEnrollment:start",yi(t,e))}var xu="__sak";var ku=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function I1(){let t=vt();return Mm(t)||Vu(t)}var E1=1e3,C1=10,T1=(()=>{class t extends ku{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=I1()&&s1(),this.fallbackToPolling=UI(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);r1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,C1):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},E1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return g(this,null,function*(){yield xi(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return g(this,null,function*(){let i=yield xi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return g(this,null,function*(){yield xi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),WI=T1;var S1=(()=>{class t extends ku{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Um=S1;function A1(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var P1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(h=>g(this,null,function*(){return h(i.origin,o)})),u=yield A1(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function HI(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var _m=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return g(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let u=HI("",20);r.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let _=p;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ut(){return window}function R1(t){ut().location.href=t}function jm(){return typeof ut().WorkerGlobalScope<"u"&&typeof ut().importScripts=="function"}function D1(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function O1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x1(){return jm()?self:null}var KI="firebaseLocalStorageDb",k1=1,Mu="firebaseLocalStorage",YI="fbase_key",Ur=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Uu(t,e){return t.transaction([Mu],e?"readwrite":"readonly").objectStore(Mu)}function M1(){let t=indexedDB.deleteDatabase(KI);return new Ur(t).toPromise()}function vm(){let t=indexedDB.open(KI,k1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Mu,{keyPath:YI})}catch(r){n(r)}}),t.addEventListener("success",()=>g(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Mu)?e(i):(i.close(),yield M1(),e(yield vm()))}))})}function gI(t,e,n){return g(this,null,function*(){let i=Uu(t,!0).put({[YI]:e,value:n});return new Ur(i).toPromise()})}function N1(t,e){return g(this,null,function*(){let n=Uu(t,!1).get(e),i=yield new Ur(n).toPromise();return i===void 0?null:i.value})}function _I(t,e){let n=Uu(t,!0).delete(e);return new Ur(n).toPromise()}var F1=800,V1=3,L1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield vm(),this.db)})}_withRetries(n){return g(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>V1)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return jm()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=P1._getInstance(x1()),this.receiver._subscribe("keyChanged",(n,i)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,i;if(this.activeServiceWorker=yield D1(),!this.activeServiceWorker)return;this.sender=new _m(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||O1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield vm();return yield gI(n,xu,"1"),yield _I(n,xu),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>gI(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let i=yield this._withRetries(r=>N1(r,n));return this.localCache[n]=i,i})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>_I(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=Uu(s,!1).getAll();return new Ur(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),F1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),QI=L1;function U1(t,e){return Yn(t,"POST","/v2/accounts/mfaSignIn:start",yi(t,e))}var j1=500,B1=6e4,bu=1e12,ym=class{constructor(e){this.auth=e,this.counter=bu,this._widgets=new Map}render(e,n){let i=this.counter;return this._widgets.set(i,new bm(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;let i=e||bu;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;let i=e||bu;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}execute(e){return g(this,null,function*(){var n;let i=e||bu;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""})}},bm=class{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof e=="string"?document.getElementById(e):e;ee(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=z1(50);let{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},B1)},j1))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function z1(t){let e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}var om=zI("rcb"),$1=new Lr(3e4,6e4),wm=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ut().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ee(q1(n),e,"argument-error"),this.shouldResolveImmediately(n)&&uI(ut().grecaptcha)?Promise.resolve(ut().grecaptcha):new Promise((i,r)=>{let s=ut().setTimeout(()=>{r(Kn(e,"network-request-failed"))},$1.get());ut()[om]=()=>{ut().clearTimeout(s),delete ut()[om];let a=ut().grecaptcha;if(!a||!uI(a)){r(Kn(e,"internal-error"));return}let l=a.render;a.render=(u,h)=>{let p=l(u,h);return this.counter++,p},this.hostLanguage=n,i(a)};let o=`${l1()}?${js({onload:om,render:"explicit",hl:n})}`;BI(o).catch(()=>{clearTimeout(s),r(Kn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ut().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function q1(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}var Im=class{load(e){return g(this,null,function*(){return new ym(e)})}clearedOneInstance(){}};var XI="recaptcha",G1={theme:"light",type:"image"},jr=class{constructor(e,n,i=Object.assign({},G1)){this.parameters=i,this.type=XI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$s(e),this.isInvisible=this.parameters.size==="invisible",ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof n=="string"?document.getElementById(n):n;ee(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Im:new wm,this.validateStartingState()}verify(){return g(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(r=>{let s=o=>{o&&(this.tokenChangeListeners.delete(s),r(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){let i=ut()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return g(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return g(this,null,function*(){ee(PI()&&!jm(),this.auth,"internal-error"),yield W1(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield Qk(this.auth);ee(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function W1(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}var Em=class{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){let n=Du._fromVerification(this.verificationId,e);return this.onConfirmation(n)}};function Bm(t,e,n){return g(this,null,function*(){if(qn(t.app))return Promise.reject(Ji(t));let i=$s(t),r=yield H1(i,e,Me(n));return new Em(r,s=>Vm(i,s))})}function H1(t,e,n){return g(this,null,function*(){var i;let r=yield n.verify();try{ee(typeof r=="string",t,"argument-error"),ee(n.type===XI,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){let o=s.session;if("phoneNumber"in s)return ee(o.type==="enroll",t,"internal-error"),(yield w1(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{ee(o.type==="signin",t,"internal-error");let a=((i=s.multiFactorHint)===null||i===void 0?void 0:i.uid)||s.multiFactorUid;return ee(a,t,"missing-multi-factor-info"),(yield U1(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:o}=yield p1(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return o}}finally{n._reset()}})}function K1(t,e){return e?vi(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Za=class extends Xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Y1(t){return GI(t.auth,new Za(t),t.bypassAuthState)}function Q1(t){let{auth:e,user:n}=t;return ee(n,e,"internal-error"),b1(n,new Za(t),t.bypassAuthState)}function X1(t){return g(this,null,function*(){let{auth:e,user:n}=t;return ee(n,e,"internal-error"),y1(n,new Za(t),t.bypassAuthState)})}var Cm=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y1;case"linkViaPopup":case"linkViaRedirect":return X1;case"reauthViaPopup":case"reauthViaRedirect":return Q1;default:Zi(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var I5=new Lr(2e3,1e4);var J1="pendingRedirect",Eu=new Map,Tm=class t extends Cm{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return g(this,null,function*(){let e=Eu.get(this.auth._key());if(!e){try{let i=(yield Z1(this.resolver,this.auth))?yield xi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return xi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,xi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function Z1(t,e){return g(this,null,function*(){let n=nM(e),i=tM(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function eM(t,e){Eu.set(t._key(),e)}function tM(t){return vi(t._redirectPersistence)}function nM(t){return Iu(J1,t.config.apiKey,t.name)}function iM(t,e,n=!1){return g(this,null,function*(){if(qn(t.app))return Promise.reject(Ji(t));let i=$s(t),r=K1(i,e),o=yield new Tm(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var rM=10*60*1e3,Sm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!JI(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rM&&this.cachedEventUids.clear(),this.cachedEventUids.has(vI(e))}saveEventToCache(e){this.cachedEventUids.add(vI(e)),this.lastProcessedEventTime=Date.now()}};function vI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JI(t);default:return!1}}function oM(n){return g(this,arguments,function*(t,e={}){return Yn(t,"GET","/v1/projects",e)})}var aM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cM=/^https?/;function lM(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield oM(t);for(let n of e)try{if(uM(n))return}catch{}Zi(t,"unauthorized-domain")})}function uM(t){let e=cm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!cM.test(n))return!1;if(aM.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var dM=new Lr(3e4,6e4);function yI(){let t=ut().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hM(t){return new Promise((e,n)=>{var i,r,s;function o(){yI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yI(),n(Kn(t,"network-request-failed"))},timeout:dM.get()})}if(!((r=(i=ut().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ut().gapi)===null||s===void 0)&&s.load)o();else{let a=zI("iframefcb");return ut()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},BI(`${u1()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cu=null,e})}var Cu=null;function fM(t){return Cu=Cu||hM(t),Cu}var pM=new Lr(5e3,15e3),mM="__/auth/iframe",gM="emulator/auth/iframe",_M={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yM(t){let e=t.config;ee(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Dm(e,gM):`https://${t.config.authDomain}/${mM}`,i={apiKey:e.apiKey,appName:t.name,v:Gn},r=vM.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${js(i).slice(1)}`}function bM(t){return g(this,null,function*(){let e=yield fM(t),n=ut().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:yM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_M,dontclear:!0},i=>new Promise((r,s)=>g(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=Kn(t,"network-request-failed"),a=ut().setTimeout(()=>{s(o)},pM.get());function l(){ut().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IM=500,EM=600,CM="_blank",TM="http://localhost",Nu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function SM(t,e,n,i=IM,r=EM){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},wM),{width:i.toString(),height:r.toString(),top:s,left:o}),u=vt().toLowerCase();n&&(a=MI(u)?CM:n),kI(u)&&(e=e||TM,l.scrollbars="yes");let h=Object.entries(l).reduce((_,[C,k])=>`${_}${C}=${k},`,"");if(i1(u)&&a!=="_self")return AM(e||"",a),new Nu(null);let p=window.open(e||"",a,h);ee(p,t,"popup-blocked");try{p.focus()}catch{}return new Nu(p)}function AM(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var PM="__/auth/handler",RM="emulator/auth/handler",DM=encodeURIComponent("fac");function bI(t,e,n,i,r,s){return g(this,null,function*(){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Gn,eventId:r};if(e instanceof Ou){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof mm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield t._getAppCheckToken(),u=l?`#${DM}=${encodeURIComponent(l)}`:"";return`${OM(t)}?${js(a).slice(1)}${u}`})}function OM({config:t}){return t.emulator?Dm(t,RM):`https://${t.authDomain}/${PM}`}var am="webStorageSupport",Am=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Um,this._completeRedirectFn=iM,this._overrideRedirectResult=eM}_openPopup(e,n,i,r){return g(this,null,function*(){var s;er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield bI(e,n,i,cm(),r);return SM(e,o,HI())})}_openRedirect(e,n,i,r){return g(this,null,function*(){yield this._originValidation(e);let s=yield bI(e,n,i,cm(),r);return R1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(er(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return g(this,null,function*(){let n=yield bM(e),i=new Sm(e);return n.register("authEvent",r=>(ee(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[am];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UI()||Mm()||Vu()}},ZI=Am;var wI="@firebase/auth",II="1.7.5";var Pm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kM(t){It(new tt("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(t)},u=new pm(i,r,s,l);return d1(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),It(new tt("auth-internal",e=>{let n=$s(e.getProvider("auth").getImmediate());return(i=>new Pm(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),we(wI,II,xM(t)),we(wI,II,"esm2017")}var MM=5*60,NM=jp("authIdTokenMaxAge")||MM,EI=null,FM=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>NM)return;let r=n?.token;EI!==r&&(EI=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function zm(t=en()){let e=Ht(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Nm(t,{popupRedirectResolver:ZI,persistence:[QI,WI,Um]}),i=jp("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=FM(s.toString());Lm(n,o,()=>o(n.currentUser)),ec(n,a=>o(a))}}let r=Lp("auth");return r&&Fm(n,`http://${r}`),n}function VM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}c1({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=Kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",VM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kM("Browser");function nE(t){return new Tt(function(e){var n=ec(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var iE="auth",Rn=class{constructor(e){return e}},bi=class{constructor(){return Pn(iE)}};var $m=new ie("angularfire2.auth-instances");function AN(t,e){let n=Hn(iE,t,e);return n&&new Rn(n)}function PN(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Rn(i)}}var RN={provide:bi,deps:[[new Le,$m]]},DN={provide:Rn,useFactory:AN,deps:[[new Le,$m],$t]};function rE(t,...e){return we("angularfire",tn.full,"auth"),gt([DN,RN,{provide:$m,useFactory:PN(t),multi:!0,deps:[ce,xe,_n,nn,[new Le,Wn],...e]}])}var sE=Fe(nE,!0);var oE=Fe(zm,!0);var aE=Fe(Bm,!0);var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uE={};var tr,qm;(function(){var t;function e(T,b){function w(){}w.prototype=b.prototype,T.D=b.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(S,A,R){for(var I=Array(arguments.length-2),oi=2;oi<arguments.length;oi++)I[oi-2]=arguments[oi];return b.prototype[A].apply(S,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,b,w){w||(w=0);var S=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)S[A]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(A=0;16>A;++A)S[A]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=T.g[0],w=T.g[1],A=T.g[2];var R=T.g[3],I=b+(R^w&(A^R))+S[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=R+(A^b&(w^A))+S[1]+3905402710&4294967295,R=b+(I<<12&4294967295|I>>>20),I=A+(w^R&(b^w))+S[2]+606105819&4294967295,A=R+(I<<17&4294967295|I>>>15),I=w+(b^A&(R^b))+S[3]+3250441966&4294967295,w=A+(I<<22&4294967295|I>>>10),I=b+(R^w&(A^R))+S[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=R+(A^b&(w^A))+S[5]+1200080426&4294967295,R=b+(I<<12&4294967295|I>>>20),I=A+(w^R&(b^w))+S[6]+2821735955&4294967295,A=R+(I<<17&4294967295|I>>>15),I=w+(b^A&(R^b))+S[7]+4249261313&4294967295,w=A+(I<<22&4294967295|I>>>10),I=b+(R^w&(A^R))+S[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=R+(A^b&(w^A))+S[9]+2336552879&4294967295,R=b+(I<<12&4294967295|I>>>20),I=A+(w^R&(b^w))+S[10]+4294925233&4294967295,A=R+(I<<17&4294967295|I>>>15),I=w+(b^A&(R^b))+S[11]+2304563134&4294967295,w=A+(I<<22&4294967295|I>>>10),I=b+(R^w&(A^R))+S[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=R+(A^b&(w^A))+S[13]+4254626195&4294967295,R=b+(I<<12&4294967295|I>>>20),I=A+(w^R&(b^w))+S[14]+2792965006&4294967295,A=R+(I<<17&4294967295|I>>>15),I=w+(b^A&(R^b))+S[15]+1236535329&4294967295,w=A+(I<<22&4294967295|I>>>10),I=b+(A^R&(w^A))+S[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=R+(w^A&(b^w))+S[6]+3225465664&4294967295,R=b+(I<<9&4294967295|I>>>23),I=A+(b^w&(R^b))+S[11]+643717713&4294967295,A=R+(I<<14&4294967295|I>>>18),I=w+(R^b&(A^R))+S[0]+3921069994&4294967295,w=A+(I<<20&4294967295|I>>>12),I=b+(A^R&(w^A))+S[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=R+(w^A&(b^w))+S[10]+38016083&4294967295,R=b+(I<<9&4294967295|I>>>23),I=A+(b^w&(R^b))+S[15]+3634488961&4294967295,A=R+(I<<14&4294967295|I>>>18),I=w+(R^b&(A^R))+S[4]+3889429448&4294967295,w=A+(I<<20&4294967295|I>>>12),I=b+(A^R&(w^A))+S[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=R+(w^A&(b^w))+S[14]+3275163606&4294967295,R=b+(I<<9&4294967295|I>>>23),I=A+(b^w&(R^b))+S[3]+4107603335&4294967295,A=R+(I<<14&4294967295|I>>>18),I=w+(R^b&(A^R))+S[8]+1163531501&4294967295,w=A+(I<<20&4294967295|I>>>12),I=b+(A^R&(w^A))+S[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=R+(w^A&(b^w))+S[2]+4243563512&4294967295,R=b+(I<<9&4294967295|I>>>23),I=A+(b^w&(R^b))+S[7]+1735328473&4294967295,A=R+(I<<14&4294967295|I>>>18),I=w+(R^b&(A^R))+S[12]+2368359562&4294967295,w=A+(I<<20&4294967295|I>>>12),I=b+(w^A^R)+S[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=R+(b^w^A)+S[8]+2272392833&4294967295,R=b+(I<<11&4294967295|I>>>21),I=A+(R^b^w)+S[11]+1839030562&4294967295,A=R+(I<<16&4294967295|I>>>16),I=w+(A^R^b)+S[14]+4259657740&4294967295,w=A+(I<<23&4294967295|I>>>9),I=b+(w^A^R)+S[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=R+(b^w^A)+S[4]+1272893353&4294967295,R=b+(I<<11&4294967295|I>>>21),I=A+(R^b^w)+S[7]+4139469664&4294967295,A=R+(I<<16&4294967295|I>>>16),I=w+(A^R^b)+S[10]+3200236656&4294967295,w=A+(I<<23&4294967295|I>>>9),I=b+(w^A^R)+S[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=R+(b^w^A)+S[0]+3936430074&4294967295,R=b+(I<<11&4294967295|I>>>21),I=A+(R^b^w)+S[3]+3572445317&4294967295,A=R+(I<<16&4294967295|I>>>16),I=w+(A^R^b)+S[6]+76029189&4294967295,w=A+(I<<23&4294967295|I>>>9),I=b+(w^A^R)+S[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=R+(b^w^A)+S[12]+3873151461&4294967295,R=b+(I<<11&4294967295|I>>>21),I=A+(R^b^w)+S[15]+530742520&4294967295,A=R+(I<<16&4294967295|I>>>16),I=w+(A^R^b)+S[2]+3299628645&4294967295,w=A+(I<<23&4294967295|I>>>9),I=b+(A^(w|~R))+S[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=R+(w^(b|~A))+S[7]+1126891415&4294967295,R=b+(I<<10&4294967295|I>>>22),I=A+(b^(R|~w))+S[14]+2878612391&4294967295,A=R+(I<<15&4294967295|I>>>17),I=w+(R^(A|~b))+S[5]+4237533241&4294967295,w=A+(I<<21&4294967295|I>>>11),I=b+(A^(w|~R))+S[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=R+(w^(b|~A))+S[3]+2399980690&4294967295,R=b+(I<<10&4294967295|I>>>22),I=A+(b^(R|~w))+S[10]+4293915773&4294967295,A=R+(I<<15&4294967295|I>>>17),I=w+(R^(A|~b))+S[1]+2240044497&4294967295,w=A+(I<<21&4294967295|I>>>11),I=b+(A^(w|~R))+S[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=R+(w^(b|~A))+S[15]+4264355552&4294967295,R=b+(I<<10&4294967295|I>>>22),I=A+(b^(R|~w))+S[6]+2734768916&4294967295,A=R+(I<<15&4294967295|I>>>17),I=w+(R^(A|~b))+S[13]+1309151649&4294967295,w=A+(I<<21&4294967295|I>>>11),I=b+(A^(w|~R))+S[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=R+(w^(b|~A))+S[11]+3174756917&4294967295,R=b+(I<<10&4294967295|I>>>22),I=A+(b^(R|~w))+S[2]+718787259&4294967295,A=R+(I<<15&4294967295|I>>>17),I=w+(R^(A|~b))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+R&4294967295}i.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var w=b-this.blockSize,S=this.B,A=this.h,R=0;R<b;){if(A==0)for(;R<=w;)r(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<b;)if(S[A++]=T.charCodeAt(R++),A==this.blockSize){r(this,S),A=0;break}}else for(;R<b;)if(S[A++]=T[R++],A==this.blockSize){r(this,S),A=0;break}}this.h=A,this.o+=b},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var w=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=w&255,w/=256;for(this.u(T),T=Array(16),b=w=0;4>b;++b)for(var S=0;32>S;S+=8)T[w++]=this.g[b]>>>S&255;return T};function s(T,b){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=b(T)}function o(T,b){this.h=b;for(var w=[],S=!0,A=T.length-1;0<=A;A--){var R=T[A]|0;S&&R==b||(w[A]=R,S=!1)}this.g=w}var a={};function l(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return x(u(-T));for(var b=[],w=1,S=0;T>=w;S++)b[S]=T/w|0,w*=4294967296;return new o(b,0)}function h(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return x(h(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(b,8)),S=p,A=0;A<T.length;A+=8){var R=Math.min(8,T.length-A),I=parseInt(T.substring(A,A+R),b);8>R?(R=u(Math.pow(b,R)),S=S.j(R).add(u(I))):(S=S.j(w),S=S.add(u(I)))}return S}var p=l(0),_=l(1),C=l(16777216);t=o.prototype,t.m=function(){if(F(this))return-x(this).m();for(var T=0,b=1,w=0;w<this.g.length;w++){var S=this.i(w);T+=(0<=S?S:4294967296+S)*b,b*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(F(this))return"-"+x(this).toString(T);for(var b=u(Math.pow(T,6)),w=this,S="";;){var A=J(w,b).g;w=z(w,A.j(b));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=A,k(w))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function F(T){return T.h==-1}t.l=function(T){return T=z(this,T),F(T)?-1:k(T)?0:1};function x(T){for(var b=T.g.length,w=[],S=0;S<b;S++)w[S]=~T.g[S];return new o(w,~T.h).add(_)}t.abs=function(){return F(this)?x(this):this},t.add=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],S=0,A=0;A<=b;A++){var R=S+(this.i(A)&65535)+(T.i(A)&65535),I=(R>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);S=I>>>16,R&=65535,I&=65535,w[A]=I<<16|R}return new o(w,w[w.length-1]&-2147483648?-1:0)};function z(T,b){return T.add(x(b))}t.j=function(T){if(k(this)||k(T))return p;if(F(this))return F(T)?x(this).j(x(T)):x(x(this).j(T));if(F(T))return x(this.j(x(T)));if(0>this.l(C)&&0>T.l(C))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,w=[],S=0;S<2*b;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<T.g.length;A++){var R=this.i(S)>>>16,I=this.i(S)&65535,oi=T.i(A)>>>16,wo=T.i(A)&65535;w[2*S+2*A]+=I*wo,X(w,2*S+2*A),w[2*S+2*A+1]+=R*wo,X(w,2*S+2*A+1),w[2*S+2*A+1]+=I*oi,X(w,2*S+2*A+1),w[2*S+2*A+2]+=R*oi,X(w,2*S+2*A+2)}for(S=0;S<b;S++)w[S]=w[2*S+1]<<16|w[2*S];for(S=b;S<2*b;S++)w[S]=0;return new o(w,0)};function X(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function H(T,b){this.g=T,this.h=b}function J(T,b){if(k(b))throw Error("division by zero");if(k(T))return new H(p,p);if(F(T))return b=J(x(T),b),new H(x(b.g),x(b.h));if(F(b))return b=J(T,x(b)),new H(x(b.g),b.h);if(30<T.g.length){if(F(T)||F(b))throw Error("slowDivide_ only works with positive integers.");for(var w=_,S=b;0>=S.l(T);)w=Ne(w),S=Ne(S);var A=le(w,1),R=le(S,1);for(S=le(S,2),w=le(w,2);!k(S);){var I=R.add(S);0>=I.l(T)&&(A=A.add(w),R=I),S=le(S,1),w=le(w,1)}return b=z(T,A.j(b)),new H(A,b)}for(A=p;0<=T.l(b);){for(w=Math.max(1,Math.floor(T.m()/b.m())),S=Math.ceil(Math.log(w)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=u(w),I=R.j(b);F(I)||0<I.l(T);)w-=S,R=u(w),I=R.j(b);k(R)&&(R=_),A=A.add(R),T=z(T,I)}return new H(A,T)}t.A=function(T){return J(this,T).h},t.and=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],S=0;S<b;S++)w[S]=this.i(S)&T.i(S);return new o(w,this.h&T.h)},t.or=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],S=0;S<b;S++)w[S]=this.i(S)|T.i(S);return new o(w,this.h|T.h)},t.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),w=[],S=0;S<b;S++)w[S]=this.i(S)^T.i(S);return new o(w,this.h^T.h)};function Ne(T){for(var b=T.g.length+1,w=[],S=0;S<b;S++)w[S]=T.i(S)<<1|T.i(S-1)>>>31;return new o(w,T.h)}function le(T,b){var w=b>>5;b%=32;for(var S=T.g.length-w,A=[],R=0;R<S;R++)A[R]=0<b?T.i(R+w)>>>b|T.i(R+w+1)<<32-b:T.i(R+w);return new o(A,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qm=uE.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,tr=uE.Integer=o}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wi={};var Gm,Wm,qs,Hm,tc,Bu,Km,Ym,Qm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(c,d){if(d)e:{var f=i;c=c.split(".");for(var m=0;m<c.length-1;m++){var P=c[m];if(!(P in f))break e;f=f[P]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,m=!1,P={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}r("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,m),c.apply(d,P)}}return function(){return c.apply(d,arguments)}}function _(c,d,f){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,_.apply(null,arguments)}function C(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function k(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,P,M){for(var q=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)q[Ve-2]=arguments[Ve];return d.prototype[P].apply(m,q)}}function F(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let P=c.length||0,M=m.length||0;c.length=P+M;for(let q=0;q<M;q++)c[P+q]=m[q]}else c.push(m)}}class z{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var Ne=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function le(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function b(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,d){let f,m;for(let P=1;P<arguments.length;P++){m=arguments[P];for(f in m)c[f]=m[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function A(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Qd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class oi{constructor(){this.h=this.g=null}add(d,f){let m=wo.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var wo=new z(()=>new IA,c=>c.reset());class IA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Io,Eo=!1,Qd=new oi,Hv=()=>{let c=a.Promise.resolve(void 0);Io=()=>{c.then(EA)}};var EA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){R(f)}var d=wo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Eo=!1};function Pi(){this.s=this.s,this.C=this.C}Pi.prototype.s=!1,Pi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var CA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Co(c,d){if(Dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{J(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:TA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Co.aa.h.call(this)}}k(Co,Dt);var TA={2:"touch",3:"pen",4:"mouse"};Co.prototype.h=function(){Co.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var To="closure_listenable_"+(1e6*Math.random()|0),SA=0;function AA(c,d,f,m,P){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=P,this.key=++SA,this.da=this.fa=!1}function Vc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lc(c){this.src=c,this.g={},this.h=0}Lc.prototype.add=function(c,d,f,m,P){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var q=Jd(c,d,m,P);return-1<q?(d=c[q],f||(d.fa=!1)):(d=new AA(d,this.src,M,!!m,P),d.fa=f,c.push(d)),d};function Xd(c,d){var f=d.type;if(f in c.g){var m=c.g[f],P=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=P)&&Array.prototype.splice.call(m,P,1),M&&(Vc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Jd(c,d,f,m){for(var P=0;P<c.length;++P){var M=c[P];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return P}return-1}var Zd="closure_lm_"+(1e6*Math.random()|0),eh={};function Kv(c,d,f,m,P){if(m&&m.once)return Qv(c,d,f,m,P);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Kv(c,d[M],f,m,P);return null}return f=rh(f),c&&c[To]?c.K(d,f,u(m)?!!m.capture:!!m,P):Yv(c,d,f,!1,m,P)}function Yv(c,d,f,m,P,M){if(!d)throw Error("Invalid event type");var q=u(P)?!!P.capture:!!P,Ve=nh(c);if(Ve||(c[Zd]=Ve=new Lc(c)),f=Ve.add(d,f,m,q,M),f.proxy)return f;if(m=PA(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)CA||(P=q),P===void 0&&(P=!1),c.addEventListener(d.toString(),m,P);else if(c.attachEvent)c.attachEvent(Jv(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function PA(){function c(f){return d.call(c.src,c.listener,f)}let d=RA;return c}function Qv(c,d,f,m,P){if(Array.isArray(d)){for(var M=0;M<d.length;M++)Qv(c,d[M],f,m,P);return null}return f=rh(f),c&&c[To]?c.L(d,f,u(m)?!!m.capture:!!m,P):Yv(c,d,f,!0,m,P)}function Xv(c,d,f,m,P){if(Array.isArray(d))for(var M=0;M<d.length;M++)Xv(c,d[M],f,m,P);else m=u(m)?!!m.capture:!!m,f=rh(f),c&&c[To]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Jd(M,f,m,P),-1<f&&(Vc(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=nh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Jd(d,f,m,P)),(f=-1<c?d[c]:null)&&th(f))}function th(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[To])Xd(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Jv(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=nh(d))?(Xd(f,c),f.h==0&&(f.src=null,d[Zd]=null)):Vc(c)}}}function Jv(c){return c in eh?eh[c]:eh[c]="on"+c}function RA(c,d){if(c.da)c=!0;else{d=new Co(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&th(c),c=f.call(m,d)}return c}function nh(c){return c=c[Zd],c instanceof Lc?c:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function rh(c){return typeof c=="function"?c:(c[ih]||(c[ih]=function(d){return c.handleEvent(d)}),c[ih])}function Ot(){Pi.call(this),this.i=new Lc(this),this.M=this,this.F=null}k(Ot,Pi),Ot.prototype[To]=!0,Ot.prototype.removeEventListener=function(c,d,f,m){Xv(this,c,d,f,m)};function Bt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Dt(d,c);else if(d instanceof Dt)d.target=d.target||c;else{var P=d;d=new Dt(m,c),S(d,P)}if(P=!0,f)for(var M=f.length-1;0<=M;M--){var q=d.g=f[M];P=Uc(q,m,!0,d)&&P}if(q=d.g=c,P=Uc(q,m,!0,d)&&P,P=Uc(q,m,!1,d)&&P,f)for(M=0;M<f.length;M++)q=d.g=f[M],P=Uc(q,m,!1,d)&&P}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Vc(f[m]);delete c.g[d],c.h--}}this.F=null},Ot.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ot.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Uc(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,M=0;M<d.length;++M){var q=d[M];if(q&&!q.da&&q.capture==f){var Ve=q.listener,Ct=q.ha||q.src;q.fa&&Xd(c.i,q),P=Ve.call(Ct,m)!==!1&&P}}return P&&!m.defaultPrevented}function Zv(c,d,f){if(typeof c=="function")f&&(c=_(c,f));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function ey(c){c.g=Zv(()=>{c.g=null,c.i&&(c.i=!1,ey(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class DA extends Pi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ey(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function So(c){Pi.call(this),this.h=c,this.g={}}k(So,Pi);var ty=[];function ny(c){le(c.g,function(d,f){this.g.hasOwnProperty(f)&&th(d)},c),c.g={}}So.prototype.N=function(){So.aa.N.call(this),ny(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sh=a.JSON.stringify,OA=a.JSON.parse,xA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function oh(){}oh.prototype.h=null;function iy(c){return c.h||(c.h=c.i())}function ry(){}var Ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ah(){Dt.call(this,"d")}k(ah,Dt);function ch(){Dt.call(this,"c")}k(ch,Dt);var cr={},sy=null;function jc(){return sy=sy||new Ot}cr.La="serverreachability";function oy(c){Dt.call(this,cr.La,c)}k(oy,Dt);function Po(c){let d=jc();Bt(d,new oy(d))}cr.STAT_EVENT="statevent";function ay(c,d){Dt.call(this,cr.STAT_EVENT,c),this.stat=d}k(ay,Dt);function zt(c){let d=jc();Bt(d,new ay(d,c))}cr.Ma="timingevent";function cy(c,d){Dt.call(this,cr.Ma,c),this.size=d}k(cy,Dt);function Ro(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Do(){this.g=!0}Do.prototype.xa=function(){this.g=!1};function kA(c,d,f,m,P,M){c.info(function(){if(c.g)if(M)for(var q="",Ve=M.split("&"),Ct=0;Ct<Ve.length;Ct++){var Te=Ve[Ct].split("=");if(1<Te.length){var xt=Te[0];Te=Te[1];var kt=xt.split("_");q=2<=kt.length&&kt[1]=="type"?q+(xt+"="+Te+"&"):q+(xt+"=redacted&")}}else q=null;else q=M;return"XMLHTTP REQ ("+m+") [attempt "+P+"]: "+d+`
`+f+`
`+q})}function MA(c,d,f,m,P,M,q){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+P+"]: "+d+`
`+f+`
`+M+" "+q})}function rs(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+FA(c,f)+(m?" "+m:"")})}function NA(c,d){c.info(function(){return"TIMEOUT: "+d})}Do.prototype.info=function(){};function FA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var P=m[1];if(Array.isArray(P)&&!(1>P.length)){var M=P[0];if(M!="noop"&&M!="stop"&&M!="close")for(var q=1;q<P.length;q++)P[q]=""}}}}return sh(f)}catch{return d}}var Bc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ly={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lh;function zc(){}k(zc,oh),zc.prototype.g=function(){return new XMLHttpRequest},zc.prototype.i=function(){return{}},lh=new zc;function Ri(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new So(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uy}function uy(){this.i=null,this.g="",this.h=!1}var dy={},uh={};function dh(c,d,f){c.L=1,c.v=Wc(ai(d)),c.m=f,c.P=!0,hy(c,null)}function hy(c,d){c.F=Date.now(),$c(c),c.A=ai(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Sy(f.i,"t",m),c.C=0,f=c.j.J,c.h=new uy,c.g=qy(c.j,f?d:null,!c.m),0<c.O&&(c.M=new DA(_(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(ty[0]=P.toString()),P=ty);for(var M=0;M<P.length;M++){var q=Kv(f,P[M],m||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Po(),kA(c.i,c.u,c.A,c.l,c.R,c.m)}Ri.prototype.ca=function(c){c=c.target;let d=this.M;d&&ci(c)==3?d.j():this.Y(c)},Ri.prototype.Y=function(c){try{if(c==this.g)e:{let kt=ci(this.g);var d=this.g.Ba();let as=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||ky(this.g)))){this.J||kt!=4||d==7||(d==8||0>=as?Po(3):Po(2)),hh(this);var f=this.g.Z();this.X=f;t:if(fy(this)){var m=ky(this.g);c="";var P=m.length,M=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Oo(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==P-1)});m.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,MA(this.i,this.u,this.A,this.l,this.R,kt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ct=this.g;if((Ve=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ve)){var Te=Ve;break t}}Te=null}if(f=Te)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fh(this,f);else{this.o=!1,this.s=3,zt(12),lr(this),Oo(this);break e}}if(this.P){f=!0;let bn;for(;!this.J&&this.C<q.length;)if(bn=VA(this,q),bn==uh){kt==4&&(this.s=4,zt(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==dy){this.s=4,zt(15),rs(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,bn,null),fh(this,bn);if(fy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||q.length!=0||this.h.h||(this.s=1,zt(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,q,"[Invalid Chunked Response]"),lr(this),Oo(this);else if(0<q.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),yh(xt),xt.M=!0,zt(11))}}else rs(this.i,this.l,q,null),fh(this,q);kt==4&&lr(this),this.o&&!this.J&&(kt==4?jy(this.j,this):(this.o=!1,$c(this)))}else eP(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),lr(this),Oo(this)}}}catch{}finally{}};function fy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VA(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?uh:(f=Number(d.substring(f,m)),isNaN(f)?dy:(m+=1,m+f>d.length?uh:(d=d.slice(m,m+f),c.C=m+f,d)))}Ri.prototype.cancel=function(){this.J=!0,lr(this)};function $c(c){c.S=Date.now()+c.I,py(c,c.I)}function py(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ro(_(c.ba,c),d)}function hh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ri.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(NA(this.i,this.A),this.L!=2&&(Po(),zt(17)),lr(this),this.s=2,Oo(this)):py(this,this.S-c)};function Oo(c){c.j.G==0||c.J||jy(c.j,c)}function lr(c){hh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ny(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function fh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||ph(f.h,c))){if(!c.K&&ph(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var P=m;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xc(f),Yc(f);else break e;vh(f),zt(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ro(_(f.Za,f),6e3));if(1>=_y(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else dr(f,11)}else if((c.K||f.g==c)&&Xc(f),!X(d))for(P=f.Da.g.parse(d),d=0;d<P.length;d++){let Te=P[d];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];let xt=Te[3];xt!=null&&(f.la=xt,f.j.info("VER="+f.la));let kt=Te[4];kt!=null&&(f.Aa=kt,f.j.info("SVER="+f.Aa));let as=Te[5];as!=null&&typeof as=="number"&&0<as&&(m=1.5*as,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let bn=c.g;if(bn){let Zc=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zc){var M=m.h;M.g||Zc.indexOf("spdy")==-1&&Zc.indexOf("quic")==-1&&Zc.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(mh(M,M.h),M.h=null))}if(m.D){let bh=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(m.ya=bh,ze(m.I,m.D,bh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var q=c;if(m.qa=$y(m,m.J?m.ia:null,m.W),q.K){vy(m.h,q);var Ve=q,Ct=m.L;Ct&&(Ve.I=Ct),Ve.B&&(hh(Ve),$c(Ve)),m.g=q}else Ly(m);0<f.i.length&&Qc(f)}else Te[0]!="stop"&&Te[0]!="close"||dr(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?dr(f,7):_h(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Po(4)}catch{}}var LA=class{constructor(c,d){this.g=c,this.map=d}};function my(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _y(c){return c.h?1:c.g?c.g.size:0}function ph(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function mh(c,d){c.g?c.g.add(d):c.h=d}function vy(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}my.prototype.cancel=function(){if(this.i=yy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function yy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return F(c.i)}function UA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function jA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function by(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=jA(c),m=UA(c),P=m.length,M=0;M<P;M++)d.call(void 0,m[M],f&&f[M],c)}var wy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),P=null;if(0<=m){var M=c[f].substring(0,m);P=c[f].substring(m+1)}else M=c[f];d(M,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ur){this.h=c.h,qc(this,c.j),this.o=c.o,this.g=c.g,Gc(this,c.s),this.l=c.l;var d=c.i,f=new Mo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Iy(this,f),this.m=c.m}else c&&(d=String(c).match(wy))?(this.h=!1,qc(this,d[1]||"",!0),this.o=xo(d[2]||""),this.g=xo(d[3]||"",!0),Gc(this,d[4]),this.l=xo(d[5]||"",!0),Iy(this,d[6]||"",!0),this.m=xo(d[7]||"")):(this.h=!1,this.i=new Mo(null,this.h))}ur.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ko(d,Ey,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ko(d,Ey,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ko(f,f.charAt(0)=="/"?qA:$A,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ko(f,WA)),c.join("")};function ai(c){return new ur(c)}function qc(c,d,f){c.j=f?xo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Gc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Iy(c,d,f){d instanceof Mo?(c.i=d,HA(c.i,c.h)):(f||(d=ko(d,GA)),c.i=new Mo(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Wc(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ko(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,zA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ey=/[#\/\?@]/g,$A=/[#\?:]/g,qA=/[#\?]/g,GA=/[#\?@]/g,WA=/#/g;function Mo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Di(c){c.g||(c.g=new Map,c.h=0,c.i&&BA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Mo.prototype,t.add=function(c,d){Di(this),this.i=null,c=ss(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Cy(c,d){Di(c),d=ss(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Ty(c,d){return Di(c),d=ss(c,d),c.g.has(d)}t.forEach=function(c,d){Di(this),this.g.forEach(function(f,m){f.forEach(function(P){c.call(d,P,m,this)},this)},this)},t.na=function(){Di(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let P=c[m];for(let M=0;M<P.length;M++)f.push(d[m])}return f},t.V=function(c){Di(this);let d=[];if(typeof c=="string")Ty(this,c)&&(d=d.concat(this.g.get(ss(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Di(this),this.i=null,c=ss(this,c),Ty(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Sy(c,d,f){Cy(c,d),0<f.length&&(c.i=null,c.g.set(ss(c,d),F(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),q=this.V(m);for(m=0;m<q.length;m++){var P=M;q[m]!==""&&(P+="="+encodeURIComponent(String(q[m]))),c.push(P)}}return this.i=c.join("&")};function ss(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function HA(c,d){d&&!c.j&&(Di(c),c.i=null,c.g.forEach(function(f,m){var P=m.toLowerCase();m!=P&&(Cy(this,m),Sy(this,P,f))},c)),c.j=d}function KA(c,d){let f=new Do;if(a.Image){let m=new Image;m.onload=C(Oi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=C(Oi,f,"TestLoadImage: error",!1,d,m),m.onabort=C(Oi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=C(Oi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function YA(c,d){let f=new Do,m=new AbortController,P=setTimeout(()=>{m.abort(),Oi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(P),M.ok?Oi(f,"TestPingServer: ok",!0,d):Oi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),Oi(f,"TestPingServer: error",!1,d)})}function Oi(c,d,f,m,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),m(f)}catch{}}function QA(){this.g=new xA}function XA(c,d,f){let m=f||"";try{by(c,function(P,M){let q=P;u(P)&&(q=sh(P)),d.push(m+M+"="+encodeURIComponent(q))})}catch(P){throw d.push(m+"type="+encodeURIComponent("_badmap")),P}}function No(c){this.l=c.Ub||null,this.j=c.eb||!1}k(No,oh),No.prototype.g=function(){return new Hc(this.l,this.j)},No.prototype.i=function(c){return function(){return c}}({});function Hc(c,d){Ot.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Hc,Ot),t=Hc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Vo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ay(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ay(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Fo(this):Vo(this),this.readyState==3&&Ay(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fo(this))},t.Qa=function(c){this.g&&(this.response=c,Fo(this))},t.ga=function(){this.g&&Fo(this)};function Fo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Vo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Vo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Py(c){let d="";return le(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function gh(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Py(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Xe(c){Ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Xe,Ot);var JA=/^https?$/i,ZA=["POST","PUT"];t=Xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lh.g(),this.v=this.o?iy(this.o):iy(lh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){Ry(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var P in m)f.set(P,m[P]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZA,d,void 0))||m||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,q]of f)this.g.setRequestHeader(M,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xy(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){Ry(this,M)}};function Ry(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Dy(c),Kc(c)}function Dy(c){c.A||(c.A=!0,Bt(c,"complete"),Bt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Bt(this,"complete"),Bt(this,"abort"),Kc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kc(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oy(this):this.bb())},t.bb=function(){Oy(this)};function Oy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ci(c)!=4||c.Z()!=2)){if(c.u&&ci(c)==4)Zv(c.Ea,0,c);else if(Bt(c,"readystatechange"),ci(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=q===0){var P=String(c.D).match(wy)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),m=!JA.test(P?P.toLowerCase():"")}f=m}if(f)Bt(c,"complete"),Bt(c,"success");else{c.m=6;try{var M=2<ci(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",Dy(c)}}finally{Kc(c)}}}}function Kc(c,d){if(c.g){xy(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Bt(c,"ready");try{f.onreadystatechange=m}catch{}}}function xy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),OA(d)}};function ky(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eP(c){let d={};c=(c.g&&2<=ci(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(X(c[m]))continue;var f=A(c[m]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[P]||[];d[P]=M,M.push(f)}T(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function My(c){this.Aa=0,this.i=[],this.j=new Do,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,c),this.cb=Lo("retryDelaySeedMs",1e4,c),this.Wa=Lo("forwardChannelMaxRetries",2,c),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new my(c&&c.concurrentRequestLimit),this.Da=new QA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=My.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){zt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=$y(this,null,this.W),Qc(this)};function _h(c){if(Ny(c),c.G==3){var d=c.U++,f=ai(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Uo(c,f),d=new Ri(c,c.j,d),d.L=2,d.v=Wc(ai(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=qy(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$c(d)}zy(c)}function Yc(c){c.g&&(yh(c),c.g.cancel(),c.g=null)}function Ny(c){Yc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qc(c){if(!gy(c.h)&&!c.s){c.s=!0;var d=c.Ga;Io||Hv(),Eo||(Io(),Eo=!0),Qd.add(d,c),c.B=0}}function tP(c,d){return _y(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ro(_(c.Ga,c,d),By(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new Ri(this,this.j,c),M=this.o;if(this.S&&(M?(M=b(M),S(M,this.S)):M=this.S),this.m!==null||this.O||(P.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Vy(this,P,d),f=ai(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Uo(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(Py(M)))+"&"+d:this.m&&gh(f,this.m,M)),mh(this.h,P),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),P.T=!0,dh(P,f,null)):dh(P,f,d),this.G=2}}else this.G==3&&(c?Fy(this,c):this.i.length==0||gy(this.h)||Fy(this))};function Fy(c,d){var f;d?f=d.l:f=c.U++;let m=ai(c.I);ze(m,"SID",c.K),ze(m,"RID",f),ze(m,"AID",c.T),Uo(c,m),c.m&&c.o&&gh(m,c.m,c.o),f=new Ri(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Vy(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mh(c.h,f),dh(f,m,d)}function Uo(c,d){c.H&&le(c.H,function(f,m){ze(d,m,f)}),c.l&&by({},function(f,m){ze(d,m,f)})}function Vy(c,d,f){f=Math.min(c.i.length,f);var m=c.l?_(c.l.Na,c.l,c):null;e:{var P=c.i;let M=-1;for(;;){let q=["count="+f];M==-1?0<f?(M=P[0].g,q.push("ofs="+M)):M=0:q.push("ofs="+M);let Ve=!0;for(let Ct=0;Ct<f;Ct++){let Te=P[Ct].g,xt=P[Ct].map;if(Te-=M,0>Te)M=Math.max(0,P[Ct].g-100),Ve=!1;else try{XA(xt,q,"req"+Te+"_")}catch{m&&m(xt)}}if(Ve){m=q.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Ly(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Io||Hv(),Eo||(Io(),Eo=!0),Qd.add(d,c),c.v=0}}function vh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ro(_(c.Fa,c),By(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Uy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ro(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Yc(this),Uy(this))};function yh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Uy(c){c.g=new Ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=ai(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Uo(c,d),c.m&&c.o&&gh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Wc(ai(d)),f.m=null,f.P=!0,hy(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),vh(this),zt(19))};function Xc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function jy(c,d){var f=null;if(c.g==d){Xc(c),yh(c),c.g=null;var m=2}else if(ph(c.h,d))f=d.D,vy(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var P=c.B;m=jc(),Bt(m,new cy(m,f)),Qc(c)}else Ly(c);else if(P=d.s,P==3||P==0&&0<d.X||!(m==1&&tP(c,d)||m==2&&vh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),P){case 1:dr(c,5);break;case 4:dr(c,10);break;case 3:dr(c,6);break;default:dr(c,2)}}}function By(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function dr(c,d){if(c.j.info("Error code "+d),d==2){var f=_(c.fb,c),m=c.Xa;let P=!m;m=new ur(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qc(m,"https"),Wc(m),P?KA(m.toString(),f):YA(m.toString(),f)}else zt(2);c.G=0,c.l&&c.l.sa(d),zy(c),Ny(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function zy(c){if(c.G=0,c.ka=[],c.l){let d=yy(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function $y(c,d,f){var m=f instanceof ur?ai(f):new ur(f);if(m.g!="")d&&(m.g=d+"."+m.g),Gc(m,m.s);else{var P=a.location;m=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var M=new ur(null);m&&qc(M,m),d&&(M.g=d),P&&Gc(M,P),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&ze(m,f,d),ze(m,"VER",c.la),Uo(c,m),m}function qy(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Xe(new No({eb:f})):new Xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gy(){}t=Gy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jc(){}Jc.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){Ot.call(this),this.g=new My(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!X(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new os(this)}k(Yt,Ot),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){_h(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=sh(c),c=f);d.i.push(new LA(d.Ya++,c)),d.G==3&&Qc(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Yt.aa.N.call(this)};function Wy(c){ah.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}k(Wy,ah);function Hy(){ch.call(this),this.status=1}k(Hy,ch);function os(c){this.g=c}k(os,Gy),os.prototype.ua=function(){Bt(this.g,"a")},os.prototype.ta=function(c){Bt(this.g,new Wy(c))},os.prototype.sa=function(c){Bt(this.g,new Hy)},os.prototype.ra=function(){Bt(this.g,"b")},Jc.prototype.createWebChannel=Jc.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Qm=wi.createWebChannelTransport=function(){return new Jc},Ym=wi.getStatEventTarget=function(){return jc()},Km=wi.Event=cr,Bu=wi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bc.NO_ERROR=0,Bc.TIMEOUT=8,Bc.HTTP_ERROR=6,tc=wi.ErrorCode=Bc,ly.COMPLETE="complete",Hm=wi.EventType=ly,ry.EventType=Ao,Ao.OPEN="a",Ao.CLOSE="b",Ao.ERROR="c",Ao.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,qs=wi.WebChannel=ry,Wm=wi.FetchXmlHttpFactory=No,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Gm=wi.XhrIo=Xe}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});var dE="@firebase/firestore";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var uo="10.12.3";var qr=new Yi("@firebase/firestore");function nc(){return qr.logLevel}function Z(t,...e){if(qr.logLevel<=Ie.DEBUG){let n=e.map(k_);qr.debug(`Firestore (${uo}): ${t}`,...n)}}function Ei(t,...e){if(qr.logLevel<=Ie.ERROR){let n=e.map(k_);qr.error(`Firestore (${uo}): ${t}`,...n)}}function Xs(t,...e){if(qr.logLevel<=Ie.WARN){let n=e.map(k_);qr.warn(`Firestore (${uo}): ${t}`,...n)}}function k_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ae(t="Unexpected state"){let e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function Be(t,e){t||ae()}function fe(t,e){return t}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}},ng=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ig=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),s=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>g(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string"),new Wu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Et(e)}},rg=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sg=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new rg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},og=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ag=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new og(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function ON(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Hu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=ON(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function Pe(t,e){return t<e?-1:t>e?1:0}function Js(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Pt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Pt(0,0))}static max(){return new t(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ku=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ae(),i===void 0?i=e.length-n:i>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ye=class t extends Ku{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new Q(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},xN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class t extends Ku{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return xN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new Q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var se=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ye.fromString(e))}static fromName(e){return new t(Ye.fromString(e).popFirst(5))}static empty(){return new t(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ye(e.slice()))}};var cg=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};cg.UNKNOWN_ID=-1;function kN(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=_e.fromTimestamp(i===1e9?new Pt(n+1,0):new Pt(n,i));return new Gr(r,se.empty(),e)}function MN(t){return new Gr(t.readTime,t.key,-1)}var Gr=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(_e.min(),se.empty(),-1)}static max(){return new t(_e.max(),se.empty(),-1)}};function NN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}var FN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ec(t){return g(this,null,function*(){if(t.code!==V.FAILED_PRECONDITION||t.message!==FN)throw t;Z("LocalStore","Unexpectedly lost primary lease")})}var B=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};function VN(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}var $E=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Cd(t){return t==null}function cc(t){return t===0&&1/t==-1/0}function LN(t){return typeof t=="number"&&Number.isInteger(t)&&!cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var UN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],C3=[...UN,"documentOverlays"],jN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BN=jN,T3=[...BN,"indexConfiguration","indexState","indexEntries"];function hE(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var it=class t{constructor(e,n){this.comparator=e,this.root=n||Xn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ks(this.root,e,this.comparator,!0)}},Ks=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xn=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Lt=class t{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yu(this.data.getIterator())}getIteratorFrom(e){return new Yu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class t{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Lt(sn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Qu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qu("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qt.EMPTY_BYTE_STRING=new qt("");var zN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(t){if(Be(!!t),typeof t=="string"){let e=0,n=zN.exec(t);if(Be(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ir(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}function M_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function N_(t){let e=t.mapValue.fields.__previous_value__;return M_(e)?N_(e):e}function lc(t){let e=Ci(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}var ug=class{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Xu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M_(t)?4:GE(t)?9007199254740991:10:ae()}function ei(t,e){if(t===e)return!0;let n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lc(t).isEqual(lc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Ci(r.timestampValue),a=Ci(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ir(r.bytesValue).isEqual(ir(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return nt(r.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return nt(r.integerValue)===nt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=nt(r.doubleValue),a=nt(s.doubleValue);return o===a?cc(o)===cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Js(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(hE(o)!==hE(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ei(o[l],a[l])))return!1;return!0}(t,e);default:return ae()}}function uc(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Zs(t,e){if(t===e)return 0;let n=Wr(t),i=Wr(e);if(n!==i)return Pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=nt(s.integerValue||s.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return fE(t.timestampValue,e.timestampValue);case 4:return fE(lc(t),lc(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ir(s),l=ir(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=Pe(a[u],l[u]);if(h!==0)return h}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Pe(nt(s.latitude),nt(o.latitude));return a!==0?a:Pe(nt(s.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){let h=Zs(a[u],l[u]);if(h)return h}return Pe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zu.mapValue&&o===zu.mapValue)return 0;if(s===zu.mapValue)return 1;if(o===zu.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let _=Pe(l[p],h[p]);if(_!==0)return _;let C=Zs(a[l[p]],u[h[p]]);if(C!==0)return C}return Pe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function fE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);let n=Ci(t),i=Ci(e),r=Pe(n.seconds,i.seconds);return r!==0?r:Pe(n.nanos,i.nanos)}function eo(t){return dg(t)}function dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Ci(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=dg(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${dg(n.fields[o])}`;return r+"}"}(t.mapValue):ae()}function pE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hg(t){return!!t&&"integerValue"in t}function F_(t){return!!t&&"arrayValue"in t}function mE(t){return!!t&&"nullValue"in t}function gE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qu(t){return!!t&&"mapValue"in t}function rc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Jr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=rc(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!qu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rc(n)}setAll(e){let n=sn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=rc(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());qu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];qu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Jr(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(rc(this.value))}};function WE(t){let e=[];return Jr(t.fields,(n,i)=>{let r=new sn([n]);if(qu(i)){let s=WE(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new vn(e)}var On=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,_e.min(),_e.min(),_e.min(),rn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,_e.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,_e.min(),_e.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,_e.min(),_e.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var to=class{constructor(e,n){this.position=e,this.inclusive=n}};function _E(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=se.comparator(se.fromName(o.referenceValue),n.key):i=Zs(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function vE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}var no=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $N(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ju=class{},ft=class t extends Ju{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new pg(e,n,i):n==="array-contains"?new _g(e,i):n==="in"?new vg(e,i):n==="not-in"?new yg(e,i):n==="array-contains-any"?new bg(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new mg(e,i):new gg(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zs(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(Zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xn=class t extends Ju{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return HE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function HE(t){return t.op==="and"}function KE(t){return qN(t)&&HE(t)}function qN(t){for(let e of t.filters)if(e instanceof xn)return!1;return!0}function fg(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+eo(t.value);if(KE(t))return t.filters.map(e=>fg(e)).join(",");{let e=t.filters.map(n=>fg(n)).join(",");return`${t.op}(${e})`}}function YE(t,e){return t instanceof ft?function(i,r){return r instanceof ft&&i.op===r.op&&i.field.isEqual(r.field)&&ei(i.value,r.value)}(t,e):t instanceof xn?function(i,r){return r instanceof xn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&YE(o,r.filters[a]),!0):!1}(t,e):void ae()}function QE(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"}(t):"Filter"}var pg=class extends ft{constructor(e,n,i){super(e,n,i),this.key=se.fromName(i.referenceValue)}matches(e){let n=se.comparator(e.key,this.key);return this.matchesComparison(n)}},mg=class extends ft{constructor(e,n){super(e,"in",n),this.keys=XE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gg=class extends ft{constructor(e,n){super(e,"not-in",n),this.keys=XE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function XE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>se.fromName(i.referenceValue))}var _g=class extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return F_(n)&&uc(n.arrayValue,this.value)}},vg=class extends ft{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}},yg=class extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!uc(this.value.arrayValue,n)}},bg=class extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!F_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>uc(this.value.arrayValue,i))}};var wg=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function yE(t,e=null,n=[],i=[],r=null,s=null,o=null){return new wg(t,e,n,i,r,s,o)}function V_(t){let e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>eo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>eo(i)).join(",")),e.ue=n}return e.ue}function L_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$N(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vE(t.startAt,e.startAt)&&vE(t.endAt,e.endAt)}function Ig(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Hr=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function GN(t,e,n,i,r,s,o,a){return new Hr(t,e,n,i,r,s,o,a)}function Td(t){return new Hr(t)}function bE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JE(t){return t.collectionGroup!==null}function sc(t){let e=fe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(sn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new no(s,i))}),n.has(sn.keyField().canonicalString())||e.ce.push(new no(sn.keyField(),i))}return e.ce}function Jn(t){let e=fe(t);return e.le||(e.le=WN(e,sc(t))),e.le}function WN(t,e){if(t.limitType==="F")return yE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new no(r.field,s)});let n=t.endAt?new to(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new to(t.startAt.position,t.startAt.inclusive):null;return yE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Eg(t,e){let n=t.filters.concat([e]);return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cg(t,e,n){return new Hr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sd(t,e){return L_(Jn(t),Jn(e))&&t.limitType===e.limitType}function ZE(t){return`${V_(Jn(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>QE(r)).join(", ")}]`),Cd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>eo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>eo(r)).join(",")),`Target(${i})`}(Jn(t))}; limitType=${t.limitType})`}function Ad(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):se.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of sc(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let u=_E(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,sc(i),r)||i.endAt&&!function(o,a,l){let u=_E(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,sc(i),r))}(t,e)}function HN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eC(t){return(e,n)=>{let i=!1;for(let r of sc(t)){let s=KN(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function KN(t,e,n){let i=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Zs(l,u):ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ae()}}var rr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return qE(this.inner)}size(){return this.innerSize}};var YN=new it(se.comparator);function Ti(){return YN}var tC=new it(se.comparator);function ic(...t){let e=tC;for(let n of t)e=e.insert(n.key,n);return e}function nC(t){let e=tC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Br(){return oc()}function iC(){return oc()}function oc(){return new rr(t=>t.toString(),(t,e)=>t.isEqual(e))}var QN=new it(se.comparator),XN=new Lt(se.comparator);function Ee(...t){let e=XN;for(let n of t)e=e.add(n);return e}var JN=new Lt(Pe);function ZN(){return JN}function rC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function eF(t,e){return LN(e)?sC(e):rC(t,e)}var io=class{constructor(){this._=void 0}};function tF(t,e,n){return t instanceof ro?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&M_(s)&&(s=N_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Kr?aC(t,e):t instanceof Yr?cC(t,e):function(r,s){let o=oC(r,s),a=wE(o)+wE(r.Pe);return hg(o)&&hg(r.Pe)?sC(a):rC(r.serializer,a)}(t,e)}function nF(t,e,n){return t instanceof Kr?aC(t,e):t instanceof Yr?cC(t,e):n}function oC(t,e){return t instanceof so?function(i){return hg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var ro=class extends io{},Kr=class extends io{constructor(e){super(),this.elements=e}};function aC(t,e){let n=lC(e);for(let i of t.elements)n.some(r=>ei(r,i))||n.push(i);return{arrayValue:{values:n}}}var Yr=class extends io{constructor(e){super(),this.elements=e}};function cC(t,e){let n=lC(e);for(let i of t.elements)n=n.filter(r=>!ei(r,i));return{arrayValue:{values:n}}}var so=class extends io{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function wE(t){return nt(t.integerValue||t.doubleValue)}function lC(t){return F_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iF(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Kr&&r instanceof Kr||i instanceof Yr&&r instanceof Yr?Js(i.elements,r.elements,ei):i instanceof so&&r instanceof so?ei(i.Pe,r.Pe):i instanceof ro&&r instanceof ro}(t.transform,e.transform)}var Tg=class{constructor(e,n){this.version=e,this.transformResults=n}},Ii=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var oo=class{};function uC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dc(t.key,Ii.none()):new Qr(t.key,t.data,Ii.none());{let n=t.data,i=rn.empty(),r=new Lt(sn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ti(t.key,i,new vn(r.toArray()),Ii.none())}}function rF(t,e,n){t instanceof Qr?function(r,s,o){let a=r.value.clone(),l=EE(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(r,s,o){if(!Gu(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=EE(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dC(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,i){return t instanceof Qr?function(s,o,a,l){if(!Gu(s.precondition,o))return a;let u=s.value.clone(),h=CE(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof ti?function(s,o,a,l){if(!Gu(s.precondition,o))return a;let u=CE(s.fieldTransforms,l,o),h=o.data;return h.setAll(dC(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(s,o,a){return Gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sF(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=oC(i.transform,r||null);s!=null&&(n===null&&(n=rn.empty()),n.set(i.field,s))}return n||null}function IE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Js(i,r,(s,o)=>iF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qr=class extends oo{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ti=class extends oo{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function EE(t,e,n){let i=new Map;Be(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,nF(o,a,n[r]))}return i}function CE(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,tF(s,o,e))}return i}var dc=class extends oo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sg=class extends oo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ag=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&rF(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=ac(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=ac(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=iC();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let l=uC(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(n,i)=>IE(n,i))&&Js(this.baseMutations,e.baseMutations,(n,i)=>IE(n,i))}},Pg=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Be(e.mutations.length===i.length);let r=function(){return QN}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var Rg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Dg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var dt,Ce;function oF(t){switch(t){default:return ae();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function hC(t){if(t===void 0)return Ei("GRPC error has no .code"),V.UNKNOWN;switch(t){case dt.OK:return V.OK;case dt.CANCELLED:return V.CANCELLED;case dt.UNKNOWN:return V.UNKNOWN;case dt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case dt.INTERNAL:return V.INTERNAL;case dt.UNAVAILABLE:return V.UNAVAILABLE;case dt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case dt.NOT_FOUND:return V.NOT_FOUND;case dt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case dt.ABORTED:return V.ABORTED;case dt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case dt.DATA_LOSS:return V.DATA_LOSS;default:return ae()}}(Ce=dt||(dt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var TE=null;function aF(){return new TextEncoder}var cF=new tr([4294967295,4294967295],0);function SE(t){let e=aF().encode(t),n=new qm;return n.update(e),new Uint8Array(n.digest())}function AE(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new tr([n,i],0),new tr([r,s],0)]}var Og=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new zr(`Invalid padding: ${n}`);if(i<0)throw new zr(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new zr(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new zr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=tr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(tr.fromNumber(i)));return r.compare(cF)===1&&(r=new tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=SE(e),[i,r]=AE(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=SE(e),[i,r]=AE(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},zr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zu=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(_e.min(),r,new it(Pe),Ti(),Ee())}},hc=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Ee(),Ee(),Ee())}};var Ys=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},ed=class{constructor(e,n){this.targetId=e,this.me=n}},td=class{constructor(e,n,i=qt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},nd=class{constructor(){this.fe=0,this.ge=RE(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ee(),n=Ee(),i=Ee();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ae()}}),new hc(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=RE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},xg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ti(),this.qe=PE(),this.Qe=new it(Pe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let s=r.target;if(Ig(s))if(i===0){let o=new se(s.path);this.Ue(n,o,On.newNoDocument(o,_e.min()))}else Be(i===1);else{let o=this.Ye(n);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}TE?.et(function(h,p,_,C,k){var F,x,z,X,H,J;let Ne={localCacheCount:h,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},le=p.unchangedNames;return le&&(Ne.bloomFilter={applied:k===0,hashCount:(F=le?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(X=(z=(x=le?.bits)===null||x===void 0?void 0:x.bitmap)===null||z===void 0?void 0:z.length)!==null&&X!==void 0?X:0,padding:(J=(H=le?.bits)===null||H===void 0?void 0:H.padding)!==null&&J!==void 0?J:0,mightContain:T=>{var b;return(b=C?.mightContain(T))!==null&&b!==void 0&&b}}),Ne}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=ir(i).toUint8Array()}catch(l){if(l instanceof Qu)return Xs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Og(o,r,s)}catch(l){return Xs(l instanceof zr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Ig(a.target)){let l=new se(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,On.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let i=Ee();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Zu(e,n,this.Qe,this.ke,i);return this.ke=Ti(),this.qe=PE(),this.Qe=new it(Pe),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function PE(){return new it(se.comparator)}function RE(){return new it(se.comparator)}var lF={asc:"ASCENDING",desc:"DESCENDING"},uF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dF={and:"AND",or:"OR"},kg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Mg(t,e){return t.useProto3Json||Cd(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hF(t,e){return id(t,e.toTimestamp())}function Zn(t){return Be(!!t),_e.fromTimestamp(function(n){let i=Ci(n);return new Pt(i.seconds,i.nanos)}(t))}function U_(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){let n=function(r){return new Ye(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){let e=Ye.fromString(t);return Be(yC(e)),e}function Fg(t,e){return U_(t.databaseId,e.path)}function Xm(t,e){let n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(gC(n))}function mC(t,e){return U_(t.databaseId,e)}function fF(t){let e=pC(t);return e.length===4?Ye.emptyPath():gC(e)}function Vg(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gC(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DE(t,e,n){return{name:Fg(t,e),fields:n.value.mapValue.fields}}function pF(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Be(h===void 0||typeof h=="string"),qt.fromBase64String(h||"")):(Be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),qt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let h=u.code===void 0?V.UNKNOWN:hC(u.code);return new Q(h,u.message||"")}(o);n=new td(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Xm(t,i.document.name),s=Zn(i.document.updateTime),o=i.document.createTime?Zn(i.document.createTime):_e.min(),a=new rn({mapValue:{fields:i.document.fields}}),l=On.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];n=new Ys(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Xm(t,i.document),s=i.readTime?Zn(i.readTime):_e.min(),o=On.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Ys([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Xm(t,i.document),s=i.removedTargetIds||[];n=new Ys([],s,r,null)}else{if(!("filter"in e))return ae();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new Dg(r,s),a=i.targetId;n=new ed(a,o)}}return n}function mF(t,e){let n;if(e instanceof Qr)n={update:DE(t,e.key,e.value)};else if(e instanceof dc)n={delete:Fg(t,e.key)};else if(e instanceof ti)n={update:DE(t,e.key,e.data),updateMask:CF(e.fieldMask)};else{if(!(e instanceof Sg))return ae();n={verify:Fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof so)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:hF(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function gF(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Zn(r.updateTime):Zn(s);return o.isEqual(_e.min())&&(o=Zn(s)),new Tg(o,r.transformResults||[])}(n,e))):[]}function _F(t,e){return{documents:[mC(t,e.path)]}}function vF(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=mC(t,r);let s=function(u){if(u.length!==0)return vC(xn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(h=>function(_){return{field:Ws(_.field),direction:wF(_.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Mg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function yF(t){let e=fF(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Be(i===1);let h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let _=_C(p);return _ instanceof xn&&KE(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(_=>function(k){return new no(Hs(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(p){let _;return _=typeof p=="object"?p.value:p,Cd(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(p){let _=!!p.before,C=p.values||[];return new to(C,_)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let _=!p.before,C=p.values||[];return new to(C,_)}(n.endAt)),GN(e,r,o,s,a,"F",l,u)}function bF(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _C(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Hs(n.unaryFilter.field);return ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Hs(n.unaryFilter.field);return ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Hs(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Hs(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(Hs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(i=>_C(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function wF(t){return lF[t]}function IF(t){return uF[t]}function EF(t){return dF[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Hs(t){return sn.fromServerFormat(t.fieldPath)}function vC(t){return t instanceof ft?function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:Ws(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(n.field),op:IF(n.op),value:n.value}}}(t):t instanceof xn?function(n){let i=n.getFilters().map(r=>vC(r));return i.length===1?i[0]:{compositeFilter:{op:EF(n.op),filters:i}}}(t):ae()}function CF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fc=class t{constructor(e,n,i,r,s=_e.min(),o=_e.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Lg=class{constructor(e){this.ct=e}};function TF(t){let e=yF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cg(e,e.limit,"L"):e}var rd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(nt(e.integerValue));else if("doubleValue"in e){let i=nt(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),cc(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Ci(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(ir(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?GE(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):ae()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),se.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};rd.bt=new rd;var Ug=class{constructor(){this._n=new jg}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Gr.min())}updateCollectionGroup(e,n,i){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}},jg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Lt(Ye.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Lt(Ye.comparator)).toArray()}};var A3=new Uint8Array(0);var Qn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(41943040,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);var pc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Bg=class{constructor(){this.changes=new rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?B.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $g=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ac(i.mutation,r,vn.empty(),Pt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ee()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ee()){let r=Br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ic();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ee()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ti(),o=oc(),a=function(){return oc()}();return n.forEach((l,u)=>{let h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof ti)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ac(h.mutation,u,h.mutation.getFieldMask(),Pt.now())):o.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new zg(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let i=oc(),r=new it((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let h=i.get(l)||vn.empty();h=a.applyToLocalView(u,h),i.set(l,h);let p=(r.get(a.batchId)||Ee()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=iC();h.forEach(_=>{if(!s.has(_)){let C=uC(n.get(_),i.get(_));C!==null&&p.set(_,C),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):B.resolve(Br()),a=-1,l=s;return o.next(u=>B.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{l=l.insert(h,_)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ee())).next(h=>({batchId:a,changes:nC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(i=>{let r=ic();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=ic();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{let u=function(p,_){return new Hr(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((p,_)=>{o=o.insert(p,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,u)=>{let h=u.getKey();o.get(h)===null&&(o=o.insert(h,On.newInvalidDocument(h)))});let a=ic();return o.forEach((l,u)=>{let h=s.get(l);h!==void 0&&ac(h.mutation,u,vn.empty(),Pt.now()),Ad(n,u)&&(a=a.insert(l,u))}),a})}};var qg=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Zn(r.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:TF(r.bundledQuery),readTime:Zn(r.readTime)}}(n)),B.resolve()}};var Gg=class{constructor(){this.overlays=new it(se.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Br();return B.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),B.resolve()}getOverlaysForCollection(e,n,i){let r=Br(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return B.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new it((u,h)=>u-h),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=Br(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Br(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return B.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Rg(n,i));let s=this.hr.get(n);s===void 0&&(s=Ee(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var mc=class{constructor(){this.Pr=new Lt(ht.Ir),this.Tr=new Lt(ht.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new ht(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new ht(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new se(new Ye([])),i=new ht(n,e),r=new ht(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new se(new Ye([])),i=new ht(n,e),r=new ht(n,e+1),s=Ee();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ht(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},ht=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Pe(e.pr,n.pr)}static Er(e,n){return Pe(e.pr,n.pr)||se.comparator(e.key,n.key)}};var Wg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(ht.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ag(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new ht(n,0),r=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Lt(Pe);return n.forEach(r=>{let s=new ht(r,0),o=new ht(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),B.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;se.isDocumentKey(s)||(s=s.child(""));let o=new ht(new se(s),0),a=new Lt(Pe);return this.wr.forEachWhile(l=>{let u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return B.forEach(n.mutations,r=>{let s=new ht(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new ht(n,0),r=this.wr.firstAfterOrEqual(i);return B.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Hg=class{constructor(e){this.vr=e,this.docs=function(){return new it(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return B.resolve(i?i.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let i=Ti();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():On.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ti(),o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||NN(MN(h),i)<=0||(r.has(h.key)||Ad(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ae()}Fr(e,n){return B.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Kg(this)}getSize(e){return B.resolve(this.size)}},Kg=class extends Bg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Yg=class{constructor(e){this.persistence=e,this.Mr=new rr(n=>V_(n),L_),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new mc,this.targetCount=0,this.Lr=pc.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new pc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(s).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return B.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),B.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return B.resolve(i)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}};var Qg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new $E(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Yg(this),this.indexManager=new Ug,this.remoteDocumentCache=function(r){return new Hg(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Lg(n),this.$r=new qg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new Wg(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){Z("MemoryPersistence","Starting transaction:",e);let r=new Xg(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},Xg=class extends lg{constructor(e){super(),this.currentSequenceNumber=e}},Jg=class t{constructor(e){this.persistence=e,this.zr=new mc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),B.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,i=>{let r=se.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,_e.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Zg=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Ee(),r=Ee();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var e_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var t_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $w()?8:VN(vt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new e_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(nc()<=Ie.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):(nc()<=Ie.DEBUG&&Z("QueryEngine","Query:",Gs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(nc()<=Ie.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):B.resolve())}ji(e,n){if(bE(n))return B.resolve(null);let i=Jn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Cg(n,null,"F"),i=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ee(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Cg(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,i,r){return bE(n)||r.isEqual(_e.min())?B.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?B.resolve(null):(nc()<=Ie.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gs(n)),this.es(e,o,n,kN(r,-1)).next(a=>a))})}Zi(e,n){let i=new Lt(eC(e));return n.forEach((r,s)=>{Ad(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return nc()<=Ie.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.zi.getDocumentsMatchingQuery(e,n,Gr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var n_=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new it(Pe),this.rs=new rr(s=>V_(s),L_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $g(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function SF(t,e,n,i){return new n_(t,e,n,i)}function bC(t,e){return g(this,null,function*(){let n=fe(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Ee();for(let u of r){o.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of s){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function AF(t,e){let n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,_=p.keys(),C=B.resolve();return _.forEach(k=>{C=C.next(()=>h.getEntry(l,k)).next(F=>{let x=u.docVersions.get(k);Be(x!==null),F.version.compareTo(x)<0&&(p.applyToRemoteDocument(F,u),F.isValidDocument()&&(F.setReadTime(u.commitVersion),h.addEntry(F)))})}),C.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function wC(t){let e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function PF(t,e){let n=fe(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((h,p)=>{let _=r.get(p);if(!_)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,p)));let C=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?C=C.withResumeToken(qt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(h.resumeToken,i)),r=r.insert(p,C),function(F,x,z){return F.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(_,C,h)&&a.push(n.Qr.updateTargetData(s,C))});let l=Ti(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(RF(s,o,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!i.isEqual(_e.min())){let h=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=r,s))}function RF(t,e,n){let i=Ee(),r=Ee();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ti();return n.forEach((a,l)=>{let u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:r}})}function DF(t,e){let n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OF(t,e){let n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,B.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new fc(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function i_(t,e,n){return g(this,null,function*(){let i=fe(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Cc(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function OE(t,e,n){let i=fe(t),r=_e.min(),s=Ee();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){let p=fe(l),_=p.rs.get(h);return _!==void 0?B.resolve(p.ns.get(_)):p.Qr.getTargetData(u,h)}(i,o,Jn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:_e.min(),n?s:Ee())).next(a=>(xF(i,HN(e),a),{documents:a,hs:s})))}function xF(t,e,n){let i=t.ss.get(e)||_e.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var sd=class{constructor(){this.activeTargetIds=ZN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var r_=class{constructor(){this.no=new sd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new sd,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var s_=class{io(e){}shutdown(){}};var od=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $u=null;function Jm(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}var kF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var o_=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Vt="WebChannelConnection",a_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){let a=Jm(),l=this.vo(n,i.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,r).then(h=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Xs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){let r=kF[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let s=Jm();return new Promise((o,a)=>{let l=new Gm;l.setWithCredentials(!0),l.listenOnce(Hm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tc.NO_ERROR:let h=l.getResponseJson();Z(Vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case tc.TIMEOUT:Z(Vt,`RPC '${e}' ${s} timed out`),a(new Q(V.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:let p=l.getStatus();if(Z(Vt,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let C=_?.error;if(C&&C.status&&C.message){let k=function(x){let z=x.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(z)>=0?z:V.UNKNOWN}(C.status);a(new Q(k,C.message))}else a(new Q(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(V.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Z(Vt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);Z(Vt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Oo(e,n,i){let r=Jm(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Qm(),a=Ym(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Wm({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;let h=s.join("");Z(Vt,`Creating RPC '${e}' stream ${r}: ${h}`,l);let p=o.createWebChannel(h,l),_=!1,C=!1,k=new o_({lo:x=>{C?Z(Vt,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(_||(Z(Vt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),_=!0),Z(Vt,`RPC '${e}' stream ${r} sending:`,x),p.send(x))},ho:()=>p.close()}),F=(x,z,X)=>{x.listen(z,H=>{try{X(H)}catch(J){setTimeout(()=>{throw J},0)}})};return F(p,qs.EventType.OPEN,()=>{C||(Z(Vt,`RPC '${e}' stream ${r} transport opened.`),k.mo())}),F(p,qs.EventType.CLOSE,()=>{C||(C=!0,Z(Vt,`RPC '${e}' stream ${r} transport closed`),k.po())}),F(p,qs.EventType.ERROR,x=>{C||(C=!0,Xs(Vt,`RPC '${e}' stream ${r} transport errored:`,x),k.po(new Q(V.UNAVAILABLE,"The operation could not be completed")))}),F(p,qs.EventType.MESSAGE,x=>{var z;if(!C){let X=x.data[0];Be(!!X);let H=X,J=H.error||((z=H[0])===null||z===void 0?void 0:z.error);if(J){Z(Vt,`RPC '${e}' stream ${r} received error:`,J);let Ne=J.status,le=function(w){let S=dt[w];if(S!==void 0)return hC(S)}(Ne),T=J.message;le===void 0&&(le=V.INTERNAL,T="Unknown error status: "+Ne+" with message "+J.message),C=!0,k.po(new Q(le,T)),p.close()}else Z(Vt,`RPC '${e}' stream ${r} received:`,X),k.yo(X)}}),F(a,Km.STAT_EVENT,x=>{x.stat===Bu.PROXY?Z(Vt,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===Bu.NOPROXY&&Z(Vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}};function Zm(){return typeof document<"u"?document:null}function Pd(t){return new kg(t,!0)}var ad=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&Z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var cd=class{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ad(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return g(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return g(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return g(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new Q(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>g(this,null,function*(){this.state=0,this.start()}))}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},c_=class extends cd{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=pF(this.serializer,e),i=function(s){if(!("targetChange"in s))return _e.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?Zn(o.readTime):_e.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=Vg(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=Ig(l)?{documents:_F(s,l)}:{query:vF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fC(s,o.resumeToken);let u=Mg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=id(s,o.snapshotVersion.toTimestamp());let u=Mg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=bF(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=Vg(this.serializer),n.removeTarget=e,this.i_(n)}},l_=class extends cd{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=gF(e.writeResults,e.commitTime),i=Zn(e.commitTime);return this.listener.A_(i,n)}return Be(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Vg(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>mF(this.serializer,i))};this.i_(n)}};var u_=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Ng(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(V.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Ng(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(V.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},d_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ei(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var h_=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(()=>g(this,null,function*(){Zr(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),yield function(l){return g(this,null,function*(){let u=fe(l);u.M_.add(4),yield Tc(u),u.N_.set("Unknown"),u.M_.delete(4),yield Rd(u)})}(this))}))}),this.N_=new d_(i,r)}};function Rd(t){return g(this,null,function*(){if(Zr(t))for(let e of t.x_)yield e(!0)})}function Tc(t){return g(this,null,function*(){for(let e of t.x_)yield e(!1)})}function IC(t,e){let n=fe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),$_(n)?z_(n):ho(n).Xo()&&B_(n,e))}function j_(t,e){let n=fe(t),i=ho(n);n.F_.delete(e),i.Xo()&&EC(n,e),n.F_.size===0&&(i.Xo()?i.n_():Zr(n)&&n.N_.set("Unknown"))}function B_(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ho(t).P_(e)}function EC(t,e){t.L_.xe(e),ho(t).I_(e)}function z_(t){t.L_=new xg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ho(t).start(),t.N_.w_()}function $_(t){return Zr(t)&&!ho(t).Zo()&&t.F_.size>0}function Zr(t){return fe(t).M_.size===0}function CC(t){t.L_=void 0}function MF(t){return g(this,null,function*(){t.N_.set("Online")})}function NF(t){return g(this,null,function*(){t.F_.forEach((e,n)=>{B_(t,e)})})}function FF(t,e){return g(this,null,function*(){CC(t),$_(t)?(t.N_.D_(e),z_(t)):t.N_.set("Unknown")})}function VF(t,e,n){return g(this,null,function*(){if(t.N_.set("Online"),e instanceof td&&e.state===2&&e.cause)try{yield function(r,s){return g(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ld(t,i)}else if(e instanceof Ys?t.L_.Ke(e):e instanceof ed?t.L_.He(e):t.L_.We(e),!n.isEqual(_e.min()))try{let i=yield wC(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=s.F_.get(u);h&&s.F_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let h=s.F_.get(l);if(!h)return;s.F_.set(l,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),EC(s,l);let p=new fc(h.target,l,u,h.sequenceNumber);B_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){Z("RemoteStore","Failed to raise snapshot:",i),yield ld(t,i)}})}function ld(t,e,n){return g(this,null,function*(){if(!Cc(e))throw e;t.M_.add(1),yield Tc(t),t.N_.set("Offline"),n||(n=()=>wC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){Z("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Rd(t)}))})}function TC(t,e){return e().catch(n=>ld(t,n,e))}function Dd(t){return g(this,null,function*(){let e=fe(t),n=sr(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;LF(e);)try{let r=yield DF(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,UF(e,r)}catch(r){yield ld(e,r)}SC(e)&&AC(e)})}function LF(t){return Zr(t)&&t.v_.length<10}function UF(t,e){t.v_.push(e);let n=sr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function SC(t){return Zr(t)&&!sr(t).Zo()&&t.v_.length>0}function AC(t){sr(t).start()}function jF(t){return g(this,null,function*(){sr(t).V_()})}function BF(t){return g(this,null,function*(){let e=sr(t);for(let n of t.v_)e.d_(n.mutations)})}function zF(t,e,n){return g(this,null,function*(){let i=t.v_.shift(),r=Pg.from(i,e,n);yield TC(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Dd(t)})}function $F(t,e){return g(this,null,function*(){e&&sr(t).E_&&(yield function(i,r){return g(this,null,function*(){if(function(o){return oF(o)&&o!==V.ABORTED}(r.code)){let s=i.v_.shift();sr(i).t_(),yield TC(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Dd(i)}})}(t,e)),SC(t)&&AC(t)})}function xE(t,e){return g(this,null,function*(){let n=fe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");let i=Zr(n);n.M_.add(3),yield Tc(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Rd(n)})}function qF(t,e){return g(this,null,function*(){let n=fe(t);e?(n.M_.delete(2),yield Rd(n)):e||(n.M_.add(2),yield Tc(n),n.N_.set("Unknown"))})}function ho(t){return t.B_||(t.B_=function(n,i,r){let s=fe(n);return s.f_(),new c_(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:MF.bind(null,t),To:NF.bind(null,t),Ao:FF.bind(null,t),h_:VF.bind(null,t)}),t.x_.push(e=>g(this,null,function*(){e?(t.B_.t_(),$_(t)?z_(t):t.N_.set("Unknown")):(yield t.B_.stop(),CC(t))}))),t.B_}function sr(t){return t.k_||(t.k_=function(n,i,r){let s=fe(n);return s.f_(),new l_(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:jF.bind(null,t),Ao:$F.bind(null,t),R_:BF.bind(null,t),A_:zF.bind(null,t)}),t.x_.push(e=>g(this,null,function*(){e?(t.k_.t_(),yield Dd(t)):(yield t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var f_=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function q_(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Cc(t))return new Q(V.UNAVAILABLE,`${e}: ${t}`);throw t}var ud=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||se.comparator(n.key,i.key):(n,i)=>se.comparator(n.key,i.key),this.keyedMap=ic(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var dd=class{constructor(){this.q_=new it(se.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ae():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},ao=class t{constructor(e,n,i,r,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ud.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var p_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},m_=class{constructor(){this.queries=new rr(e=>ZE(e),Sd),this.onlineState="Unknown",this.z_=new Set}};function G_(t,e){return g(this,null,function*(){let n=fe(t),i=3,r=e.query,s=n.queries.get(r);s?!s.W_()&&e.G_()&&(i=2):(s=new p_,i=e.G_()?0:1);try{switch(i){case 0:s.K_=yield n.onListen(r,!0);break;case 1:s.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(o){let a=q_(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&H_(n)})}function W_(t,e){return g(this,null,function*(){let n=fe(t),i=e.query,r=3,s=n.queries.get(i);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function GF(t,e){let n=fe(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(r)&&(i=!0);o.K_=r}}i&&H_(n)}function WF(t,e,n){let i=fe(t),r=i.queries.get(e);if(r)for(let s of r.U_)s.onError(n);i.queries.delete(e)}function H_(t){t.z_.forEach(e=>{e.next()})}var g_,kE;(kE=g_||(g_={})).J_="default",kE.Cache="cache";var gc=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ao(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==g_.Cache}};var hd=class{constructor(e){this.key=e}},fd=class{constructor(e){this.key=e}},__=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ee(),this.mutatedKeys=Ee(),this.Ia=eC(e),this.Ta=new ud(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new dd,r=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let _=r.get(h),C=Ad(this.query,p)?p:null,k=!!_&&this.mutatedKeys.has(_.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),x=!1;_&&C?_.data.isEqual(C.data)?k!==F&&(i.track({type:3,doc:C}),x=!0):this.Ra(_,C)||(i.track({type:2,doc:C}),x=!0,(l&&this.Ia(C,l)>0||u&&this.Ia(C,u)<0)&&(a=!0)):!_&&C?(i.track({type:0,doc:C}),x=!0):_&&!C&&(i.track({type:1,doc:_}),x=!0,(l||u)&&(a=!0)),x&&(C?(o=o.add(C),s=F?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ta:o,Aa:i,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((h,p)=>function(C,k){let F=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return F(C)-F(k)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new ao(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new dd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Ee(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new fd(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new hd(i))}),n}pa(e){this.la=e.hs,this.Pa=Ee();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ao.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},v_=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},y_=class{constructor(e){this.key=e,this.wa=!1}},b_=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new rr(a=>ZE(a),Sd),this.Da=new Map,this.Ca=new Set,this.va=new it(se.comparator),this.Fa=new Map,this.Ma=new mc,this.xa={},this.Oa=new Map,this.Na=pc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function HF(t,e,n=!0){return g(this,null,function*(){let i=kC(t),r,s=i.ba.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield PC(i,e,n,!0),r})}function KF(t,e){return g(this,null,function*(){let n=kC(t);yield PC(n,e,!0,!1)})}function PC(t,e,n,i){return g(this,null,function*(){let r=yield OF(t.localStore,Jn(e)),s=r.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield YF(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&IC(t.remoteStore,r),a})}function YF(t,e,n,i,r){return g(this,null,function*(){t.Ba=(p,_,C)=>function(F,x,z,X){return g(this,null,function*(){let H=x.view.da(z);H.Xi&&(H=yield OE(F.localStore,x.query,!1).then(({documents:T})=>x.view.da(T,H)));let J=X&&X.targetChanges.get(x.targetId),Ne=X&&X.targetMismatches.get(x.targetId)!=null,le=x.view.applyChanges(H,F.isPrimaryClient,J,Ne);return NE(F,x.targetId,le.fa),le.snapshot})}(t,p,_,C);let s=yield OE(t.localStore,e,!0),o=new __(e,s.hs),a=o.da(s.documents),l=hc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);NE(t,n,u.fa);let h=new v_(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function QF(t,e,n){return g(this,null,function*(){let i=fe(t),r=i.ba.get(e),s=i.Da.get(r.targetId);if(s.length>1)return i.Da.set(r.targetId,s.filter(o=>!Sd(o,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield i_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&j_(i.remoteStore,r.targetId),w_(i,r.targetId)}).catch(Ec))):(w_(i,r.targetId),yield i_(i.localStore,r.targetId,!0))})}function XF(t,e){return g(this,null,function*(){let n=fe(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),j_(n.remoteStore,i.targetId))})}function JF(t,e,n){return g(this,null,function*(){let i=sV(t);try{let r=yield function(o,a){let l=fe(o),u=Pt.now(),h=a.reduce((C,k)=>C.add(k.key),Ee()),p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=Ti(),F=Ee();return l.os.getEntries(C,h).next(x=>{k=x,k.forEach((z,X)=>{X.isValidDocument()||(F=F.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(C,k)).next(x=>{p=x;let z=[];for(let X of a){let H=sF(X,p.get(X.key).overlayedDocument);H!=null&&z.push(new ti(X.key,H,WE(H.value.mapValue),Ii.exists(!0)))}return l.mutationQueue.addMutationBatch(C,u,z,a)}).next(x=>{_=x;let z=x.applyToLocalDocumentSet(p,F);return l.documentOverlayCache.saveOverlays(C,x.batchId,z)})}).then(()=>({batchId:_.batchId,changes:nC(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new it(Pe)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(i,r.batchId,n),yield Sc(i,r.changes),yield Dd(i.remoteStore)}catch(r){let s=q_(r,"Failed to persist write");n.reject(s)}})}function RC(t,e){return g(this,null,function*(){let n=fe(t);try{let i=yield PF(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Fa.get(s);o&&(Be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Be(o.wa):r.removedDocuments.size>0&&(Be(o.wa),o.wa=!1))}),yield Sc(n,i,e)}catch(i){yield Ec(i)}})}function ME(t,e,n){let i=fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let _ of p.U_)_.j_(a)&&(u=!0)}),u&&H_(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function ZF(t,e,n){return g(this,null,function*(){let i=fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),s=r&&r.key;if(s){let o=new it(se.comparator);o=o.insert(s,On.newNoDocument(s,_e.min()));let a=Ee().add(s),l=new Zu(_e.min(),new Map,new it(Pe),o,a);yield RC(i,l),i.va=i.va.remove(s),i.Fa.delete(e),K_(i)}else yield i_(i.localStore,e,!1).then(()=>w_(i,e,n)).catch(Ec)})}function eV(t,e){return g(this,null,function*(){let n=fe(t),i=e.batch.batchId;try{let r=yield AF(n.localStore,e);OC(n,i,null),DC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Sc(n,r)}catch(r){yield Ec(r)}})}function tV(t,e,n){return g(this,null,function*(){let i=fe(t);try{let r=yield function(o,a){let l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Be(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(i.localStore,e);OC(i,e,n),DC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Sc(i,r)}catch(r){yield Ec(r)}})}function DC(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function OC(t,e,n){let i=fe(t),r=i.xa[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function w_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||xC(t,i)})}function xC(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(j_(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),K_(t))}function NE(t,e,n){for(let i of n)i instanceof hd?(t.Ma.addReference(i.key,e),nV(t,i)):i instanceof fd?(Z("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||xC(t,i.key)):ae()}function nV(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(i),K_(t))}function K_(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new se(Ye.fromString(e)),i=t.Na.next();t.Fa.set(i,new y_(n)),t.va=t.va.insert(n,i),IC(t.remoteStore,new fc(Jn(Td(n.path)),i,"TargetPurposeLimboResolution",$E.oe))}}function Sc(t,e,n){return g(this,null,function*(){let i=fe(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(u=>{var h;if((u||n)&&i.isPrimaryClient){let p=u?!u.fromCache:(h=n?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);let p=Zg.Ki(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),i.Sa.h_(r),yield function(l,u){return g(this,null,function*(){let h=fe(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,_=>B.forEach(_.qi,C=>h.persistence.referenceDelegate.addReference(p,_.targetId,C)).next(()=>B.forEach(_.Qi,C=>h.persistence.referenceDelegate.removeReference(p,_.targetId,C)))))}catch(p){if(!Cc(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let _=p.targetId;if(!p.fromCache){let C=h.ns.get(_),k=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(k);h.ns=h.ns.insert(_,F)}}})}(i.localStore,s))})}function iV(t,e){return g(this,null,function*(){let n=fe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());let i=yield bC(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new Q(V.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Sc(n,i.us)}})}function rV(t,e){let n=fe(t),i=n.Fa.get(e);if(i&&i.wa)return Ee().add(i.key);{let r=Ee(),s=n.Da.get(e);if(!s)return r;for(let o of s){let a=n.ba.get(o);r=r.unionWith(a.view.Ea)}return r}}function kC(t){let e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZF.bind(null,e),e.Sa.h_=GF.bind(null,e.eventManager),e.Sa.ka=WF.bind(null,e.eventManager),e}function sV(t){let e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tV.bind(null,e),e}var pd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return g(this,null,function*(){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return SF(this.persistence,new t_,e.initialUser,this.serializer)}createPersistence(e){return new Qg(Jg.Hr,this.serializer)}createSharedClientState(e){return new r_}terminate(){return g(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var I_=class{initialize(e,n){return g(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ME(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),yield qF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new m_}()}createDatastore(e){let n=Pd(e.databaseInfo.databaseId),i=function(s){return new a_(s)}(e.databaseInfo);return function(s,o,a,l){return new u_(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new h_(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return od.D()?new od:new s_}())}createSyncEngine(e,n){return function(r,s,o,a,l,u,h){let p=new b_(r,s,o,a,l,u);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return g(this,null,function*(){var e;yield function(i){return g(this,null,function*(){let r=fe(i);Z("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Tc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var _c=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var E_=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Et.UNAUTHENTICATED,this.clientId=Hu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>g(this,null,function*(){Z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=q_(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function eg(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>g(this,null,function*(){i.isEqual(r)||(yield bC(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function FE(t,e){return g(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield aV(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>xE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>xE(e.remoteStore,r)),t._onlineComponents=e})}function oV(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function aV(t){return g(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield eg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!oV(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),yield eg(t,new pd)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),yield eg(t,new pd);return t._offlineComponents})}function MC(t){return g(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),yield FE(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),yield FE(t,new I_))),t._onlineComponents})}function cV(t){return MC(t).then(e=>e.syncEngine)}function md(t){return g(this,null,function*(){let e=yield MC(t),n=e.eventManager;return n.onListen=HF.bind(null,e.syncEngine),n.onUnlisten=QF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XF.bind(null,e.syncEngine),n})}function lV(t,e,n={}){let i=new Dn;return t.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(s,o,a,l,u){let h=new _c({next:_=>{o.enqueueAndForget(()=>W_(s,p));let C=_.docs.has(a);!C&&_.fromCache?u.reject(new Q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&_.fromCache&&l&&l.source==="server"?u.reject(new Q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),p=new gc(Td(a.path),h,{includeMetadataChanges:!0,ra:!0});return G_(s,p)}(yield md(t),t.asyncQueue,e,n,i)})),i.promise}function uV(t,e,n={}){let i=new Dn;return t.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(s,o,a,l,u){let h=new _c({next:_=>{o.enqueueAndForget(()=>W_(s,p)),_.fromCache&&l.source==="server"?u.reject(new Q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(_)},error:_=>u.reject(_)}),p=new gc(a,h,{includeMetadataChanges:!0,ra:!0});return G_(s,p)}(yield md(t),t.asyncQueue,e,n,i)})),i.promise}function NC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VE=new Map;function FC(t,e,n){if(!n)throw new Q(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dV(t,e,n,i){if(e===!0&&i===!0)throw new Q(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LE(t){if(!se.isDocumentKey(t))throw new Q(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(se.isDocumentKey(t))throw new Q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Od(t);throw new Q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var gd=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},co=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gd(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tg;switch(i.type){case"firstParty":return new sg(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=VE.get(n);i&&(Z("ComponentProvider","Removing Datastore"),VE.delete(n),i.terminate())}(this),Promise.resolve()}};function VC(t,e,n,i={}){var r;let s=(t=on(t,co))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Et.MOCK_USER;else{a=hu(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Et(u)}t._authCredentials=new ng(new Wu(a,l))}}var Xr=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ut=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},nr=class t extends Xr{constructor(e,n,i){super(e,n,Td(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new se(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function LC(t,e,...n){if(t=Me(t),FC("collection","path",e),t instanceof co){let i=Ye.fromString(e,...n);return UE(i),new nr(t,null,i)}{if(!(t instanceof Ut||t instanceof nr))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ye.fromString(e,...n));return UE(i),new nr(t.firestore,null,i)}}function UC(t,e,...n){if(t=Me(t),arguments.length===1&&(e=Hu.newId()),FC("doc","path",e),t instanceof co){let i=Ye.fromString(e,...n);return LE(i),new Ut(t,null,new se(i))}{if(!(t instanceof Ut||t instanceof nr))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ye.fromString(e,...n));return LE(i),new Ut(t.firestore,t instanceof nr?t.converter:null,new se(i))}}var C_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ad(this,"async_queue_retry"),this.hu=()=>{let n=Zm();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Zm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Dn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return g(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Cc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ei("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=f_.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ae()}verifyOperationInProgress(){}du(){return g(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function jE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ni=class extends co{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new C_}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BC(this),this._firestoreClient.terminate()}};function jC(t,e){let n=typeof t=="object"?t:en(),i=typeof t=="string"?t:e||"(default)",r=Ht(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=Us("firestore");s&&VC(r,...s)}return r}function xd(t){return t._firestoreClient||BC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BC(t){var e,n,i;let r=t._freezeSettings(),s=function(a,l,u,h){return new ug(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,NC(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new E_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var vc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(qt.fromBase64String(e))}catch(n){throw new Q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var lo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yc=class{constructor(e){this._methodName=e}};var bc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}};var hV=/^__.*__$/,T_=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qr(e,this.data,n,this.fieldTransforms)}},_d=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function zC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var S_=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return yd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(zC(this.fu)&&hV.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},A_=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Pd(e)}Fu(e,n,i,r=!1){return new S_({fu:e,methodName:n,vu:i,path:sn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Y_(t){let e=t._freezeSettings(),n=Pd(t._databaseId);return new A_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fV(t,e,n,i,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);Q_("Data must be an object, but it was:",o,i);let a=$C(i,o),l,u;if(s.merge)l=new vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let _=P_(e,p,n);if(!o.contains(_))throw new Q(V.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);GC(h,_)||h.push(_)}l=new vn(h),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new T_(new rn(a),l,u)}var vd=class t extends yc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function pV(t,e,n,i){let r=t.Fu(1,e,n);Q_("Data must be an object, but it was:",r,i);let s=[],o=rn.empty();Jr(i,(l,u)=>{let h=X_(e,l,n);u=Me(u);let p=r.Su(h);if(u instanceof vd)s.push(h);else{let _=Ac(u,p);_!=null&&(s.push(h),o.set(h,_))}});let a=new vn(s);return new _d(o,a,r.fieldTransforms)}function mV(t,e,n,i,r,s){let o=t.Fu(1,e,n),a=[P_(e,i,n)],l=[r];if(s.length%2!=0)throw new Q(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(P_(e,s[_])),l.push(s[_+1]);let u=[],h=rn.empty();for(let _=a.length-1;_>=0;--_)if(!GC(u,a[_])){let C=a[_],k=l[_];k=Me(k);let F=o.Su(C);if(k instanceof vd)u.push(C);else{let x=Ac(k,F);x!=null&&(u.push(C),h.set(C,x))}}let p=new vn(u);return new _d(h,p,o.fieldTransforms)}function gV(t,e,n,i=!1){return Ac(n,t.Fu(i?4:3,e))}function Ac(t,e){if(qC(t=Me(t)))return Q_("Unsupported field value:",e,t),$C(t,e);if(t instanceof yc)return function(i,r){if(!zC(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=Ac(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Me(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eF(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Pt.fromDate(i);return{timestampValue:id(r.serializer,s)}}if(i instanceof Pt){let s=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:id(r.serializer,s)}}if(i instanceof bc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vc)return{bytesValue:fC(r.serializer,i._byteString)};if(i instanceof Ut){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:U_(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Od(i)}`)}(t,e)}function $C(t,e){let n={};return qE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(t,(i,r)=>{let s=Ac(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function qC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof bc||t instanceof vc||t instanceof Ut||t instanceof yc)}function Q_(t,e,n){if(!qC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Od(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function P_(t,e,n){if((e=Me(e))instanceof lo)return e._internalPath;if(typeof e=="string")return X_(t,e);throw yd("Field path arguments must be of type string or ",t,!1,void 0,n)}var _V=new RegExp("[~\\*/\\[\\]]");function X_(t,e,n){if(e.search(_V)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lo(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yd(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Q(V.INVALID_ARGUMENT,a+t+l)}function GC(t,e){return t.some(n=>n.isEqual(e))}var bd=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new R_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(J_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},R_=class extends bd{data(){return super.data()}};function J_(t,e){return typeof e=="string"?X_(t,e):e instanceof lo?e._internalPath:e._delegate._internalPath}function WC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wc=class{},D_=class extends wc{};function HC(t,e,...n){let i=[];e instanceof wc&&i.push(e),i=i.concat(n),function(s){let o=s.filter(l=>l instanceof O_).length,a=s.filter(l=>l instanceof wd).length;if(o>1||o>0&&a>0)throw new Q(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var wd=class t extends D_{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return YC(e._query,n),new Xr(e.firestore,e.converter,Eg(e._query,n))}_parse(e){let n=Y_(e.firestore);return function(s,o,a,l,u,h,p){let _;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zE(p,h);let C=[];for(let k of p)C.push(BE(l,s,k));_={arrayValue:{values:C}}}else _=BE(l,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zE(p,h),_=gV(a,o,p,h==="in"||h==="not-in");return ft.create(u,h,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function KC(t,e,n){let i=e,r=J_("where",t);return wd._create(r,i,n)}var O_=class t extends wc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)YC(o,l),o=Eg(o,l)}(e._query,n),new Xr(e.firestore,e.converter,Eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function BE(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(e)&&n.indexOf("/")!==-1)throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Ye.fromString(n));if(!se.isDocumentKey(i))throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pE(t,new se(i))}if(n instanceof Ut)return pE(t,n._key);throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(n)}.`)}function zE(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YC(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var x_=class{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Jr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new bc(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=N_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){let n=Ci(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Ye.fromString(e);Be(yC(i));let r=new Xu(i.get(1),i.get(3)),s=new se(i.popFirst(5));return r.isEqual(n)||Ei(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function vV(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var $r=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Id=class extends bd{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(J_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Qs=class extends Id{data(e={}){return super.data(e)}},Ed=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new $r(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Qs(this._firestore,this._userDataWriter,i.key,i,new $r(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Qs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $r(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Qs(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $r(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:yV(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function yV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function QC(t){t=on(t,Ut);let e=on(t.firestore,ni);return lV(xd(e),t._key).then(n=>tT(e,t,n))}var Ic=class extends x_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}};function XC(t){t=on(t,Xr);let e=on(t.firestore,ni),n=xd(e),i=new Ic(e);return WC(t._query),uV(n,t._query).then(r=>new Ed(e,i,t,r))}function JC(t,e,n){t=on(t,Ut);let i=on(t.firestore,ni),r=vV(t.converter,e,n);return Z_(i,[fV(Y_(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Ii.none())])}function ZC(t,e,n,...i){t=on(t,Ut);let r=on(t.firestore,ni),s=Y_(r),o;return o=typeof(e=Me(e))=="string"||e instanceof lo?mV(s,"updateDoc",t._key,e,n,i):pV(s,"updateDoc",t._key,e),Z_(r,[o.toMutation(t._key,Ii.exists(!0))])}function eT(t){return Z_(on(t.firestore,ni),[new dc(t._key,Ii.none())])}function kd(t,...e){var n,i,r;t=Me(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jE(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jE(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[o+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,u,h;if(t instanceof Ut)u=on(t.firestore,ni),h=Td(t._key.path),l={next:p=>{e[o]&&e[o](tT(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=on(t,Xr);u=on(p.firestore,ni),h=p._query;let _=new Ic(u);l={next:C=>{e[o]&&e[o](new Ed(u,_,p,C))},error:e[o+1],complete:e[o+2]},WC(t._query)}return function(_,C,k,F){let x=new _c(F),z=new gc(C,x,k);return _.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return G_(yield md(_),z)})),()=>{x.$a(),_.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return W_(yield md(_),z)}))}}(xd(u),h,a,l)}function Z_(t,e){return function(i,r){let s=new Dn;return i.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return JF(yield cV(i),r,s)})),s.promise}(xd(t),e)}function tT(t,e,n){let i=n.docs.get(e._key),r=new Ic(t);return new Id(t,r,e._key,i,new $r(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){uo=r})(Gn),It(new tt("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new ni(new ig(i.getProvider("auth-internal")),new ag(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),we(dE,"4.6.4",e),we(dE,"4.6.4","esm2017")})();var Md=function(){return Md=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Md.apply(this,arguments)};var IV={includeMetadataChanges:!1};function nT(t,e){return e===void 0&&(e=IV),new Tt(function(n){var i=kd(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function iT(t){return nT(t,{includeMetadataChanges:!0})}function rT(t,e){return e===void 0&&(e={}),iT(t).pipe(be(function(n){return sT(n,e)}))}function sT(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Md(Md({},i),(n={},n[e.idField]=t.id,n))}var Ue=class{constructor(e){return e}},oT="firestore",ev=class{constructor(){return Pn(oT)}};var tv=new ie("angularfire2.firestore-instances");function EV(t,e){let n=Hn(oT,t,e);return n&&new Ue(n)}function CV(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ue(i)}}var TV={provide:ev,deps:[[new Le,tv]]},SV={provide:Ue,useFactory:EV,deps:[[new Le,tv],$t]};function aT(t,...e){return we("angularfire",tn.full,"fst"),gt([SV,TV,{provide:tv,useFactory:CV(t),multi:!0,deps:[ce,xe,_n,nn,[new Le,bi],[new Le,Wn],...e]}])}var cT=Fe(rT,!0);var jt=Fe(LC,!0);var Nd=Fe(eT,!0);var yt=Fe(UC,!0);var Fd=Fe(QC,!0);var kn=Fe(XC,!0);var lT=Fe(jC,!0);var nv=Fe(kd,!0);var uT=Fe(HC,!0);var ii=Fe(JC,!0);var Vd=Fe(ZC,!0);var dT=Fe(KC,!0);var pt=(()=>{let e=class e{constructor(){this.isFirstTime=new at(!0),this.mainCategoriesLoaded=!1,this.loggedIn=!1,this.selectedCatalog="",this.userMobile="",this.checkingAuth=!0,this.currentUser$=new at(""),this.isPageLoaded$=new at("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rt=(()=>{let e=class e{constructor(i){this.firestore=i,this.cityDoc=Wt([]),this.eventList=Wt([]),this.itineraryList=Wt({}),this.slabList=Wt({}),this.variantList=Wt({}),this.bookingDetails=Wt({}),this.addressList=Wt([]),this.activeAddress=Wt("")}fetchDoc(i){return new Tt(r=>{let s=yt(this.firestore,i);nv(s,o=>{let a=o.data();r.next(a)},o=>{r.error(o)})})}fetchDocs(i){return new Tt(r=>{let s=jt(this.firestore,i);nv(s,o=>{let a=o.docs.map(l=>l.data());r.next(a)},o=>{r.error(o)})})}};e.\u0275fac=function(r){return new(r||e)(N(Ue))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yn=(()=>{let e=class e{constructor(i,r,s,o,a){this.auth=i,this.Firestore=r,this.dataProvider=s,this.router=o,this.eventService=a,this._auth=K(Rn),this.isProfileUpdated=!1,this.user$=sE(this._auth),this.dataProvider.checkingAuth=!0,this.auth.onAuthStateChanged(l=>{l?(this.dataProvider.loggedIn=!0,this.getUserData(l.uid).subscribe(u=>g(this,null,function*(){this.dataProvider.currentUser={user:l,userData:u},!u||!u.name?this.router.navigate(["profile"]):this.getAddresses(this.dataProvider.currentUser.user.uid).then(h=>{h.docs.map(_=>pe(L({},_.data()),{id:_.id})).length>0?this.router.navigate(["home"]):this.router.navigate(["add-address"])}),this.dataProvider.checkingAuth=!1}))):(this.dataProvider.loggedIn=!1,this.dataProvider.checkingAuth=!1)})}loginWithPhoneNumber(i,r){return g(this,null,function*(){return i.length!=10?Promise.reject(new Error("Invalid Phone Number")):aE(this.auth,"+91"+i,r)})}setUserData(i){return g(this,null,function*(){let r=yield Fd(yt(this.Firestore,"users",i.uid));if(r.exists()){this.dataProvider.currentUser={user:pe(L({},i),{name:r.data().name}),userData:r.data()};return}let s={name:i.name||"",phoneNumber:i.phoneNumber||"",photoURL:i.photoURL||"",uid:i.uid||"",dob:i.dob||"",gender:i.gender||"",age:i.age||""};yield ii(yt(this.Firestore,"users",i.uid),s),this.dataProvider.currentUser={user:i,userData:s}})}getUserData(i){return cT(yt(this.Firestore,"users",i))}getAddresses(i){return g(this,null,function*(){return yield kn(jt(this.Firestore,"users",i,"addresses"))})}};e.\u0275fac=function(r){return new(r||e)(N(Rn),N(Ue),N(pt),N(ge),N(rt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ld=(()=>{let e=class e{constructor(i){this.Firestore=i}getCurrentLocation(){return g(this,null,function*(){if(navigator.geolocation)return new Promise((i,r)=>{navigator.geolocation.getCurrentPosition(s=>{i({lat:s.coords.latitude,lng:s.coords.longitude})},s=>{r(s)})});throw new Error("Geolocation is not supported by this browser.")})}getStateFromCoordinates(i,r){return g(this,null,function*(){let s=new google.maps.Geocoder,o={lat:i,lng:r};return new Promise((a,l)=>{s.geocode({location:o},(u,h)=>{if(h==="OK")if(u&&u[0]){let p=this.getStateFromGeocodeResults(u);p?a(p):l(new Error("State not found in the address components."))}else l(new Error("No results found."));else l(new Error("Geocoder failed due to: "+h))})})})}getStateFromGeocodeResults(i){for(let r of i)for(let s of r.address_components)if(s.types.includes("administrative_area_level_1"))return s.long_name;return null}getCity(i){return g(this,null,function*(){let r=jt(this.Firestore,"city-catalogue"),s=uT(r,dT("state","==",i)),a=(yield kn(s)).docs[0];return a?(localStorage.setItem("stateDocId",a.id),kn(jt(this.Firestore,"city-catalogue",a.id,"city"))):null})}};e.\u0275fac=function(r){return new(r||e)(N(Ue))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var po=(()=>{let e=class e{constructor(){this.loadingSubject=new at(!1),this.isLoading$=this.loadingSubject.asObservable()}show(){this.loadingSubject.next(!0)}hide(){this.loadingSubject.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AV(t,e){if(t&1&&(v(0,"option",7),E(1),y()),t&2){let n=e.$implicit;j("value",n.cityId),D(),ve(" ",n.city," ")}}var fT=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.AuthService=i,this.data=r,this._bottomSheetRef=s,this.geolocationService=o,this.router=a,this.loadingService=l,this.state=null,this.cities=[],this.selectedCityId=""}ngOnInit(){return g(this,null,function*(){this.loadingService.show();try{let i=yield this.geolocationService.getCurrentLocation();this.state=yield this.geolocationService.getStateFromCoordinates(i.lat,i.lng)}catch(i){console.log(i)}this.geolocationService.getCity(this.state).then(i=>{i?.docs.map(r=>{r.data().active&&(this.cities.push(r.data()),this.loadingService.hide())}),this.selectedCityId=this.cities[0].cityId})})}cancel(){this._bottomSheetRef.dismiss()}saveCity(){localStorage.setItem("cityDocId",this.selectedCityId),this.router.navigate(["/home"]),this._bottomSheetRef.dismiss()}};e.\u0275fac=function(r){return new(r||e)(O(yn),O(bp),O(xs),O(Ld),O(ge),O(po))},e.\u0275cmp=W({type:e,selectors:[["app-un-auth-city"]],standalone:!0,features:[Y],decls:12,vars:5,consts:[[1,"header_text_color"],[1,"form"],["for","citySelect"],["id","citySelect","name","selectedCity",3,"ngModelChange","valueChange","ngModel","value"],[3,"value",4,"ngFor","ngForOf"],[1,"twin-btn","pos-bottom"],[3,"click","btnName"],[3,"value"]],template:function(r,s){r&1&&(v(0,"section")(1,"p",0),E(2,"Select City"),y(),v(3,"div",1)(4,"label",2),E(5,"Select a city:"),y(),U(6,"br"),v(7,"select",3),vr("ngModelChange",function(a){return Ln(s.selectedCityId,a)||(s.selectedCityId=a),a})("valueChange",function(a){return Ln(s.selectedCityId,a)||(s.selectedCityId=a),a}),re(8,AV,2,2,"option",4),y()(),v(9,"div",5)(10,"lib-cancel-btn",6),G("click",function(){return s.cancel()}),y(),v(11,"lib-save-btn",6),G("click",function(){return s.saveCity()}),y()()()),r&2&&(D(7),_r("ngModel",s.selectedCityId)("value",s.selectedCityId),D(),j("ngForOf",s.cities),D(2),j("btnName","Cancel"),D(),j("btnName","Save"))},dependencies:[ks,rw,Ae,et,Ki,Wi,Hi,zn,gn,ja],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:30vh}section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-bottom:20px}section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-style:normal;font-weight:400;line-height:normal;margin-top:10px}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20%}section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:96%;margin-bottom:20px}section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px}section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:6px}section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px}section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}lib-cancel-btn[_ngcontent-%COMP%], lib-save-btn[_ngcontent-%COMP%]{width:35%}.pos-bottom[_ngcontent-%COMP%]{position:absolute;bottom:3px}  mat-bottom-sheet-container{border-radius:20px 20px 0 0}"]});let t=e;return t})();var pT=(()=>{let e=class e{constructor(i,r,s,o,a){this.AuthService=i,this._bottomSheet=r,this.geolocationService=s,this.Router=o,this.DataProviderService=a,this.state=null,this.error=null,this.phoneNumber="",this.terms=!1}ngOnInit(){this.geolocationService.getCurrentLocation().then(i=>this.geolocationService.getStateFromCoordinates(i.lat,i.lng)).then(i=>{this.state=i}).catch(i=>{this.error=i.message})}skip(){this._bottomSheet.open(fT)}login(){return g(this,null,function*(){this.phoneNumber.length==10&&(this.verifier||(this.verifier=new jr(this.AuthService.auth,"recaptcha-container",{size:"invisible"})),this.AuthService.loginWithPhoneNumber(this.phoneNumber,this.verifier).then(i=>{this.DataProviderService.loginConfirmationResult=i,this.DataProviderService.userMobile=this.phoneNumber,this.phoneNumber="",this.terms=!1,this.Router.navigate(["otp"])}).catch(i=>{console.log(i)}).finally(()=>{console.log("finally")}))})}};e.\u0275fac=function(r){return new(r||e)(O(yn),O(Kl),O(Ld),O(ge),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-login"]],standalone:!0,features:[Y],decls:15,vars:1,consts:[["src","assets/login/loginPageLogo.svg","alt",""],[1,"login-secton"],[1,"header_text_color","center-text"],[1,"field"],[1,"description_text"],["type","text","placeholder","Enter Phone Number","maxlength","10",1,"input_box_bg_gradient","header_text_color",3,"ngModelChange","ngModel"],[1,"header_text_color","secondary_botton_gradient","login",3,"click"],[1,"white","primary_botton_gradient","login",3,"click"],["id","recaptcha-container"]],template:function(r,s){r&1&&(v(0,"section"),U(1,"img",0),v(2,"div",1)(3,"p",2),E(4,"Book events and donations"),y(),v(5,"div",3)(6,"label",4),E(7,"Phone Number"),y(),U(8,"br"),v(9,"input",5),vr("ngModelChange",function(a){return Ln(s.phoneNumber,a)||(s.phoneNumber=a),a}),y()(),v(10,"button",6),G("click",function(){return s.login()}),E(11,"Get OTP"),y(),v(12,"button",7),G("click",function(){return s.skip()}),E(13," Skip Login "),y()(),U(14,"div",8),y()),r&2&&(D(9),_r("ngModel",s.phoneNumber))},dependencies:[Ki,mn,gn,Ba,ja],styles:["section[_ngcontent-%COMP%]{background:url(/assets/login/donorlogin.svg) #fdfdfd 50%/cover no-repeat;background-size:100% 50%;background-repeat:no-repeat;background-attachment:fixed;background-size:cover;width:100vw;height:100%;display:flex;flex-direction:column;align-items:center}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:70px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]{position:absolute;bottom:2px;width:96%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-family:Nunito,sans-serif;font-size:10px;font-style:normal;font-weight:500;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura,sans-serif}button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px;margin-bottom:5px}"]});let t=e;return t})();function PV(t,e){if(t&1){let n=ke();v(0,"div",13),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.onSurveyClick(r))}),U(1,"img",14),v(2,"p",3),E(3),y()()}if(t&2){let n=e.$implicit;D(),j("src",n.image,st)("alt",n.title),D(2),me(n.title)}}var mT=(()=>{let e=class e{constructor(i){this.router=i,this.surveys=[{title:"Awareness Survey",image:"/assets/homepage/image1.svg",link:"/awareness-survey"},{title:"Food Survey",image:"/assets/homepage/image2.svg",link:"/food-survey"},{title:"Awareness Survey",image:"/assets/homepage/image1.svg",link:"/awareness-survey"},{title:"Food Survey",image:"/assets/homepage/image2.svg",link:"/food-survey"}]}ngOnInit(){}seeAllsurvey(){this.router.navigate(["survey-list"])}onSurveyClick(i){window.location.href=i.link}};e.\u0275fac=function(r){return new(r||e)(O(ge))},e.\u0275cmp=W({type:e,selectors:[["app-survey-form"]],standalone:!0,features:[Y],decls:18,vars:1,consts:[[1,"survey"],[1,"survey-slider"],[1,"heading"],[1,"section_title","header_text_color"],[1,"see-all",3,"click"],[1,"card"],["src","/assets/homepage/survey.svg"],[1,"detail"],[1,"section_title"],[1,"paragraph_text"],[1,"primary"],[1,"slider"],["class","slide",3,"click",4,"ngFor","ngForOf"],[1,"slide",3,"click"],[3,"src","alt"]],template:function(r,s){r&1&&(v(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),E(4,"Survey"),y(),v(5,"button",4),G("click",function(){return s.seeAllsurvey()}),E(6,"See All"),y()(),v(7,"div",5),U(8,"img",6),v(9,"div",7)(10,"h3",8),E(11,"User Survey"),y(),v(12,"p",9),E(13,"Take part in this survey to earn more coins"),y(),v(14,"button",10),E(15,"Start Survey"),y()()(),v(16,"div",11),re(17,PV,4,3,"div",12),y()()()),r&2&&(D(17),j("ngForOf",s.surveys))},dependencies:[Ae,et],styles:[".survey[_ngcontent-%COMP%]{padding:20px}.survey[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15%}.survey[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.survey[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .see-all[_ngcontent-%COMP%]{float:right;color:#00f;text-decoration:none;border:none;background:none}.survey[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);display:flex;border-radius:12px;margin-top:5%}.survey[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{margin:30px}.survey[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:20px;margin:5px 0 0 20px}.survey[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0 20px;color:#fff;font-weight:500;font-size:15px}.survey[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;height:30px;width:90px;border:none;margin:5px 0 0 20px}.survey[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{margin-top:5%}.survey[_ngcontent-%COMP%]   .survey-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none}.survey[_ngcontent-%COMP%]   .survey-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{position:relative;flex:0 0 auto;scroll-snap-align:start;margin-right:20px;cursor:pointer}.survey[_ngcontent-%COMP%]   .survey-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;height:150px;object-fit:cover;border-radius:20px}.survey[_ngcontent-%COMP%]   .survey-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;text-align:center;font-size:16px;font-weight:500;color:#fff;margin:0;padding:25px 0;border-radius:0 0 20px 20px}"]});let t=e;return t})();function RV(t,e){if(t&1){let n=ke();v(0,"div",11)(1,"h2",12),E(2,"Events"),y(),v(3,"button",13),G("click",function(){ue(n);let r=te();return de(r.seeAllEvent())}),E(4,"See All"),y()()}}function DV(t,e){if(t&1){let n=ke();v(0,"div",14),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.viewSlsbList(r.eventId))}),U(1,"img",15),v(2,"p",12),E(3),y(),v(4,"div",16)(5,"p",6),E(6,"Limited seats Availabe"),y(),v(7,"button",17),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.viewSlsbList(r.eventId))}),E(8,"Book Now"),y()()()}if(t&2){let n=e.$implicit;D(),j("src",n.images[0],st)("alt",n.title),D(2),me(n.eventName)}}var gT=(()=>{let e=class e{constructor(i,r,s,o){this.router=i,this.eventService=r,this.loadingService=s,this.DataProviderService=o,this.isEventPresent=!1,this.events=[{title:"Cearic Kashi Summit 2024",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"},{title:"Cearic Kashi Summit 2025",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"},{title:"Cearic Kashi Summit 2026",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"},{title:"Cearic Kashi Summit 2027",image:"/assets/homepage/sliderimage.svg",link:"/slab-list"}],this.slabs=[{title:"Panchang slab",image:"/assets/homepage/event_1.1.svg"},{title:"Assi slab",image:"/assets/homepage/event_1.2.svg"},{title:"Assi slab",image:"/assets/homepage/event_1.3.svg"}]}ngOnInit(){this.loadingService.show(),this.eventService.variantList()&&setTimeout(()=>{this.getEvent()},3e3)}getEvent(){return g(this,null,function*(){let i=localStorage.getItem("stateDocId"),r=localStorage.getItem("cityDocId"),s="";try{if(!this.DataProviderService.loggedIn)i=localStorage.getItem("stateDocId"),r=localStorage.getItem("cityDocId"),s=`city-catalogue/${i}/city/${r}`;else{let p=this.DataProviderService.currentUser?.userData.uid,_=yield Vn(this.eventService.fetchDocs(`users/${p}/addresses`));this.eventService.addressList.set(_);for(let C of _)C.active&&(this.eventService.activeAddress.set(C),i=C.selectedStateId,r=C.selectedCityId,s=`city-catalogue/${i}/city/${r}`)}let o=yield Vn(this.eventService.fetchDoc(s));this.eventService.cityDoc.set(pe(L({},o),{stateId:i}));let a=[],l={},u={},h={};for(let p of o.events){let _=yield Vn(this.eventService.fetchDoc(`events/${p}`));if(_.active){let C=yield Vn(this.eventService.fetchDoc(`events/${p}/itinerary/activities`));l[p]=C,this.eventService.itineraryList.set(l);let k=yield Vn(this.eventService.fetchDocs(`events/${p}/slab-variant`));u[p]=[];for(let F of k){let x=yield Vn(this.eventService.fetchDoc(`events/${p}/slab-variant/${F.slabId}`));if(x.active){let z=yield Vn(this.eventService.fetchDocs(`events/${p}/slab-variant/${F.slabId}/variants`));h[F.slabId]=[];for(let X of z){let H=yield Vn(this.eventService.fetchDoc(`events/${p}/slab-variant/${F.slabId}/variants/${X.variantId}`));yield this.isTaxActive(H?.taxType).then(J=>{H.active&&J&&(h[F.slabId].push(H),this.eventService.variantList.set(h))}),this.loadingService.hide()}h[F.slabId].length>0&&(u[p].push(x),this.eventService.slabList.set(u))}}u[p].length>0&&(a.push(_),this.isEventPresent=!0,this.eventService.eventList.set(a))}}}catch(o){console.error("Error fetching events:",o),this.loadingService.hide()}})}isTaxActive(i){return g(this,null,function*(){let r;try{let s=this.eventService.fetchDoc(`tax-types/${i}`);r=(yield Vn(s)).active}catch(s){console.error("Error fetching tax type:",s),r=!1}return r})}seeAllEvent(){this.router.navigate(["event-list"])}onSurveyClick(i){window.location.href=i.link}viewSlsbList(i){this.router.navigate(["slab",i])}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(rt),O(po),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-event"]],standalone:!0,features:[Y],decls:15,vars:2,consts:[[1,"event"],[1,"button_text","header_text_color"],[1,"card"],["src","/assets/homepage/eventcard.svg"],[1,"detail"],[1,"section_title"],[1,"paragraph_text"],[1,"primary",3,"click"],["class","heading",4,"ngIf"],[1,"slider"],["class","slide",3,"click",4,"ngFor","ngForOf"],[1,"heading"],[1,"section_title","header_text_color"],[1,"see-all",3,"click"],[1,"slide",3,"click"],[3,"src","alt"],[1,"bookNow"],[3,"click"]],template:function(r,s){r&1&&(v(0,"section",0)(1,"h2",1),E(2,"Discover Amazing Events"),y(),v(3,"div",2),U(4,"img",3),v(5,"div",4)(6,"h3",5),E(7,"Excitement events waiting for you"),y(),v(8,"p",6),E(9,"Register in various slabs of each events"),y(),v(10,"button",7),G("click",function(){return s.seeAllEvent()}),E(11,"view all"),y()()(),re(12,RV,5,0,"div",8),v(13,"div",9),re(14,DV,9,3,"div",10),y()()),r&2&&(D(12),j("ngIf",s.isEventPresent),D(2),j("ngForOf",s.eventService.eventList()))},dependencies:[Ae,et,Nt],styles:["section[_ngcontent-%COMP%]{padding-bottom:80px}.event[_ngcontent-%COMP%]{padding:20px;border-radius:10px}.event[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px;font-weight:700}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(90.32deg,#464e5f .28%,#464e5fcc 47.84%,#464e5f66 99.72%);display:flex;border-radius:12px;margin-top:5%}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{margin:40px 0}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:16px;margin:0 5px 0 0;line-height:1}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 5px 0 0;color:#fff;font-weight:500;font-size:13px}.event[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px 5px 0 25px;border-radius:10px;height:30px;width:90px;border:none}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .see-all[_ngcontent-%COMP%]{float:right;color:#00f;text-decoration:none;border:none;background:none}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{margin-top:5%;background:linear-gradient(180deg,#2d198a,#1c2127);border-radius:15px;display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{flex:0 0 auto;scroll-snap-align:start;cursor:pointer}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%;height:269px;object-fit:cover;border-radius:20px;margin-left:15px;margin-top:15px}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#fff;margin-left:15px}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .bookNow[_ngcontent-%COMP%]{display:flex;color:#fff;margin-left:15px;margin-top:15px;padding-bottom:30px}.event[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .bookNow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:80px;border-radius:10px}"]});let t=e;return t})();var _T=(()=>{let e=class e{constructor(i,r){this.authService=i,this.DataProviderService=r}ngOnInit(){setTimeout(()=>{this.name=this.DataProviderService.currentUser?.userData.name},3e3)}};e.\u0275fac=function(r){return new(r||e)(O(yn),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-header-with-menu"]],standalone:!0,features:[Y],decls:9,vars:1,consts:[[1,"head"],[1,"header"],[1,"page_title","header_text_color"],["src","assets/header/bell_icon.svg","alt",""],["src","assets/header/icon1.svg","alt",""],["href","#offcanvas-usage","uk-toggle","target: #offcanvas-flip"],["src","assets/header/menu.svg","alt",""]],template:function(r,s){r&1&&(v(0,"div",0)(1,"div",1)(2,"p",2),E(3),y(),v(4,"nav"),U(5,"img",3)(6,"img",4),v(7,"a",5),U(8,"img",6),y()()()()),r&2&&(D(3),ve("Hi, ",s.name,""))},styles:[".head[_ngcontent-%COMP%]{border-bottom:1px solid #8d8c8c}.head[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;line-height:normal;padding:20px 0 0;width:92vw;margin-left:4vw;position:fixed;z-index:100;background:#fff;border-bottom:1px solid #8d8c8c}.head[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:20px}.head[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px;width:25px}"]});let t=e;return t})();var vT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-other-services"]],standalone:!0,features:[Y],decls:19,vars:0,consts:[[1,"section_title","header_text_color"],[1,"hospital"],["src","/assets/other_services/car.svg"],["src","/assets/other_services/airport.svg"],[1,"section_title"],["src","/assets/other_services/customersupport.svg"],["src","/assets/other_services/tour.svg"]],template:function(r,s){r&1&&(v(0,"section")(1,"p",0),E(2,"Services"),y(),v(3,"div",1),U(4,"img",2),v(5,"span"),E(6,"Cab booking"),y()(),v(7,"div",1),U(8,"img",3),v(9,"span",4),E(10,"Airport Pick and Drop"),y()(),v(11,"div",1),U(12,"img",5),v(13,"span",4),E(14,"Tour Guide "),y()(),v(15,"div",1),U(16,"img",6),v(17,"span",4),E(18,"Customer Support"),y()()())},styles:["section[_ngcontent-%COMP%]{padding:0 15px 80px}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400}section[_ngcontent-%COMP%]   .hospital[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:2rem;background:linear-gradient(90.32deg,#464e5f .28%,#464e5fcc 47.84%,#464e5f66 99.72%);border-radius:10px;height:70px;width:100%;padding:0 10px}section[_ngcontent-%COMP%]   .hospital[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:20px;font-size:18px;color:#f0f0f0;font-family:Jura,sans-serif;font-style:normal;font-weight:700;line-height:normal}"]});let t=e;return t})();var yT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-home"]],standalone:!0,features:[Y],decls:4,vars:0,template:function(r,s){r&1&&U(0,"app-header-with-menu")(1,"app-survey-form")(2,"app-event")(3,"app-other-services")},dependencies:[mT,gT,_T,vT]});let t=e;return t})();function OV(t,e){if(t&1){let n=ke();v(0,"input",4,0),G("paste",function(r){ue(n);let s=te(2);return de(s.handlePaste(r))})("keyup",function(r){let s=ue(n).index,o=te(2);return de(o.onKeyUp(r,s))})("input",function(r){ue(n);let s=te(2);return de(s.onInput(r))})("keydown",function(r){let s=ue(n).index,o=te(2);return de(o.onKeyDown(r,s))}),y()}if(t&2){let n=e.$implicit,i=e.index,r=te(2);Vh("otp-input ",r.config.inputClass,""),j("pattern",r.config.allowNumbersOnly?"\\d*":"")("type",r.inputType)("placeholder",(r.config==null?null:r.config.placeholder)||"")("ngStyle",r.config.inputStyles)("formControl",r.otpForm.controls[n])("id",r.getBoxId(i))}}function xV(t,e){if(t&1&&(v(0,"div",2),re(1,OV,2,9,"input",3),cl(2,"keys"),y()),t&2){let n=te();Vh("ng-otp-input-wrapper wrapper ",n.config.containerClass,""),h0("id","c_",n.componentKey,""),j("ngStyle",n.config.containerStyles),D(),j("ngForOf",ll(2,7,n.otpForm==null?null:n.otpForm.controls))}}var or=class{static ifTab(e){return this.ifKey(e,"Tab")}static ifDelete(e){return this.ifKey(e,"Delete;Del")}static ifBackspace(e){return this.ifKey(e,"Backspace")}static ifRightArrow(e){return this.ifKey(e,"ArrowRight;Right")}static ifLeftArrow(e){return this.ifKey(e,"ArrowLeft;Left")}static ifSpacebar(e){return this.ifKey(e,"Spacebar; ")}static ifKey(e,n){return n.split(";").some(r=>r===e.key)}},rv=(()=>{class t{transform(n){return Object.keys(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=n0({name:"keys",type:t,pure:!0}),t})(),bT=(()=>{class t{constructor(n,i){this.keysPipe=n,this.document=i,this.config={length:4},this.onInputChange=new Ke,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+new Date().getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new Bn({});for(let n=0;n<this.config.length;n++)this.otpForm.addControl(this.getControlName(n),new De);this.otpForm.valueChanges.subscribe(n=>{this.keysPipe.transform(this.otpForm.controls).forEach(i=>{var r=this.otpForm.controls[i].value;r&&r.length>1&&(r.length>=this.config.length?this.setValue(r):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){let n=this.document.getElementById(`c_${this.componentKey}`);if(n){let i=n.getElementsByClassName("otp-input")[0];i&&i.focus&&i.focus()}}}getControlName(n){return`ctrl_${n}`}onKeyDown(n,i){let r=this.getBoxId(i-1),s=this.getBoxId(i);if(or.ifSpacebar(n))return n.preventDefault(),!1;if(or.ifBackspace(n)){n.target.value?this.clearInput(s,i):(this.clearInput(r,i-1),this.setSelected(r)),this.rebuildValue();return}}onInput(n){let i=this.currentVal?`${this.currentVal}${n.target.value}`:n.target.value;if(this.config.allowNumbersOnly&&!this.validateNumber(i)){n.target.value="",n.stopPropagation(),n.preventDefault();return}}onKeyUp(n,i){or.ifTab(n)&&(i-=1);let r=this.getBoxId(i+1),s=this.getBoxId(i-1),o=this.getBoxId(i);if(or.ifRightArrow(n)){n.preventDefault(),this.setSelected(r);return}if(or.ifLeftArrow(n)){n.preventDefault(),this.setSelected(s);return}if(or.ifDelete(n)){n.target.value?this.clearInput(o,i):(this.clearInput(s,i-1),this.setSelected(s)),this.rebuildValue();return}n.target.value&&(this.ifValidKeyCode(n)&&this.setSelected(r),this.rebuildValue())}validateNumber(n){return n&&/^[0-9]+$/.test(n)}getBoxId(n){return`otp_${n}_${this.componentKey}`}clearInput(n,i){let r=this.getControlName(i);this.otpForm.controls[r]?.setValue(null);let s=this.document.getElementById(n);s&&s instanceof HTMLInputElement&&(s.value=null)}setSelected(n){this.focusTo(n);let i=this.document.getElementById(n);i&&i.setSelectionRange&&setTimeout(()=>{i.setSelectionRange(0,1)},0)}ifValidKeyCode(n){let i=n.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(i)}focusTo(n){let i=this.document.getElementById(n);i&&i.focus()}setValue(n){if(!(this.config.allowNumbersOnly&&isNaN(n))){if(this.otpForm.reset(),!n){this.rebuildValue();return}if(n=n.toString().replace(/\s/g,""),Array.from(n).forEach((r,s)=>{this.otpForm.get(this.getControlName(s))&&this.otpForm.get(this.getControlName(s)).setValue(r)}),!this.config.disableAutoFocus){let r=this.document.getElementById(`c_${this.componentKey}`);var i=n.length<this.config.length?n.length:this.config.length-1;let s=r.getElementsByClassName("otp-input")[i];s&&s.focus&&s.focus()}this.rebuildValue()}}rebuildValue(){let n="";this.keysPipe.transform(this.otpForm.controls).forEach(i=>{if(this.otpForm.controls[i].value){let r=this.otpForm.controls[i].value,s=r.length>1,o=!this.config.allowNumbersOnly&&this.config.letterCase&&(this.config.letterCase.toLocaleLowerCase()=="upper"||this.config.letterCase.toLocaleLowerCase()=="lower");r=r[0];let a=o?this.config.letterCase.toLocaleLowerCase()=="upper"?r.toUpperCase():r.toLowerCase():r;o&&a==r?o=!1:r=a,n+=r,(s||o)&&this.otpForm.controls[i].setValue(r)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(n),this.onInputChange.emit(n),this.currentVal=n}handlePaste(n){let i=n.clipboardData||window.clipboardData;if(i)var r=i.getData("Text");n.stopPropagation(),n.preventDefault(),!(!r||this.config.allowNumbersOnly&&!this.validateNumber(r))&&this.setValue(r)}}return t.\u0275fac=function(n){return new(n||t)(O(rv),O(he))},t.\u0275cmp=W({type:t,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[["inp",""],[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id"]],template:function(n,i){n&1&&re(0,xV,3,9,"div",1),n&2&&j("ngIf",i.otpForm==null?null:i.otpForm.controls)},dependencies:[Nt,w0,et,mn,kp,gn,Dp,rv],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),t})(),wT=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=He({type:t}),t.\u0275inj=We({providers:[rv],imports:[[Ae,Ki,$n]]}),t})();var qe=(()=>{let e=class e{constructor(i){this.location=i,this.pageTitle=""}back(){this.location.back()}};e.\u0275fac=function(r){return new(r||e)(O(Ui))},e.\u0275cmp=W({type:e,selectors:[["app-header-with-back"]],inputs:{pageTitle:"pageTitle"},standalone:!0,features:[Y],decls:5,vars:1,consts:[[1,"header"],[1,"back-with-title","header_text_color",3,"click"],["src","assets/header/back_button.svg","alt",""]],template:function(r,s){r&1&&(v(0,"div",0)(1,"div",1),G("click",function(){return s.back()}),U(2,"img",2),v(3,"p"),E(4),y()()()),r&2&&(D(4),me(s.pageTitle))},styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;position:fixed;width:92vw;z-index:100;background:#fff;border-bottom:1px solid #8d8c8c;height:50px;margin-left:4vw}.header[_ngcontent-%COMP%]   .back-with-title[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Krona One,sans-serif;font-size:18px;font-style:normal;font-weight:400;line-height:normal}"]});let t=e;return t})();var MV=["ngOtpInput"];function NV(t,e){if(t&1){let n=ke();v(0,"ng-otp-input",12,0),G("onInputChange",function(r){ue(n);let s=te();return de(s.onOtpChange(r))}),y()}if(t&2){let n=te();j("config",n.config)}}function FV(t,e){if(t&1&&(v(0,"button",13),E(1),y()),t&2){let n=te();D(),ve(" Wait for ",n.resendOtpTime," second ")}}function VV(t,e){if(t&1){let n=ke();v(0,"button",14),G("click",function(){ue(n);let r=te();return de(r.sendOTP())}),E(1," Get OTP "),y()}}var IT=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.dataProvider=r,this.authService=s,this.showOtpComponent=!0,this.resendOtpTime=120,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputmode:"tel",inputStyles:{width:"38px",height:"38px"}}}ngOnInit(){this.dataProvider.loginConfirmationResult?this.startResendTimer():this.router.navigate(["login"])}sendOTP(){return g(this,null,function*(){this.dataProvider.loginConfirmationResult&&(this.verifier||(this.verifier=new jr(this.authService.auth,"recaptcha-container2",{size:"invisible"})),this.authService.loginWithPhoneNumber(this.dataProvider.userMobile,this.verifier).then(i=>{this.resendOtpTime=60,this.startResendTimer()}).catch(i=>{console.log(i)}).finally(()=>{console.log("finally")}))})}login(){return g(this,null,function*(){this.dataProvider.loginConfirmationResult&&this.dataProvider.loginConfirmationResult.confirm(this.otp).then(i=>{this.authService.setUserData(i.user),this.router.navigate(["profile"])}).catch(i=>{console.log(i)}).finally(()=>{console.log("finally")})})}onOtpChange(i){this.otp=i}setVal(i){this.ngOtpInput.setValue(i)}toggleDisable(){this.ngOtpInput.otpForm&&(this.ngOtpInput.otpForm.disabled?this.ngOtpInput.otpForm.enable():this.ngOtpInput.otpForm.disable())}onConfigChange(){this.showOtpComponent=!1,this.otp=null,setTimeout(()=>{this.showOtpComponent=!0},0)}startResendTimer(){setTimeout(()=>{this.resendOtpTime>0&&(this.resendOtpTime--,this.startResendTimer())},1e3)}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(pt),O(yn))},e.\u0275cmp=W({type:e,selectors:[["app-otp"]],viewQuery:function(r,s){if(r&1&&gr(MV,5),r&2){let o;Vi(o=Li())&&(s.ngOtpInput=o.first)}},standalone:!0,features:[Y],decls:13,vars:4,consts:[["ngOtpInput",""],[3,"pageTitle"],[1,"otp-container"],["id","recaptcha-container2"],["src","assets/otp/otp_page.svg","alt",""],[1,"login-section"],[1,"otp-inputs"],[1,"header_text_color"],[3,"config","onInputChange",4,"ngIf"],["class","description_text secondary_botton_gradient login",4,"ngIf"],["class","header_text_color secondary_botton_gradient login",3,"click",4,"ngIf"],[1,"white","primary_botton_gradient","login",3,"click"],[3,"onInputChange","config"],[1,"description_text","secondary_botton_gradient","login"],[1,"header_text_color","secondary_botton_gradient","login",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",1),v(1,"section",2),U(2,"div",3)(3,"img",4),v(4,"div",5)(5,"div",6)(6,"p",7),E(7,"Auto filling OTP from sms"),y(),re(8,NV,2,1,"ng-otp-input",8),y(),re(9,FV,2,1,"button",9)(10,VV,2,0,"button",10),v(11,"button",11),G("click",function(){return s.login()}),E(12," Verify "),y()()()),r&2&&(j("pageTitle","Enter OTP"),D(8),j("ngIf",s.showOtpComponent),D(),j("ngIf",s.resendOtpTime>0),D(),j("ngIf",s.resendOtpTime===0))},dependencies:[$n,wT,bT,Ae,Nt,qe],styles:["section[_ngcontent-%COMP%]{padding-top:50px;display:flex;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;margin-top:10vh}section[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]{position:absolute;bottom:2px;width:94%}section[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal}section[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .otp-inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:20px}button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;padding:20px;justify-content:center;align-items:center;gap:20px;flex-shrink:0;border:none;border-radius:30px;margin-bottom:10px;font-size:16px;font-family:Jura,sans-serif;font-style:normal;font-weight:700;line-height:normal}"]});let t=e;return t})();var DT="firebasestorage.googleapis.com",OT="storageBucket",LV=2*60*1e3,UV=10*60*1e3,jV=1e3;var Qe=class t extends wt{constructor(e,n,i=0){super(sv(e),`Firebase Storage: ${n} (${sv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ge=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ge||{});function sv(t){return"storage/"+t}function pv(){let t="An unknown error occurred, please check the error payload for server response.";return new Qe(Ge.UNKNOWN,t)}function BV(t){return new Qe(Ge.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zV(t){return new Qe(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $V(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Ge.UNAUTHENTICATED,t)}function qV(){return new Qe(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GV(t){return new Qe(Ge.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xT(){return new Qe(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kT(){return new Qe(Ge.CANCELED,"User canceled the upload/download.")}function WV(t){return new Qe(Ge.INVALID_URL,"Invalid URL '"+t+"'.")}function HV(t){return new Qe(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KV(){return new Qe(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OT+"' property when initializing the app?")}function MT(){return new Qe(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YV(){return new Qe(Ge.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function QV(){return new Qe(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XV(t){return new Qe(Ge.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function av(t){return new Qe(Ge.INVALID_ARGUMENT,t)}function NT(){return new Qe(Ge.APP_DELETED,"The Firebase app was deleted.")}function JV(t){return new Qe(Ge.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(t,e){return new Qe(Ge.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pc(t){throw new Qe(Ge.INTERNAL_ERROR,"Internal error: "+t)}var Fn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw HV(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function s(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(J){J.path_=decodeURIComponent(J.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",C=new RegExp(`^https?://${p}/${h}/b/${r}/o${_}`,"i"),k={bucket:1,path:3},F=n===DT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",z=new RegExp(`^https?://${F}/${r}/${x}`,"i"),H=[{regex:a,indices:l,postModify:s},{regex:C,indices:k,postModify:u},{regex:z,indices:{bucket:1,path:2},postModify:u}];for(let J=0;J<H.length;J++){let Ne=H[J],le=Ne.regex.exec(e);if(le){let T=le[Ne.indices.bucket],b=le[Ne.indices.path];b||(b=""),i=new t(T,b),Ne.postModify(i);break}}if(i==null)throw WV(e);return i}},cv=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function ZV(t,e,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...x){u||(u=!0,e.apply(null,x))}function p(x){r=setTimeout(()=>{r=null,t(C,l())},x)}function _(){s&&clearTimeout(s)}function C(x,...z){if(u){_();return}if(x){_(),h.call(null,x,...z);return}if(l()||o){_(),h.call(null,x,...z);return}i<64&&(i*=2);let H;a===1?(a=2,H=0):H=(i+Math.random())*1e3,p(H)}let k=!1;function F(x){k||(k=!0,_(),!u&&(r!==null?(x||(a=2),clearTimeout(r),p(0)):x||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,F(!0)},n),F}function eL(t){t(!1)}function tL(t){return t!==void 0}function nL(t){return typeof t=="function"}function iL(t){return typeof t=="object"&&!Array.isArray(t)}function zd(t){return typeof t=="string"||t instanceof String}function ET(t){return mv()&&t instanceof Blob}function mv(){return typeof Blob<"u"}function CT(t,e,n,i){if(i<e)throw av(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw av(`Invalid value for '${t}'. Expected ${n} or less.`)}function xc(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function FT(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var vo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(vo||{});function VT(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||r||s}var lv=class{constructor(e,n,i,r,s,o,a,l,u,h,p,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new _o(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===vo.NO_ERROR,l=s.getStatus();if(!a||VT(l,this.additionalRetryCodes_)&&this.retry){let h=s.getErrorCode()===vo.ABORT;i(!1,new _o(!1,null,h));return}let u=this.successCodes_.indexOf(l)!==-1;i(!0,new _o(u,s))})},n=(i,r)=>{let s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());tL(l)?s(l):s()}catch(l){o(l)}else if(a!==null){let l=pv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){let l=this.appDelete_?NT():kT();o(l)}else{let l=xT();o(l)}};this.canceled_?n(!1,new _o(!1,null,!0)):this.backoffId_=ZV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},_o=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function rL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cL(t,e,n,i,r,s,o=!0){let a=FT(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return oL(u,e),rL(u,n),sL(u,s),aL(u,i),new lv(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function lL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uL(...t){let e=lL();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(mv())return new Blob(t);throw new Qe(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function hL(t){if(typeof atob>"u")throw XV("base-64");return atob(t)}var si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Dc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function fL(t,e){switch(t){case si.RAW:return new Dc(LT(e));case si.BASE64:case si.BASE64URL:return new Dc(UT(t,e));case si.DATA_URL:return new Dc(mL(e),gL(e))}throw pv()}function LT(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=i,o=t.charCodeAt(++n);i=65536|(s&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function pL(t){let e;try{e=decodeURIComponent(t)}catch{throw Rc(si.DATA_URL,"Malformed data URL.")}return LT(e)}function UT(t,e){switch(t){case si.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw Rc(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case si.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw Rc(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hL(e)}catch(r){throw r.message.includes("polyfill")?r:Rc(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}var jd=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=_L(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function mL(t){let e=new jd(t);return e.base64?UT(si.BASE64,e.rest):pL(e.rest)}function gL(t){return new jd(t).contentType}function _L(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Bd=class t{constructor(e,n){let i=0,r="";ET(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(ET(this.data_)){let i=this.data_,r=dL(i,e,n);return r===null?null:new t(r)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(mv()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(uL.apply(null,n))}else{let n=e.map(o=>zd(o)?fL(si.RAW,o).data:o.data_),i=0;n.forEach(o=>{i+=o.byteLength});let r=new Uint8Array(i),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[s++]=o[a]}),new t(r,!0)}}uploadData(){return this.data_}};function jT(t){let e;try{e=JSON.parse(t)}catch{return null}return iL(e)?e:null}function vL(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yL(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function BT(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function bL(t,e){return e}var Rt=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||bL}},Ud=null;function wL(t){return!zd(t)||t.length<2?t:BT(t)}function zT(){if(Ud)return Ud;let t=[];t.push(new Rt("bucket")),t.push(new Rt("generation")),t.push(new Rt("metageneration")),t.push(new Rt("name","fullPath",!0));function e(s,o){return wL(o)}let n=new Rt("name");n.xform=e,t.push(n);function i(s,o){return o!==void 0?Number(o):o}let r=new Rt("size");return r.xform=i,t.push(r),t.push(new Rt("timeCreated")),t.push(new Rt("updated")),t.push(new Rt("md5Hash",null,!0)),t.push(new Rt("cacheControl",null,!0)),t.push(new Rt("contentDisposition",null,!0)),t.push(new Rt("contentEncoding",null,!0)),t.push(new Rt("contentLanguage",null,!0)),t.push(new Rt("contentType",null,!0)),t.push(new Rt("metadata","customMetadata",!0)),Ud=t,Ud}function IL(t,e){function n(){let i=t.bucket,r=t.fullPath,s=new Fn(i,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function EL(t,e,n){let i={};i.type="file";let r=n.length;for(let s=0;s<r;s++){let o=n[s];i[o.local]=o.xform(i,e[o.server])}return IL(i,t),i}function $T(t,e,n){let i=jT(e);return i===null?null:EL(t,i,n)}function CL(t,e,n,i){let r=jT(e);if(r===null||!zd(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let h=t.bucket,p=t.fullPath,_="/b/"+o(h)+"/o/"+o(p),C=xc(_,n,i),k=FT({alt:"media",token:u});return C+k})[0]}function qT(t,e){let n={},i=e.length;for(let r=0;r<i;r++){let s=e[r];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var ar=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Si(t){if(!t)throw pv()}function gv(t,e){function n(i,r){let s=$T(t,r,e);return Si(s!==null),s}return n}function TL(t,e){function n(i,r){let s=$T(t,r,e);return Si(s!==null),CL(s,r,t.host,t._protocol)}return n}function kc(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=qV():r=$V():n.getStatus()===402?r=zV(t.bucket):n.getStatus()===403?r=GV(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function GT(t){let e=kc(t);function n(i,r){let s=e(i,r);return i.getStatus()===404&&(s=BV(t.path)),s.serverResponse=r.serverResponse,s}return n}function SL(t,e,n){let i=e.fullServerUrl(),r=xc(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ar(r,s,gv(t,n),o);return a.errorHandler=GT(e),a}function AL(t,e,n){let i=e.fullServerUrl(),r=xc(i,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ar(r,s,TL(t,n),o);return a.errorHandler=GT(e),a}function PL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function WT(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=PL(null,e)),i}function RL(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let H="";for(let J=0;J<2;J++)H=H+Math.random().toString().slice(2);return H}let l=a();o["Content-Type"]="multipart/related; boundary="+l;let u=WT(e,i,r),h=qT(u,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,_=`\r
--`+l+"--",C=Bd.getBlob(p,i,_);if(C===null)throw MT();let k={name:u.fullPath},F=xc(s,t.host,t._protocol),x="POST",z=t.maxUploadRetryTime,X=new ar(F,x,gv(t,n),z);return X.urlParams=k,X.headers=o,X.body=C.uploadData(),X.errorHandler=kc(e),X}var yo=class{constructor(e,n,i,r){this.current=e,this.total=n,this.finalized=!!i,this.metadata=r||null}};function _v(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Si(!1)}return Si(!!n&&(e||["active"]).indexOf(n)!==-1),n}function DL(t,e,n,i,r){let s=e.bucketOnlyServerUrl(),o=WT(e,i,r),a={name:o.fullPath},l=xc(s,t.host,t._protocol),u="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=qT(o,n),_=t.maxUploadRetryTime;function C(F){_v(F);let x;try{x=F.getResponseHeader("X-Goog-Upload-URL")}catch{Si(!1)}return Si(zd(x)),x}let k=new ar(l,u,C,_);return k.urlParams=a,k.headers=h,k.body=p,k.errorHandler=kc(e),k}function OL(t,e,n,i){let r={"X-Goog-Upload-Command":"query"};function s(u){let h=_v(u,["active","final"]),p=null;try{p=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Si(!1)}p||Si(!1);let _=Number(p);return Si(!isNaN(_)),new yo(_,i.size(),h==="final")}let o="POST",a=t.maxUploadRetryTime,l=new ar(n,o,s,a);return l.headers=r,l.errorHandler=kc(e),l}var TT=256*1024;function xL(t,e,n,i,r,s,o,a){let l=new yo(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw YV();let u=l.total-l.current,h=u;r>0&&(h=Math.min(h,r));let p=l.current,_=p+h,C="";h===0?C="finalize":u===h?C="upload, finalize":C="upload";let k={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${l.current}`},F=i.slice(p,_);if(F===null)throw MT();function x(J,Ne){let le=_v(J,["active","final"]),T=l.current+h,b=i.size(),w;return le==="final"?w=gv(e,s)(J,Ne):w=null,new yo(T,b,le==="final",w)}let z="POST",X=e.maxUploadRetryTime,H=new ar(n,z,x,X);return H.headers=k,H.body=F.uploadData(),H.progressCallback=a||null,H.errorHandler=kc(t),H}var Kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ov(t){switch(t){case"running":case"pausing":case"canceling":return Kt.RUNNING;case"paused":return Kt.PAUSED;case"success":return Kt.SUCCESS;case"canceled":return Kt.CANCELED;case"error":return Kt.ERROR;default:return Kt.ERROR}}var uv=class{constructor(e,n,i){if(nL(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function mo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var ST=null,dv=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Pc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},hv=class extends dv{initXhr(){this.xhr_.responseType="text"}};function go(){return ST?ST():new hv}var fv=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=zT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ge.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(VT(r.status,[]))if(s)r=xT();else{this.sleepTime=Math.max(this.sleepTime*2,jV),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ge.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=DL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,go,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let r=OL(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,go,n,i);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=TT*this._chunkMultiplier,n=new yo(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let o;try{o=xL(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(o,go,r,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){TT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=SL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,go,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=RL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,go,e,n);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=kT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=ov(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,r){let s=new uv(n||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ov(this._state)){case Kt.SUCCESS:mo(this._resolve.bind(null,this.snapshot))();break;case Kt.CANCELED:case Kt.ERROR:let n=this._reject;mo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ov(this._state)){case Kt.RUNNING:case Kt.PAUSED:e.next&&mo(e.next.bind(e,this.snapshot))();break;case Kt.SUCCESS:e.complete&&mo(e.complete.bind(e))();break;case Kt.CANCELED:case Kt.ERROR:e.error&&mo(e.error.bind(e,this._error))();break;default:e.error&&mo(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var bo=class t{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BT(this._location.path)}get storage(){return this._service}get parent(){let e=vL(this._location.path);if(e===null)return null;let n=new Fn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JV(e)}};function kL(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new fv(t,new Bd(e),n)}function ML(t){t._throwIfRoot("getDownloadURL");let e=AL(t.storage,t._location,zT());return t.storage.makeRequestWithTokens(e,go).then(n=>{if(n===null)throw QV();return n})}function NL(t,e){let n=yL(t._location.path,e),i=new Fn(t._location.bucket,n);return new bo(t.storage,i)}function FL(t){return/^[A-Za-z]+:\/\//.test(t)}function VL(t,e){return new bo(t,e)}function HT(t,e){if(t instanceof Oc){let n=t;if(n._bucket==null)throw KV();let i=new bo(n,n._bucket);return e!=null?HT(i,e):i}else return e!==void 0?NL(t,e):t}function LL(t,e){if(e&&FL(e)){if(t instanceof Oc)return VL(t,e);throw av("To use ref(service, url), the first argument must be a Storage instance.")}else return HT(t,e)}function AT(t,e){let n=e?.[OT];return n==null?null:Fn.makeFromBucketSpec(n,t)}function UL(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:hu(r,t.app.options.projectId))}var Oc=class{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=DT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LV,this._maxUploadRetryTime=UV,this._requests=new Set,r!=null?this._bucket=Fn.makeFromBucketSpec(r,this._host):this._bucket=AT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=AT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return g(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return g(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new cv(NT());{let o=cL(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return g(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},PT="@firebase/storage",RT="0.12.6";var KT="storage";function YT(t,e,n){return t=Me(t),kL(t,e,n)}function QT(t){return t=Me(t),ML(t)}function XT(t,e){return t=Me(t),LL(t,e)}function JT(t=en(),e){t=Me(t);let i=Ht(t,KT).getImmediate({identifier:e}),r=Us("storage");return r&&ZT(i,...r),i}function ZT(t,e,n,i={}){UL(t,e,n,i)}function jL(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Oc(n,i,r,e,Gn)}function BL(){It(new tt(KT,jL,"PUBLIC").setMultipleInstances(!0)),we(PT,RT,""),we(PT,RT,"esm2017")}BL();var es=class{constructor(e){return e}},eS="storage",vv=class{constructor(){return Pn(eS)}};var yv=new ie("angularfire2.storage-instances");function zL(t,e){let n=Hn(eS,t,e);return n&&new es(n)}function $L(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new es(i)}}var qL={provide:vv,deps:[[new Le,yv]]},GL={provide:es,useFactory:zL,deps:[[new Le,yv],$t]};function tS(t,...e){return we("angularfire",tn.full,"gcs"),gt([GL,qL,{provide:yv,useFactory:$L(t),multi:!0,deps:[ce,xe,_n,nn,[new Le,bi],[new Le,Wn],...e]}])}var nS=Fe(QT,!0);var iS=Fe(JT,!0);var bv=Fe(XT,!0);var rS=Fe(YT,!0);var sS=(()=>{let e=class e{constructor(i){this.Firestore=i}updateProfileInfo(i){return g(this,null,function*(){return ii(yt(this.Firestore,"users",i.uid),i)})}};e.\u0275fac=function(r){return new(r||e)(N(Ue))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oS=(()=>{let e=class e{constructor(i,r,s,o,a,l,u){this.storage=i,this.firestore=r,this.Router=s,this.dataProvider=o,this.ProfileInfoService=a,this.Auth=l,this.AuthService=u,this.userForm=new Bn({name:new De("",$e.required),gender:new De("male",$e.required),dob:new De("",$e.required),active:new De(!0),photoURL:new De("assets/login/loginPageLogo.svg"),age:new De(""),uid:new De(""),phoneNumber:new De("")}),this.isImgSizeValid=!1}openDatePicker(){let i=document.getElementById("startDate");i.focus(),i.click()}ngOnInit(){}changePhoto(i){return g(this,null,function*(){let r=i.target.files[0];if(r.size/1024>500){this.isImgSizeValid=!0;return}else{this.isImgSizeValid=!1;let h=`donorProfile/${`${new Date().getTime()}.${r.name.split(".").pop()}`}`;yield rS(bv(this.storage,h),r);let p=yield nS(bv(this.storage,h));this.userForm.patchValue({photoURL:p})}})}removePhoto(){this.userForm.value.img="assets/add-user/dummyProfile.jpg"}cancel(){this.Router.navigate(["login"])}submit(){this.userForm.valid&&(this.userForm.value.uid=this.dataProvider.currentUser?.user.uid,this.userForm.value.phoneNumber=this.dataProvider.currentUser?.userData.phoneNumber,this.userForm.value.age=new Date().getFullYear()-new Date(this.userForm.value.dob).getFullYear(),this.userForm.value.dob=new Date(this.userForm.value.dob).toISOString(),this.ProfileInfoService.updateProfileInfo(this.userForm.value).then(()=>{this.Router.navigate(["add-address"])}))}};e.\u0275fac=function(r){return new(r||e)(O(es),O(Ue),O(ge),O(pt),O(sS),O(Rn),O(yn))},e.\u0275cmp=W({type:e,selectors:[["app-profile-info"]],standalone:!0,features:[Y],decls:38,vars:4,consts:[["fileInput",""],[3,"pageTitle"],["alt","Profile Photo",1,"profile_section",3,"src"],[1,"upload_picture_btn"],["type","file","accept","image/*",2,"display","none",3,"change"],["src","assets/profile/camera.svg","alt","",3,"click"],["src","assets/profile/upload_img_icon.svg","alt","",3,"click"],[1,"login-secton"],[3,"formGroup"],[1,"field"],[1,"description_text"],["type","text","placeholder","Enter Your Name","formControlName","name",1,"input_box_bg_gradient","header_text_color"],["formControlName","gender",1,"input_box_bg_gradient","header_text_color"],["value","male"],["value","female"],["value","other"],[1,"date-picker-wrapper"],["type","date","id","startDate","name","startDate","value","2024-07-13","formControlName","dob","min","1940-01-01","max","2015-12-31",1,"input_box_bg_gradient","header_text_color","custom-date-input"],[1,"custom-calendar-icon",3,"click"],[3,"click","btnName"]],template:function(r,s){if(r&1){let o=ke();U(0,"app-header-with-back",1),v(1,"section")(2,"div"),U(3,"img",2),y(),v(4,"div",3)(5,"div")(6,"input",4,0),G("change",function(l){return ue(o),de(s.changePhoto(l))}),y(),v(8,"img",5),G("click",function(){ue(o);let l=al(7);return de(l.click())}),y()(),v(9,"div")(10,"input",4,0),G("change",function(l){return ue(o),de(s.changePhoto(l))}),y(),v(12,"img",6),G("click",function(){ue(o);let l=al(7);return de(l.click())}),y()()(),v(13,"div",7)(14,"form",8)(15,"div",9)(16,"label",10),E(17,"Name"),y(),U(18,"br")(19,"input",11),y(),v(20,"div",9)(21,"label",10),E(22,"Gender"),y(),U(23,"br"),v(24,"select",12)(25,"option",13),E(26,"Male"),y(),v(27,"option",14),E(28,"Female"),y(),v(29,"option",15),E(30,"Other"),y()()(),v(31,"div",9)(32,"label",10),E(33,"DOB"),y(),v(34,"div",16),U(35,"input",17),v(36,"div",18),G("click",function(){return ue(o),de(s.openDatePicker())}),y()()()(),v(37,"lib-save-btn",19),G("click",function(){return ue(o),de(s.submit())}),y()()()}r&2&&(j("pageTitle","Your Profile"),D(3),j("src",s.userForm.value.photoURL,st),D(11),j("formGroup",s.userForm),D(23),j("btnName","Next"))},dependencies:[qe,$n,Vs,Wi,Hi,mn,zn,gn,Fs,Or,xr,ks],styles:["section[_ngcontent-%COMP%]{padding-top:50px;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100vw}section[_ngcontent-%COMP%]   .profile_section[_ngcontent-%COMP%]{margin-top:50px;border:2px solid rgb(47,21,170);border-radius:50%;width:225px;height:225px}section[_ngcontent-%COMP%]   .upload_picture_btn[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;gap:25px;margin-top:15px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]{position:absolute;bottom:5px;width:94%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-family:Nunito,sans-serif;font-size:10px;font-style:normal;font-weight:500;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px;font-family:Merge One,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .custom-date-input[_ngcontent-%COMP%]{position:relative;background:url(/assets/profile/datepicker.svg) no-repeat right 10px center;background-size:20px 20px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .custom-date-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{opacity:0}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura,sans-serif}"]});let t=e;return t})();var aS=(()=>{let e=class e{constructor(i,r){this.Firestore=i,this.Router=r}getStateList(){return g(this,null,function*(){return kn(jt(this.Firestore,"city-catalogue"))})}getCityList(i){return g(this,null,function*(){return kn(jt(this.Firestore,"city-catalogue",i,"city"))})}addAddress(i,r){if(i.taxId){let s=yt(this.Firestore,"users",r,"addresses",i.addressId);return Vd(s,i).then(()=>{})}else{let s=yt(jt(this.Firestore,"users",r,"addresses"));return i.addressId=s.id,ii(s,i).then(()=>{this.Router.navigate(["home"])})}}};e.\u0275fac=function(r){return new(r||e)(N(Ue),N(ge))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YL(t,e){if(t&1&&(v(0,"option",14),E(1),y()),t&2){let n=e.$implicit;j("value",n.stateId),D(),ve(" ",n.state," ")}}function QL(t,e){if(t&1&&(v(0,"option",14),E(1),y()),t&2){let n=e.$implicit;j("value",n.cityId),D(),ve(" ",n.city," ")}}var cS=(()=>{let e=class e{constructor(i,r,s,o){this.Router=i,this.AuthService=r,this.AddressService=s,this.dataProvider=o,this.stateList=[],this.cityList=[],this.selectedCityId="",this.selectedStateId="",this.addressForm=new Bn({selectedStateId:new De(this.selectedStateId,$e.required),selectedCityId:new De(this.selectedCityId,$e.required),pincode:new De("",$e.required),landmark:new De("",$e.required),area:new De("",$e.required),phoneNumber:new De("",$e.required),active:new De(!0),addressId:new De("")})}ngOnInit(){return g(this,null,function*(){if(yield this.AddressService.getStateList().then(i=>{i?.docs.map(r=>{r.data().active&&this.stateList.push(r.data())}),this.selectedStateId=this.stateList[0].stateId,this.getCities()}),this.dataProvider.currentUser?.userData?.phoneNumber){let i=this.dataProvider.currentUser.userData.phoneNumber.slice(3);this.addressForm.patchValue({phoneNumber:i})}else console.log("Phone number is not defined")})}getCities(){return g(this,null,function*(){yield this.AddressService.getCityList(this.selectedStateId).then(i=>{i.docs.map(r=>{r.data().active&&this.cityList.push(r.data())}),this.selectedCityId=this.cityList[0].cityId})})}submitAddress(){this.AddressService.addAddress(this.addressForm.value,this.dataProvider.currentUser?.userData.uid)}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(yn),O(aS),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-add-address"]],standalone:!0,features:[Y],decls:38,vars:9,consts:[[3,"pageTitle"],["src","assets/address/addressBanner.svg","alt","address"],[1,"login-secton"],[3,"formGroup"],[1,"field"],[1,"description_text"],["name","selectedState","formControlName","selectedStateId",1,"input_box_bg_gradient","header_text_color",3,"ngModelChange","valueChange","change","ngModel","value"],[3,"value",4,"ngFor","ngForOf"],["name","selectedCity","formControlName","selectedCityId",1,"input_box_bg_gradient","header_text_color",3,"ngModelChange","valueChange","ngModel","value"],["type","number","formControlName","pincode","placeholder","Pincode","minlength","6","maxlength","6","oninput","this.value = this.value.replace(/[^0-9]/g, '').slice(0, 6)",1,"input_box_bg_gradient","header_text_color"],["type","text","formControlName","area","placeholder","Enter House No./Area",1,"input_box_bg_gradient","header_text_color"],["type","text","formControlName","landmark","placeholder","landmark",1,"input_box_bg_gradient","header_text_color"],["type","number","formControlName","phoneNumber","placeholder","Enter Contact Number","minlength","10","maxlength","10","oninput","this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)",1,"input_box_bg_gradient","header_text_color"],[3,"click","btnName"],[3,"value"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"section"),U(2,"img",1),v(3,"div",2)(4,"form",3)(5,"div",4)(6,"label",5),E(7,"Select State"),y(),U(8,"br"),v(9,"select",6),vr("ngModelChange",function(a){return Ln(s.selectedStateId,a)||(s.selectedStateId=a),a})("valueChange",function(a){return Ln(s.selectedStateId,a)||(s.selectedStateId=a),a}),G("change",function(){return s.getCities()}),re(10,YL,2,2,"option",7),y()(),v(11,"div",4)(12,"label",5),E(13,"Select City"),y(),U(14,"br"),v(15,"select",8),vr("ngModelChange",function(a){return Ln(s.selectedCityId,a)||(s.selectedCityId=a),a})("valueChange",function(a){return Ln(s.selectedCityId,a)||(s.selectedCityId=a),a}),re(16,QL,2,2,"option",7),y()(),v(17,"div",4)(18,"label",5),E(19,"Pin-Code"),y(),U(20,"br")(21,"input",9),y(),v(22,"div",4)(23,"label",5),E(24,"House No./Area"),y(),U(25,"br")(26,"input",10),y(),v(27,"div",4)(28,"label",5),E(29,"Landmark"),y(),U(30,"br")(31,"input",11),y(),v(32,"div",4)(33,"label",5),E(34,"Contact "),y(),U(35,"br")(36,"input",12),y(),v(37,"lib-save-btn",13),G("click",function(){return s.submitAddress()}),y()()()()),r&2&&(j("pageTitle","Add Address"),D(4),j("formGroup",s.addressForm),D(5),_r("ngModel",s.selectedStateId)("value",s.selectedStateId),D(),j("ngForOf",s.stateList),D(5),_r("ngModel",s.selectedCityId)("value",s.selectedCityId),D(),j("ngForOf",s.cityList),D(21),j("btnName","Submit"))},dependencies:[qe,Ae,et,Ki,Vs,Wi,Hi,mn,Pp,zn,gn,Fs,xp,Ba,ks,$n,Or,xr],styles:["section[_ngcontent-%COMP%]{padding-top:60px;display:flex;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:20px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]{position:absolute;bottom:5px;width:96%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;font-size:18px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;font-family:Nunito,sans-serif;font-size:10px;font-style:normal;font-weight:500;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:.5px solid rgb(166,166,166);border-radius:12px;width:100%;height:40px;padding:1px 6px;font-family:Merge One,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:normal}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{width:70%}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none}section[_ngcontent-%COMP%]   .login-secton[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{border:1px solid rgb(215,215,215);font-size:16px;font-style:normal;font-weight:700;line-height:normal;font-family:Jura,sans-serif}"]});let t=e;return t})();var lS=(()=>{let e=class e{constructor(i,r){this.firestore=i,this.EventService=r}addInbooking(){return g(this,null,function*(){try{let i=this.EventService.bookingDetails().customer.uid,r=this.EventService.bookingDetails(),s=yt(jt(this.firestore,"users",i,"cart"));return r.id=s.id,ii(s,r),{bookingId:r.id}}catch(i){return console.error("Error adding document: ",i),i}})}};e.\u0275fac=function(r){return new(r||e)(N(Ue),N(rt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JL(t,e){if(t&1){let n=ke();v(0,"div",34),G("click",function(){let r=ue(n).index,s=te();return de(s.setActiveTab(r))}),E(1),y()}if(t&2){let n=e.$implicit,i=e.index,r=te();_t("active",i===r.activeTab),D(),ve(" Member ",n," ")}}function ZL(t,e){t&1&&(v(0,"div",35),E(1," Your mobile number is invalid! "),y())}function e2(t,e){t&1&&(v(0,"div",35),E(1," Your aadhar number is invalid! "),y())}function t2(t,e){t&1&&(v(0,"div",36)(1,"span"),E(2,"Aadhar uploaded successfully!"),y()())}function n2(t,e){t&1&&(v(0,"div",35),E(1," Your pan number is invalid! "),y())}function i2(t,e){t&1&&(v(0,"div",36)(1,"span"),E(2,"Pancard uploaded successfully!"),y()())}var uS=(()=>{let e=class e{constructor(i,r,s,o){if(this.router=i,this.memberservice=r,this.EventService=s,this.DataProviderService=o,this.profileImageSrc="/assets/member_detail/default.svg",this.panuploadSuccess=!1,this.aadharuploadSuccess=!1,this.userTabCount=3,this.tabs=[],this.activeTab=0,this.membersData=[],this.memberForm=new Bn({Name:new De("",$e.required),gender:new De("",$e.required),mobileNo:new De("",[$e.required,$e.pattern(RegExp("[0-9]{10}"))]),Aadharnumber:new De("",[$e.required,$e.pattern(RegExp("[0-9]{12}"))]),Adharimages:new De("",$e.required),Pannumber:new De("",[$e.required,$e.pattern(RegExp("[A-Z]{5}[0-9]{4}[A-Z]{1}"))]),panimages:new De("",$e.required)}),this.generateTabs(),this.initializeMembersData(),this.DataProviderService.loggedIn){let a=this.EventService.bookingDetails();a.customer=this.DataProviderService.currentUser?.userData;let l=this.EventService.bookingDetails().variant.taxType;this.EventService.fetchDoc(`tax-types/${l}`).subscribe(u=>{let h=this.EventService.bookingDetails();h.tax=u}),this.EventService.bookingDetails.set(a)}else this.router.navigate(["login"])}ngOnInit(){this.userTabCount=this.EventService.bookingDetails().totalMember}initializeMembersData(){this.userTabCount=this.EventService.bookingDetails().totalMember;for(let i=0;i<this.userTabCount;i++)this.membersData.push(this.createEmptyMemberData())}createEmptyMemberData(){return{Name:"",gender:"",mobileNo:"",Aadharnumber:"",Adharimages:"",Pannumber:"",panimages:"",profileImageSrc:"/assets/member_detail/default.svg"}}generateTabs(){this.userTabCount=this.EventService.bookingDetails().totalMember,this.tabs=Array.from({length:this.userTabCount},(i,r)=>r+1),this.setActiveTab(0)}setActiveTab(i){this.activeTab!==i&&(this.membersData[this.activeTab]=pe(L({},this.memberForm.value),{profileImageSrc:this.profileImageSrc}),this.activeTab=i,this.resetForm())}onFileSelected(i){let r=i.target;if(r.files&&r.files[0]){let s=r.files[0];this.profileImageSrc=URL.createObjectURL(s),this.membersData[this.activeTab].profileImageSrc=this.profileImageSrc}}triggerFileInputAadhar(){document.getElementById("fileInputAadhar").click()}triggerFileInputPan(){document.getElementById("fileInputPan").click()}onPanUpload(i){i.target.files&&i.target.files.length>0&&(this.panuploadSuccess=!0)}onAadharUpload(i){i.target.files&&i.target.files.length>0&&(this.aadharuploadSuccess=!0)}saveMemberDetail(){if(this.memberForm.valid)if(this.membersData[this.activeTab]=pe(L({},this.memberForm.value),{profileImageSrc:this.profileImageSrc}),this.activeTab<this.tabs.length-1)this.setActiveTab(this.activeTab+1);else{let i=this.EventService.bookingDetails().variant.price,r=this.EventService.bookingDetails().totalMember,s=0;if(this.EventService.bookingDetails().variant.taxCalc!="inclusive"){let a=this.EventService.bookingDetails().tax;if(a.taxType=="percentage"){let l=i*r,u=l*a.taxRate/100;s=l+u}else s=(i+a.price)*r}else s=i*r;let o=this.EventService.bookingDetails();o.paymentDetail={variantPrice:i,totalMember:r,totalPrice:s,paymentStatus:"pending"},o.memberDetail=this.membersData,this.EventService.bookingDetails.set(o),this.memberservice.addInbooking().then(a=>{this.router.navigate(["payment",a.bookingId])}).catch(a=>{console.error("Error creating coupon: ",a)})}else console.log("Form is invalid")}resetForm(){this.memberForm.reset(),this.profileImageSrc="/assets/member_detail/default.svg",this.panuploadSuccess=!1,this.aadharuploadSuccess=!1;let i=document.getElementById("fileInputAadhar"),r=document.getElementById("fileInputPan");i&&(i.value=""),r&&(r.value="")}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(lS),O(rt),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-member-details"]],standalone:!0,features:[Y],decls:60,vars:10,consts:[[3,"pageTitle"],[1,"scroll"],[1,"tabs"],["class","tab section_title",3,"active","click",4,"ngFor","ngForOf"],[1,"memberdetail",3,"ngSubmit","formGroup"],[1,"profile"],["alt","Profile Image",3,"src"],["for","filepath",1,"upload-icon"],["src","/assets/member_detail/icon.svg"],["type","file","id","filepath","accept","image/*",3,"change"],[1,"detail"],[1,"member-form"],["for","Membername",1,"paragraph_text"],["type","text","placeholder","name","formControlName","Name",1,"member"],["for","MemberGender",1,"paragraph_text"],["formControlName","gender",1,"member"],["value","Male"],["value","Female"],["value","Other"],["for","MemberMobile",1,"paragraph_text"],["type","text","placeholder","99xxxxxxxx","formControlName","mobileNo",1,"member"],[1,"validation-errors"],["class","error-message",4,"ngIf"],["for"," MemberAadhar",1,"paragraph_text"],["type","text","placeholder","Aadhar number","formControlName","Aadharnumber",1,"member"],[1,"header"],["type","button",3,"click"],["src","/assets/member_detail/upload.svg","alt",""],["id","fileInputAadhar","formControlName","Adharimages","type","file",2,"display","none",3,"change"],["class","success-message",4,"ngIf"],["for"," MemberPan",1,"paragraph_text"],["type","text","placeholder","Pan number","formControlName","Pannumber",1,"member"],["id","fileInputPan","formControlName","panimages","type","file",2,"display","none",3,"change"],["type","submit",1,"submit-button"],[1,"tab","section_title",3,"click"],[1,"error-message"],[1,"success-message"]],template:function(r,s){if(r&1&&(U(0,"app-header-with-back",0),v(1,"section")(2,"div",1)(3,"div",2),re(4,JL,2,3,"div",3),y()(),v(5,"form",4),G("ngSubmit",function(){return s.saveMemberDetail()}),v(6,"div",5),U(7,"img",6),v(8,"label",7),U(9,"img",8),y(),v(10,"input",9),G("change",function(a){return s.onFileSelected(a)}),y()(),v(11,"div",10)(12,"div",11)(13,"label",12),E(14,"Name"),y(),U(15,"input",13),y(),v(16,"div",11)(17,"label",14),E(18,"Gender"),y(),v(19,"select",15)(20,"option",16),E(21,"Male"),y(),v(22,"option",17),E(23,"Female"),y(),v(24,"option",18),E(25,"Other"),y()()(),v(26,"div",11)(27,"label",19),E(28,"Mobile No"),y(),U(29,"input",20),y(),v(30,"div",21),re(31,ZL,2,0,"div",22),y(),v(32,"div",11)(33,"label",23),E(34,"Aadhar"),y(),U(35,"input",24),y(),v(36,"div",21),re(37,e2,2,0,"div",22),y(),v(38,"div",25)(39,"label"),E(40,"Upload Aadhar"),y(),v(41,"button",26),G("click",function(){return s.triggerFileInputAadhar()}),U(42,"img",27),y(),v(43,"input",28),G("change",function(a){return s.onAadharUpload(a)}),y(),re(44,t2,3,0,"div",29),y(),v(45,"div",11)(46,"label",30),E(47,"Pan"),y(),U(48,"input",31),y(),v(49,"div",21),re(50,n2,2,0,"div",22),y(),v(51,"div",25)(52,"label"),E(53,"Upload Pan"),y(),v(54,"button",26),G("click",function(){return s.triggerFileInputPan()}),U(55,"img",27),y(),v(56,"input",32),G("change",function(a){return s.onPanUpload(a)}),y(),re(57,i2,3,0,"div",29),y()(),v(58,"button",33),E(59),y()()()),r&2){let o,a,l;j("pageTitle",s.EventService.bookingDetails().variant.name),D(4),j("ngForOf",s.tabs),D(),j("formGroup",s.memberForm),D(2),j("src",s.profileImageSrc,st),D(24),j("ngIf",((o=s.memberForm.get("mobileNo"))==null?null:o.errors)&&((o=s.memberForm.get("mobileNo"))==null?null:o.touched)),D(6),j("ngIf",((a=s.memberForm.get("Aadharnumber"))==null?null:a.errors)&&((a=s.memberForm.get("Aadharnumber"))==null?null:a.touched)),D(7),j("ngIf",s.aadharuploadSuccess),D(6),j("ngIf",((l=s.memberForm.get("Pannumber"))==null?null:l.errors)&&((l=s.memberForm.get("Pannumber"))==null?null:l.touched)),D(7),j("ngIf",s.panuploadSuccess),D(2),me(s.activeTab===s.tabs.length-1?"Next":"Submit")}},dependencies:[$n,Vs,Wi,Hi,mn,zn,gn,Fs,Or,xr,Ae,et,Nt,qe],styles:["section[_ngcontent-%COMP%]{padding-bottom:80px;padding-left:1rem;padding-right:1rem}.scroll[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:5px;padding-top:70px;margin-top:2%}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-left:1rem}.tabs[_ngcontent-%COMP%]   .section_title[_ngcontent-%COMP%]{font-size:12px}.tab[_ngcontent-%COMP%]{padding:10px 1.5rem;border-radius:10px;cursor:pointer;width:100%;max-width:150px;text-align:center}.tab.active[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]:hover{background:var(--active-tab-gradient, linear-gradient(90deg, #464E5F .28%, rgba(70, 78, 95, .8) 47.84%, rgba(70, 78, 95, .4) 99.72%));color:#fff}.memberdetail[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem}.detail[_ngcontent-%COMP%]{margin-top:2rem;width:100%}.member-form[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex-direction:column;width:100%}.member-form[_ngcontent-%COMP%]   .paragraph_text[_ngcontent-%COMP%]{color:gray;margin-bottom:.5rem}.member[_ngcontent-%COMP%]{border-radius:12px;border:1px solid var(--input-box-border-gradient, rgba(170, 170, 170, .3));background:var(--input-box-bg-gradient, linear-gradient(99deg, rgba(225, 225, 225, .3) 12.07%, rgba(225, 225, 225, .2) 48.35%, rgba(225, 225, 225, .2) 87.93%));width:100%;height:40px;padding:.5rem;box-sizing:border-box}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-radius:12px;border:1px solid var(--input-box-border-gradient, rgba(170, 170, 170, .3));background:var(--input-box-bg-gradient, linear-gradient(99deg, rgba(225, 225, 225, .3) 12.07%, rgba(225, 225, 225, .2) 48.35%, rgba(225, 225, 225, .2) 87.93%));width:100%;height:40px;padding:.5rem;margin-bottom:1rem;box-sizing:border-box}.header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#464e5f}.submit-button[_ngcontent-%COMP%]{height:60px;width:100%;max-width:200px;border-radius:30px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff;margin-top:2rem}.profile[_ngcontent-%COMP%]{position:relative;width:100%;max-width:150px;height:150px;border-radius:50%;overflow:hidden;margin-top:1rem}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}#filepath[_ngcontent-%COMP%]{display:none}.upload-icon[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:#fff;padding:10px;border-radius:50%;cursor:pointer}.validation-errors[_ngcontent-%COMP%]{font-size:small;color:var(--ion-color-danger, #f1453d)}.success-message[_ngcontent-%COMP%]{margin-top:10px;padding:10px;background-color:#d4edda;color:#155724;border:1px solid #c3e6cb;border-radius:4px;display:flex;align-items:center;gap:10px}"]});let t=e;return t})();var wv={cloudFunctions:{createOrder:"https://createorder-uuc4lf2xaa-uc.a.run.app",createOrderLocalHost:"http://127.0.0.1:5001/fyi1-aa2c2/us-central1/createOrder",getOrderById:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/getOrderById?id=",capturePayment:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/capturePayments",createRefund:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/createRefund",getRefundDetails:"https://us-central1-kittyconnect-68a81.cloudfunctions.net/getRefundDetails"},RAZORPAY_KEY_ID:"rzp_live_wMevmKrUh5pkfg",RAZORPAY_DOMAIN:"https://api.razorpay.com/v1/"};var $d=(()=>{let e=class e{constructor(i,r,s,o){this.http=i,this.router=r,this.EventService=s,this.firestore=o}createOrder(i,r="INR",s){let o=new Cn({"Content-Type":"application/json"}),a={amount:i,currency:r,receipt:s};return this.http.post(wv.cloudFunctions.createOrder,a,{headers:o})}addInbooking(){return g(this,null,function*(){try{let i=this.EventService.bookingDetails().customer.uid,r=this.EventService.bookingDetails(),s=r.id,o=yt(this.firestore,"users",i,"bookings",s);return yield ii(o,r)}catch(i){return console.error("Error adding document: ",i),i}})}deleteBookingFromCart(){return g(this,null,function*(){let i=this.EventService.bookingDetails().customer.uid,r=this.EventService.bookingDetails().id,s=yt(this.firestore,"users",i,"cart",r);return yield Nd(s)})}formatDateTime(i){let r={day:"2-digit",month:"short",year:"numeric"},s=i.toLocaleDateString("en-GB",r),o=i.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});return{formattedDate:s,formattedTime:o}}initiatePayment(i){let r=this.EventService.bookingDetails(),s=new Date,{formattedDate:o,formattedTime:a}=this.formatDateTime(s);r.paymentDetail.date=o,r.paymentDetail.time=a;let l={key:wv.RAZORPAY_KEY_ID,amount:i.amount*100,currency:"INR",name:"FYI",order_id:i.order_id,handler:h=>{let p={order_id:i.order_id,receipt_id:i.receiptId,razorpay_payment_id:h.razorpay_payment_id,razorpay_order_id:h.razorpay_order_id,razorpay_signature:h.razorpay_signature};r.paymentDetail.paymentStatus="success",r.paymentDetail.paymentResponse=p,this.EventService.bookingDetails.set(r),this.addInbooking().then(()=>{this.deleteBookingFromCart().then(()=>{this.router.navigate(["/payment-successful"])})})},prefill:{name:i.customerName,email:"",contact:i.contact},modal:{ondismiss:()=>{r.paymentDetail.paymentStatus="failed",this.EventService.bookingDetails.set(r),this.router.navigate(["/patmentfailed"])}}},u=new window.Razorpay(l);u.on("payment.failed",h=>{r.paymentDetail.paymentStatus="failed",this.EventService.bookingDetails.set(r),this.addInbooking().then(()=>{this.deleteBookingFromCart().then(()=>{this.router.navigate(["/patmentfailed"])})})}),u.open()}};e.\u0275fac=function(r){return new(r||e)(N(Zh),N(ge),N(rt),N(Ue))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Iv=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.EventService=r,this.PaymentService=s;let o=this.EventService.bookingDetails()}payNow(){this.router.navigate(["payment-successful"])}generateUniqueReceipt(){let i=Date.now().toString(),r=Math.random().toString(36).substring(2,10);return`receipt_${i}_${r}`}pay(){let i=this.EventService.bookingDetails(),r=this.generateUniqueReceipt(),s=i.paymentDetail.totalPrice;this.PaymentService.createOrder(s*100,"INR",r).subscribe(o=>{let a={amount:s,description:"Test Transaction",order_id:o.id,customerName:i.customer.name,contact:i.customer.phoneNumber,receiptId:r};this.PaymentService.initiatePayment(a)})}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(rt),O($d))},e.\u0275cmp=W({type:e,selectors:[["app-event-payment"]],standalone:!0,features:[Y],decls:42,vars:9,consts:[[3,"pageTitle"],[1,"checkout-container"],[1,"ticket-info"],["src","assets/event-payment/image.svg","alt","Event Image",1,"event-image"],[1,"event-details"],[1,"section_title","heading"],[1,"row2"],[1,"paragraph_text","header_text_color"],[1,"paragraph_text","header_text_color","ticket","green"],[1,"paragraph_text","header_text_color","ticket"],[1,"payment-details"],[1,"section_title"],[1,"detail-row"],[1,"paragraph_text"],[2,"color","#579540"],[1,"total-row"],[1,"proceed-button",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"div",1)(2,"div",2),U(3,"img",3),v(4,"div",4)(5,"h3",5),E(6),y(),v(7,"div",6)(8,"p",7),E(9),y(),v(10,"p",7),E(11),y()(),v(12,"div",6)(13,"p",8),E(14),y(),v(15,"p",9),E(16),y()()()(),v(17,"div",10)(18,"h3",11),E(19,"Payment Details"),y(),v(20,"div",12)(21,"span",13),E(22,"Total (MRP)"),y(),v(23,"span"),E(24),y()(),v(25,"div",12)(26,"span",13),E(27,"Discount"),y(),v(28,"span",14),E(29,"-\u20B90"),y()(),v(30,"div",12)(31,"span",13),E(32,"Discounted Price"),y(),v(33,"span"),E(34),y()(),v(35,"div",15)(36,"span",11),E(37,"Total"),y(),v(38,"span",11),E(39),y()()(),v(40,"button",16),G("click",function(){return s.pay()}),E(41,"Proceed to Pay"),y()()),r&2&&(j("pageTitle","Checkout "),D(6),me(s.EventService.bookingDetails().event.eventName),D(3),me(s.EventService.bookingDetails().slab.name),D(2),me(s.EventService.bookingDetails().variant.name),D(3),ve("\u20B9",s.EventService.bookingDetails().variant.price,""),D(2),ve("Tickets: ",s.EventService.bookingDetails().totalMember,""),D(8),ve("\u20B9",s.EventService.bookingDetails().paymentDetail.totalPrice,""),D(10),ve("\u20B9",s.EventService.bookingDetails().paymentDetail.totalPrice,""),D(5),ve("\u20B9",s.EventService.bookingDetails().paymentDetail.totalPrice,""))},dependencies:[qe],styles:[".checkout-container[_ngcontent-%COMP%]{margin:0 auto;padding:70px 20px 0;font-family:Arial,sans-serif}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.back-arrow[_ngcontent-%COMP%]{font-size:24px;cursor:pointer;margin-right:10px}.ticket-info[_ngcontent-%COMP%]{display:flex;background-color:#f9f9f9;padding:10px;border-radius:8px;margin-bottom:20px}.event-image[_ngcontent-%COMP%]{border-radius:8px;margin-right:10px}.event-details[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:16px;color:#000;line-height:3}.event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:2rem}.event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:2}.event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:green;font-weight:700}.payment-details[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:10px;border-radius:8px;margin-bottom:20px}.payment-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#444}.detail-row[_ngcontent-%COMP%], .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .total-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#7e8083;font-weight:500;font-size:14px;line-height:1.5}.total-row[_ngcontent-%COMP%]{font-weight:700;border-top:1px dashed #ccc;padding-top:10px}.total-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#181f29}.proceed-button[_ngcontent-%COMP%]{width:100%;padding:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff;border:none;border-radius:25px;font-size:16px;cursor:pointer}.proceed-button[_ngcontent-%COMP%]:hover{opacity:.9}"]});let t=e;return t})();var hS=(()=>{let e=class e{constructor(i,r){this.router=i,this.EventService=r,this.bookingDetail=this.EventService.bookingDetails()}naviagateToHomepage(){this.router.navigate(["home"])}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(rt))},e.\u0275cmp=W({type:e,selectors:[["app-payment-successful"]],standalone:!0,features:[Y],decls:40,vars:7,consts:[[3,"pageTitle"],[1,"container"],[1,"confirmation-card"],["src","/assets/event-payment/payment-successful.svg"],[1,"payment-details"],[1,"section_title"],[1,"paragraph_text","detail"],[1,"paragraph_text","detail_status"],[1,"button-done"],[1,"proceed-button",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"section",1)(2,"div",2),U(3,"img",3),v(4,"div",4)(5,"h2",5),E(6,"Payment Details"),y(),v(7,"div",6)(8,"p"),E(9),y(),v(10,"span"),E(11,"Kashi Summit 2024"),y()(),v(12,"div",6)(13,"p"),E(14,"Slab"),y(),v(15,"span"),E(16),y()(),v(17,"div",6)(18,"p"),E(19,"Variant"),y(),v(20,"span"),E(21),y()(),v(22,"div",6)(23,"p"),E(24,"Date"),y(),v(25,"span"),E(26),y()(),v(27,"div",6)(28,"p"),E(29,"Payment"),y(),v(30,"span"),E(31),y()(),v(32,"div",7)(33,"p"),E(34,"Status"),y(),v(35,"span"),E(36,"Successful"),y()()()()(),v(37,"div",8)(38,"button",9),G("click",function(){return s.naviagateToHomepage()}),E(39,"Done"),y()()),r&2&&(j("pageTitle","Payment "),D(9),ve("",s.bookingDetail.event.eventName," "),D(7),me(s.bookingDetail.slab.name),D(5),me(s.bookingDetail.variant.name),D(5),ds("",s.bookingDetail.paymentDetail.date," & ",s.bookingDetail.paymentDetail.time," "),D(5),ve("\u20B9",s.bookingDetail.paymentDetail.totalPrice,""))},dependencies:[qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;padding:70px 20px 0}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:1rem;margin-right:1rem;padding:20px}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{margin-top:2rem;margin-left:.6rem;margin-right:.6rem}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:#444;font-weight:700}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:2}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7e8083;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#464e5f;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]{margin-top:10px;border-top:2px dashed #D7D7D7;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;font-size:18px}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;color:#48bc1f;font-size:18px}.button-done[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.button-done[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%;padding:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff;border:none;border-radius:25px;font-size:16px;cursor:pointer}"]});let t=e;return t})();var fS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-list-of-survey"]],standalone:!0,features:[Y],decls:2,vars:0,template:function(r,s){r&1&&(v(0,"p"),E(1,"list-of-survey works!"),y())}});let t=e;return t})();function r2(t,e){if(t&1){let n=ke();v(0,"div",5),U(1,"img",6),v(2,"div",7)(3,"p",8),E(4),y(),v(5,"button",9),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.viewSlsbList(r.eventId,r))}),E(6,"View Slabs"),y()()()}if(t&2){let n=e.$implicit;D(),Yo("alt",n.eventName),j("src",n.images[0],st),D(3),me(n.eventName)}}function s2(t,e){if(t&1){let n=ke();v(0,"div",5),U(1,"img",6),v(2,"div",7)(3,"p",8),E(4),y(),v(5,"button",9),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.viewSlsbList(r.eventId,r))}),E(6,"View Slabs"),y()()()}if(t&2){let n=e.$implicit;D(),Yo("alt",n.eventName),j("src",n.images[0],st),D(3),me(n.title)}}var pS=(()=>{let e=class e{constructor(i,r){this.router=i,this.EventService=r,this.items=[{image:"/assets/homepage/eventimage.svg",title:"Cearic Kashi Summit 2024"},{image:"/assets/homepage/eventlist.svg",title:"Cearic Kashi Summit 2025"},{image:"/assets/homepage/eventimage.svg",title:"Cearic Kashi Summit 2026"}],this.EventService.eventList().length==0&&this.router.navigate(["/home"])}viewSlsbList(i,r){let s=this.EventService.bookingDetails();s.event=r,this.EventService.bookingDetails.set(s),this.router.navigate(["slab",i])}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(rt))},e.\u0275cmp=W({type:e,selectors:[["app-event-list"]],standalone:!0,features:[Y],decls:9,vars:3,consts:[[3,"pageTitle"],[1,"container"],["type","text","placeholder","Search city to add",1,"search-bar"],[1,"section_title"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"card-image",3,"src","alt"],[1,"card-content"],[1,"card-title","header_text_color","paragraph_text"],[1,"view-slabs-btn",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"div",1),U(2,"input",2),v(3,"h3",3),E(4,"Ongoing Events"),y(),re(5,r2,7,3,"div",4),v(6,"h3",3),E(7,"Upcoming Events"),y(),re(8,s2,7,3,"div",4),y()),r&2&&(j("pageTitle","Event List"),D(5),j("ngForOf",s.EventService.eventList()),D(3),j("ngForOf",s.EventService.eventList()))},dependencies:[Ae,et,qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:column;padding:70px 20px 80px}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:10px;border-radius:25px;border:1px solid #ccc;margin-bottom:20px;font-size:16px}h3[_ngcontent-%COMP%]{align-items:start;color:#000;font-size:20px;font-weight:500;line-height:3}.card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin-bottom:20px;border-radius:15px;overflow:hidden;box-shadow:0 4px 8px #0000001a;background:linear-gradient(99.41deg,#aaaaaa4d 12.07%,#aaa3 48.35% 87.93%)}.card-image[_ngcontent-%COMP%]{width:100%;height:auto}.card-content[_ngcontent-%COMP%]{padding:10px;text-align:center;display:flex;justify-content:space-between}.card-title[_ngcontent-%COMP%]{margin:10px 0;font-size:14px;font-weight:700}.view-slabs-btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:25px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#f0f0f0;cursor:pointer}"]});let t=e;return t})();function o2(t,e){if(t&1){let n=ke();v(0,"div",5)(1,"div",6),U(2,"img",7),v(3,"div",8)(4,"p",9),E(5),y(),v(6,"button",10),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.movetovarient(r.slabId,r))}),E(7,"Book Now"),y()()()()}if(t&2){let n=e.$implicit;D(2),Yo("alt",n.name),j("src",n.image,st),D(3),me(n.name)}}var mS=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.activatedRoute=r,this.EventService=s,this.items=[{image:"/assets/homepage/slabimage.svg",title:"Panchganga Slab"},{image:"/assets/homepage/slabimage.svg",title:"Assi Slab"},{image:"/assets/homepage/slabimage.svg",title:"Panchganga Slab"},{image:"/assets/homepage/slabimage.svg",title:"Assi Slab"}],this.activatedRoute.paramMap.subscribe(o=>g(this,null,function*(){o.get("id")!==null&&(this.eventId=o.get("id")||"")})),this.EventService.bookingDetails().event||this.router.navigate(["/home"])}ngOnInit(){}movetovarient(i,r){let s=this.EventService.bookingDetails();s.slab=r,this.EventService.bookingDetails.set(s),this.router.navigate(["varient",i])}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(fn),O(rt))},e.\u0275cmp=W({type:e,selectors:[["app-slab-list"]],standalone:!0,features:[Y],decls:5,vars:2,consts:[[3,"pageTitle"],[1,"container"],["type","text","placeholder","Search city to add",1,"search-bar"],[1,"grid"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"image-container"],[1,"card-image",3,"src","alt"],[1,"overlay"],[1,"card-title"],[1,"book-now-btn",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"div",1),U(2,"input",2),v(3,"div",3),re(4,o2,8,3,"div",4),y()()),r&2&&(j("pageTitle",s.EventService.bookingDetails().event.eventName),D(4),j("ngForOf",s.EventService.slabList()[s.eventId]))},dependencies:[Ae,et,qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:column;align-items:center;padding:70px 20px 0}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:10px;border-radius:25px;border:1px solid #ccc;margin-bottom:20px;font-size:16px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:20px;width:100%;max-width:800px}.card[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;box-shadow:0 4px 8px #0000001a;background:linear-gradient(99.41deg,#aaaaaa4d 12.07%,#aaa3 48.35% 87.93%);position:relative;text-align:center}.image-container[_ngcontent-%COMP%]{position:relative}.card-image[_ngcontent-%COMP%]{width:100%;height:auto}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;padding:10px 0;background:linear-gradient(to top,rgba(0,0,0,.5),transparent);display:flex;flex-direction:column;align-items:center;justify-content:flex-end}.card-title[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:500;color:#fff;padding:5px 0}.book-now-btn[_ngcontent-%COMP%]{padding:5px 20px;border:none;border-radius:25px;background-color:#6200ea;color:#fff;cursor:pointer;margin:10px 0;font-size:14px}.book-now-btn[_ngcontent-%COMP%]:hover{background-color:#3700b3}"]});let t=e;return t})();function a2(t,e){if(t&1&&(v(0,"div",12),U(1,"img",13),y()),t&2){let n=e.$implicit,i=te();D(),j("src",i.slabDetail.image,st)("alt",n.title)}}function c2(t,e){if(t&1){let n=ke();v(0,"div",19)(1,"button",20),G("click",function(){ue(n);let r=te().index,s=te();return de(s.decreaseQuantity(r))}),E(2,"-"),y(),v(3,"span"),E(4),y(),v(5,"button",21),G("click",function(){ue(n);let r=te().index,s=te();return de(s.increaseQuantity(r))}),E(6,"+"),y(),v(7,"button",22),G("click",function(){ue(n);let r=te(2);return de(r.removeSelection())}),U(8,"img",23),y()()}if(t&2){let n=te().index,i=te();D(4),me(i.quantities[n])}}function l2(t,e){if(t&1){let n=ke();v(0,"button",24),G("click",function(){ue(n);let r=te(),s=r.$implicit,o=r.index,a=te();return de(a.memberform(o,s))}),E(1,"Book Now"),y()}if(t&2){let n=te(2);j("disabled",n.selectedButtonIndex!==null)}}function u2(t,e){if(t&1&&(v(0,"div",14)(1,"div")(2,"span",15),E(3),y(),U(4,"br"),v(5,"span",16),E(6),y()(),re(7,c2,9,1,"div",17)(8,l2,2,1,"button",18),y()),t&2){let n=e.$implicit,i=e.index,r=te();D(3),me(n.name),D(3),ve("\u20B9",n.price,""),D(),j("ngIf",r.selectedButtonIndex===i),D(),j("ngIf",r.selectedButtonIndex!==i)}}function d2(t,e){if(t&1&&(v(0,"div"),E(1),y()),t&2){let n=te();D(),me(n.slabDetail.description)}}function h2(t,e){if(t&1&&(v(0,"div",29)(1,"div",30),U(2,"img",31),y(),v(3,"div",32)(4,"span"),E(5),y(),U(6,"br"),v(7,"span"),E(8),y()()()),t&2){let n=e.$implicit;D(5),me(n.time),D(3),me(n.description)}}function f2(t,e){if(t&1&&(v(0,"div",26)(1,"span",27),E(2),y(),re(3,h2,9,2,"div",28),y()),t&2){let n=e.$implicit;D(2),me(n.day),D(),j("ngForOf",n.events)}}function p2(t,e){if(t&1&&(v(0,"div"),re(1,f2,4,2,"div",25),y()),t&2){let n=te();D(),j("ngForOf",n.schedule)}}function m2(t,e){if(t&1){let n=ke();v(0,"button",33),G("click",function(){ue(n);let r=te();return de(r.goToNextPage())}),E(1,"Next"),y()}}var gS=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.ActivateRouted=r,this.EventService=s,this.schedule=[],this.events=[{title:"Cearic Kashi Summit 2024",image:"/assets/homepage/varient_slider.svg"},{title:"Cearic Kashi Summit 2025",image:"/assets/homepage/varient_slider.svg"},{title:"Cearic Kashi Summit 2026",image:"/assets/homepage/varient_slider.svg"},{title:"Cearic Kashi Summit 2027",image:"/assets/homepage/varient_slider.svg"}],this.selectedTab="description",this.selectedButtonIndex=null,this.quantities=[],this.ActivateRouted.paramMap.subscribe(o=>g(this,null,function*(){o.get("id")!==null&&(this.slabId=o.get("id")||"")})),this.EventService.bookingDetails().slab||this.router.navigate(["/home"])}ngOnInit(){this.slabDetail=this.EventService.bookingDetails().slab;let i=this.EventService.bookingDetails().event.eventId,r=this.EventService.itineraryList()[i];this.itinerary=this.groupAndSortActivities(r.activities),console.log(this.slabDetail),console.log(this.itinerary),this.schedule=[];for(let s in this.itinerary){let o=this.itinerary[s].map(a=>({time:`${a.startTime} - ${a.endTime}`,description:a.description}));this.schedule.push({day:`DAY (${s})`,events:o})}console.log(this.schedule)}convertTo12Hour(i){let[r,s]=i.split(":").map(Number),o=r>=12?"PM":"AM";return`${(r+11)%12+1}:${s.toString().padStart(2,"0")} ${o}`}groupAndSortActivities(i){let r=i.reduce((o,a)=>{let{date:l}=a;return o[l]||(o[l]=[]),o[l].push(a),o},{});for(let o in r)r[o].sort((a,l)=>{let u=this.convertTo12Hour(a.startTime),h=this.convertTo12Hour(l.startTime);return u.localeCompare(h)}),r[o]=r[o].map(a=>pe(L({},a),{startTime:this.convertTo12Hour(a.startTime),endTime:this.convertTo12Hour(a.endTime)}));return Object.keys(r).sort((o,a)=>new Date(o).getTime()-new Date(a).getTime()).reduce((o,a)=>(o[a]=r[a],o),{})}selectTab(i){this.selectedTab=i}memberform(i,r){let s=this.EventService.bookingDetails();s.variant=r,this.EventService.bookingDetails.set(s),this.selectedButtonIndex=i,this.quantities[i]=1}increaseQuantity(i){this.quantities[i]<99&&this.quantities[i]++}decreaseQuantity(i){this.quantities[i]>1&&this.quantities[i]--}removeSelection(){this.selectedButtonIndex=null}goToNextPage(){let i=this.selectedButtonIndex!==null?this.selectedButtonIndex:0,r=this.EventService.bookingDetails();r.totalMember=this.quantities[i],this.EventService.bookingDetails.set(r),this.router.navigate(["member-detail"])}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(fn),O(rt))},e.\u0275cmp=W({type:e,selectors:[["app-varient-selection"]],standalone:!0,features:[Y],decls:17,vars:10,consts:[[3,"pageTitle"],[1,"event-slider"],[1,"slider"],["class","slide",4,"ngFor","ngForOf"],[1,"varient"],["class","rotarian",4,"ngFor","ngForOf"],[1,"scroll"],[1,"tabs"],[1,"tab",3,"click"],[1,"content"],[4,"ngIf"],["class","next-button",3,"click",4,"ngIf"],[1,"slide"],[3,"src","alt"],[1,"rotarian"],[1,"section_title","header_text_color","label"],[1,"section_title","price"],["class","threebutton",4,"ngIf"],["class","book-now",3,"disabled","click",4,"ngIf"],[1,"threebutton"],[1,"quantity-control-decrement",3,"click"],[1,"quantity-control-increment",3,"click"],[1,"remove-selection",3,"click"],["src","/assets/homepage/Delete 2.svg"],[1,"book-now",3,"click","disabled"],["class","schedule-day",4,"ngFor","ngForOf"],[1,"schedule-day"],[1,"paragraph_text"],["class","schedule-event",4,"ngFor","ngForOf"],[1,"schedule-event"],[1,"dot"],["src","/assets/bookinghistory/Ellipse 395.svg"],[1,"activity"],[1,"next-button",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"section")(2,"div",1)(3,"div",2),re(4,a2,2,2,"div",3),y()(),v(5,"div",4),re(6,u2,9,4,"div",5),y(),v(7,"div",6)(8,"div",7)(9,"div",8),G("click",function(){return s.selectTab("description")}),E(10,"Description"),y(),v(11,"div",8),G("click",function(){return s.selectTab("itinerary")}),E(12,"Itinerary"),y()(),v(13,"div",9),re(14,d2,2,1,"div",10)(15,p2,2,1,"div",10),y()(),re(16,m2,2,0,"button",11),y()),r&2&&(j("pageTitle",s.EventService.bookingDetails().slab.name),D(4),j("ngForOf",s.events),D(2),j("ngForOf",s.EventService.variantList()[s.slabId]),D(3),_t("active",s.selectedTab==="description"),D(2),_t("active",s.selectedTab==="itinerary"),D(3),j("ngIf",s.selectedTab==="description"),D(),j("ngIf",s.selectedTab==="itinerary"),D(),j("ngIf",s.selectedButtonIndex!==null))},dependencies:[Ae,et,Nt,qe],styles:["section[_ngcontent-%COMP%]{margin-top:2%;padding:70px 20px 80px}section[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{margin-top:5%}section[_ngcontent-%COMP%]   .event-slider[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none}section[_ngcontent-%COMP%]   .event-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]{flex:0 0 auto;scroll-snap-align:start;margin-right:20px;cursor:pointer}section[_ngcontent-%COMP%]   .event-slider[_ngcontent-%COMP%]   .slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:20px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]{margin-top:10%}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px;color:#579540}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .book-now[_ngcontent-%COMP%]{width:105px;height:50px;border-radius:50px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .book-now.selected[_ngcontent-%COMP%]{background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .book-now[_ngcontent-%COMP%]:disabled{background:#d3d3d3;color:gray}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .quantity-control-increment[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:5px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff;margin:8px 15px 0;font-size:25px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;margin-top:8px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .quantity-control-decrement[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:5px;border:1px solid linear-gradient(90.32deg,#2F15AA .28%,rgba(47,21,170,.8) 47.84%,rgba(47,21,170,.4) 99.72%);color:linear-gradient(90.32deg,#2F15AA .28%,rgba(47,21,170,.8) 47.84%,rgba(47,21,170,.4) 99.72%);margin:8px 15px 0;font-size:25px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .remove-selection[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:5px;background:#fff;border:none;margin-left:10px}section[_ngcontent-%COMP%]   .varient[_ngcontent-%COMP%]   .rotarian[_ngcontent-%COMP%]   .threebutton[_ngcontent-%COMP%]   .remove-selection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}section[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none;margin-bottom:5px;padding-top:70px}section[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:10px 30px;border-radius:10px;cursor:pointer;justify-content:center;align-items:center}section[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:var(--active-tab-gradient, linear-gradient(90deg, #464E5F .28%, rgba(70, 78, 95, .8) 47.84%, rgba(70, 78, 95, .4) 99.72%));color:#fff}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:8%;padding:20px;background:var(--inactive-gray, #B6B6B6);border:1px solid;border-image-source:linear-gradient(99.41deg,rgba(170,170,170,.3) 12.07%,rgba(170,170,170,.2) 48.35%,rgba(170,170,170,.2) 87.93%);border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:.4rem;margin-right:.4rem}section[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]{margin-top:100px;width:100%;height:60px;padding:15px;color:#fff;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;border-radius:30px;size:10px}section[_ngcontent-%COMP%]   .schedule-day[_ngcontent-%COMP%]{margin-bottom:20px}section[_ngcontent-%COMP%]   .schedule-day[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#04102d}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]{display:flex;gap:1rem}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{margin-top:10px}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]   .activity[_ngcontent-%COMP%]{padding:5px 0 10px}section[_ngcontent-%COMP%]   .schedule-event[_ngcontent-%COMP%]   .activity[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}"]});let t=e;return t})();var _S=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-donation"]],standalone:!0,features:[Y],decls:2,vars:0,template:function(r,s){r&1&&(v(0,"p"),E(1,"donation works!"),y())}});let t=e;return t})();var vS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-coupon"]],standalone:!0,features:[Y],decls:2,vars:0,template:function(r,s){r&1&&(v(0,"p"),E(1,"coupon works!"),y())}});let t=e;return t})();var yS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-feed"]],standalone:!0,features:[Y],decls:2,vars:0,template:function(r,s){r&1&&(v(0,"p"),E(1,"feed works!"),y())}});let t=e;return t})();var bS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-account"]],standalone:!0,features:[Y],decls:2,vars:0,template:function(r,s){r&1&&(v(0,"p"),E(1,"account works!"),y())}});let t=e;return t})();var wS=(()=>{let e=class e{constructor(i,r,s){this.router=i,this.EventService=r,this.PaymentService=s,this.bookingDetail=this.EventService.bookingDetails()}naviagateToHomepage(){this.router.navigate(["home"])}generateUniqueReceipt(){let i=Date.now().toString(),r=Math.random().toString(36).substring(2,10);return`receipt_${i}_${r}`}tryAgain(){let i=this.EventService.bookingDetails(),r=this.generateUniqueReceipt(),s=i.paymentDetail.totalPrice;this.PaymentService.createOrder(s*100,"INR",r).subscribe(o=>{let a={amount:s,description:"Test Transaction",order_id:o.id,customerName:i.customer.name,contact:i.customer.phoneNumber,receiptId:r};this.PaymentService.initiatePayment(a)})}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(rt),O($d))},e.\u0275cmp=W({type:e,selectors:[["app-payment-failed"]],standalone:!0,features:[Y],decls:40,vars:7,consts:[[3,"pageTitle"],[1,"container"],[1,"confirmation-card"],["src","/assets/event-payment/paymentfailed.svg"],[1,"payment-details"],[1,"section_title"],[1,"paragraph_text","detail"],[1,"paragraph_text","detail_status","red"],[1,"button-done"],[1,"proceed-button",3,"click"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"section",1)(2,"div",2),U(3,"img",3),v(4,"div",4)(5,"h2",5),E(6,"Payment Details"),y(),v(7,"div",6)(8,"p"),E(9),y(),v(10,"span"),E(11,"Kashi Summit 2024"),y()(),v(12,"div",6)(13,"p"),E(14,"Slab"),y(),v(15,"span"),E(16),y()(),v(17,"div",6)(18,"p"),E(19,"Variant"),y(),v(20,"span"),E(21),y()(),v(22,"div",6)(23,"p"),E(24,"Date"),y(),v(25,"span"),E(26),y()(),v(27,"div",6)(28,"p"),E(29,"Payment"),y(),v(30,"span"),E(31),y()(),v(32,"div",7)(33,"p"),E(34,"Status"),y(),v(35,"span"),E(36,"Unsuccessful"),y()()()()(),v(37,"div",8)(38,"button",9),G("click",function(){return s.tryAgain()}),E(39,"Try Again"),y()()),r&2&&(j("pageTitle","Payment "),D(9),ve("",s.bookingDetail.event.eventName," "),D(7),me(s.bookingDetail.slab.name),D(5),me(s.bookingDetail.variant.name),D(5),ds("",s.bookingDetail.paymentDetail.date," & ",s.bookingDetail.paymentDetail.time," "),D(5),ve("\u20B9",s.bookingDetail.paymentDetail.totalPrice,""))},dependencies:[qe],styles:[".container[_ngcontent-%COMP%]{margin-top:2%;padding:70px 20px 0}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:1rem;margin-right:1rem;padding:20px}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{margin-top:2rem;margin-left:.6rem;margin-right:.6rem}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;color:#444;font-weight:700}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:2}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7e8083;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#464e5f;font-size:14px;font-weight:500}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]{margin-top:10px;border-top:2px dashed #D7D7D7;display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .confirmation-card[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .detail_status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:10px;font-size:18px}.button-done[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:50px}.button-done[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%;padding:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);color:#fff;border:none;border-radius:25px;font-size:16px;cursor:pointer}"]});let t=e;return t})();var qd=(()=>{let e=class e{constructor(i){this.firestore=i}getAllUsers(){return g(this,null,function*(){return yield kn(jt(this.firestore,"users"))})}getUserBookings(i){return g(this,null,function*(){return yield kn(jt(this.firestore,"users",i,"bookings"))})}delete(i,r){return Nd(yt(this.firestore,"users",i,"bookings",r))}updateMember(i,r,s,o){return g(this,null,function*(){let a=yt(this.firestore,"users",i,"bookings",r),u=(yield Fd(a)).data();if(u){let h=u.memberDetail;return h[s]=o,Vd(a,{memberDetail:h})}})}};e.\u0275fac=function(r){return new(r||e)(N(Ue))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g2(t,e){if(t&1){let n=ke();v(0,"div",8),G("click",function(){let r=ue(n).$implicit,s=te();return de(s.bookingdetail(r.BookingId))}),v(1,"div",9),U(2,"img",10),v(3,"div",11)(4,"p",12),E(5),y(),v(6,"p",13),E(7),y(),v(8,"h3",14),E(9),y(),v(10,"div",15)(11,"p",16),E(12),y(),v(13,"p",16),E(14),y()(),v(15,"div",15)(16,"p",17),E(17),y(),v(18,"p",18),E(19),y()()()()()}if(t&2){let n=e.$implicit;D(5),me(n.name),D(2),ve("Contact : ",n.contact,""),D(2),me(n.eventname),D(3),me(n.slabname),D(2),me(n.varientname),D(3),ve("\u20B9",n.price,""),D(2),ve("Tickets: ",n.tickets,"")}}var ES=(()=>{let e=class e{ngOnInit(){this.getUsersBooking()}constructor(i,r,s,o){this.router=i,this.receivingEventService=r,this.firestore=s,this.DataProviderService=o}bookingdetail(i){this.router.navigate(["PaymentDetail",i])}getUsersBooking(){return g(this,null,function*(){this.bookings=[];let i=this.DataProviderService.currentUser?.userData.uid,r=yield this.receivingEventService.getUserBookings(i);for(let s of r.docs){let o=s.data();o.paymentDetail.paymentStatus=="success"&&this.bookings.push({BookingId:o.id,name:o.customer.name,contact:o.customer.phoneNumber,eventname:o.event.eventName,slabname:o.slab.name,varientname:o.variant.name,price:o.paymentDetail.totalPrice,tickets:o.variant.totalTicket})}})}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(qd),O(Ue),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-booking-history"]],standalone:!0,features:[Y],decls:11,vars:2,consts:[[3,"pageTitle"],[1,"event"],[1,"heading"],[1,"section_title","header_text_color"],[1,"filtre"],["value","newest"],["value","oldest"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"ticket-info"],["src","assets/bookinghistory/image.svg","alt","Event Image",1,"event-image"],[1,"event-details"],[1,"section_title","name"],[1,"paragraph_text","contact"],[1,"section_title","heading"],[1,"row2"],[1,"paragraph_text","header_text_color"],[1,"paragraph_text","header_text_color","ticket","green"],[1,"paragraph_text","header_text_color","ticket"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"Section",1)(2,"div",2)(3,"h2",3),E(4,"Booked Events"),y(),v(5,"select",4)(6,"option",5),E(7,"newest"),y(),v(8,"option",6),E(9,"oldest"),y()()(),re(10,g2,20,7,"div",7),y()),r&2&&(j("pageTitle","Booking history"),D(10),j("ngForOf",s.bookings))},dependencies:[Ae,et,qe],styles:[".event[_ngcontent-%COMP%]{padding:20px}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:15%}.event[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .filtre[_ngcontent-%COMP%]{width:130px;height:32px;margin-right:5px;border-radius:10px}.card[_ngcontent-%COMP%]{background:linear-gradient(90.61deg,#e0e0e04d .53%,#e0e0e033 47.85%,#e0e0e01a 99.47%);border-radius:12px;margin-top:10px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;font-size:14px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:20px;color:#000;margin:5px 0}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#444;margin:0}.card[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .event-details[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#48bc1f;font-weight:700}"]});let t=e;return t})();var _2=(t,e,n)=>({"text-black":t,"text-green":e,"text-red":n});function v2(t,e){if(t&1){let n=ke();v(0,"div",16),G("click",function(){let r=ue(n).index,s=te(2);return de(s.selectTab(r))}),E(1),y()}if(t&2){let n=e.index,i=te(2);_t("active",i.selectedTab===n),D(),ve("Member ",n+1," ")}}function y2(t,e){if(t&1&&(v(0,"div",14),re(1,v2,2,3,"div",15),y()),t&2){let n=te();D(),j("ngForOf",n.members)}}function b2(t,e){if(t&1&&(v(0,"div",18)(1,"div",19)(2,"strong"),E(3,"Name:"),y(),E(4),y(),v(5,"div",19)(6,"strong"),E(7,"Aadhaar:"),y(),E(8),y(),v(9,"div",19)(10,"strong"),E(11,"Gender:"),y(),E(12),y(),v(13,"div",19)(14,"strong"),E(15,"Contact:"),y(),E(16),y()()),t&2){let n=te(2);D(4),ve(" ",n.members[n.selectedTab].Name,""),D(4),ve(" ",n.members[n.selectedTab].Aadharnumber,""),D(4),ve(" ",n.members[n.selectedTab].gender,""),D(4),ve(" ",n.members[n.selectedTab].mobileNo,"")}}function w2(t,e){if(t&1&&(v(0,"div"),re(1,b2,17,4,"div",17),y()),t&2){let n=te();D(),j("ngIf",n.selectedTab!==null)}}var CS=(()=>{let e=class e{constructor(i,r,s,o,a){this.route=i,this.bottomSheet=r,this.firestore=s,this.receivingEventService=o,this.router=a,this.bookingdata=null,this.selectedTab=0,this.members=[]}ngOnInit(){let i=this.route.snapshot.paramMap.get("BookingId");i&&this.getBookingDetails(i)}getBookingDetails(i){return g(this,null,function*(){let r=yield this.receivingEventService.getAllUsers();for(let s of r.docs){let o=s.id,a=yield this.receivingEventService.getUserBookings(o);for(let l of a.docs){let u=l.data();if(u.id===i){this.bookingdata={BookingId:u.id,name:u.customer.name,contact:u.customer.phoneNumber,eventname:u.event.eventName,slabname:u.slab.name,varientname:u.variant.name,date:u.paymentDetail.date,time:u.paymentDetail.time,price:u.paymentDetail.totalPrice,tickets:u.totalMember,status:u.paymentDetail.paymentStatus,member:u.memberDetail},this.members=u.memberDetail,this.userId=o;break}}}})}selectTab(i){this.selectedTab=i}};e.\u0275fac=function(r){return new(r||e)(O(fn),O(Kl),O(Ue),O(qd),O(ge))},e.\u0275cmp=W({type:e,selectors:[["app-payment-details"]],inputs:{bookingdata:"bookingdata"},standalone:!0,features:[Y],decls:51,vars:17,consts:[[3,"pageTitle"],[1,"details"],[1,"booking"],[1,"card_title_text","heading"],[1,"event","paragraph_text"],[1,"field"],[1,"header_text_color"],[1,"eventpayment","paragraph_text"],[3,"ngClass"],[1,"scroll"],[1,"memberheading"],[1,"card_title_text"],["class","tabs",4,"ngIf"],[4,"ngIf"],[1,"tabs"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"tab",3,"click"],["class","content",4,"ngIf"],[1,"content"],[1,"card2"]],template:function(r,s){r&1&&(U(0,"app-header-with-back",0),v(1,"section",1)(2,"div",2)(3,"p",3),E(4,"Payment Details"),y(),v(5,"div",4)(6,"span",5),E(7,"Event"),y(),v(8,"span",6),E(9),y()(),v(10,"div",4)(11,"span",5),E(12,"slab"),y(),v(13,"span",6),E(14),y()(),v(15,"div",4)(16,"span",5),E(17,"varient"),y(),v(18,"span",6),E(19),y()(),v(20,"div",4)(21,"span",5),E(22,"Booking Member"),y(),v(23,"span",6),E(24),y()(),v(25,"div",4)(26,"span",5),E(27,"Contact"),y(),v(28,"span",6),E(29),y()(),v(30,"div",4)(31,"span",5),E(32,"Date"),y(),v(33,"span",6),E(34),y()(),v(35,"div",4)(36,"span",5),E(37,"Payment"),y(),v(38,"span",6),E(39),y()(),v(40,"div",7)(41,"span",5),E(42,"Status"),y(),v(43,"span",8),E(44),y()()(),v(45,"div",9)(46,"div",10)(47,"p",11),E(48,"Member Details"),y()(),re(49,y2,2,1,"div",12)(50,w2,2,1,"div",13),y()()),r&2&&(j("pageTitle","Booking Details"),D(9),me(s.bookingdata==null?null:s.bookingdata.eventname),D(5),me(s.bookingdata==null?null:s.bookingdata.slabname),D(5),me(s.bookingdata==null?null:s.bookingdata.varientname),D(5),me(s.bookingdata==null?null:s.bookingdata.name),D(5),me(s.bookingdata==null?null:s.bookingdata.contact),D(5),ds("",s.bookingdata==null?null:s.bookingdata.date," ",s.bookingdata==null?null:s.bookingdata.time,""),D(5),me(s.bookingdata==null?null:s.bookingdata.price),D(4),j("ngClass",f0(13,_2,(s.bookingdata==null?null:s.bookingdata.status)==="pending",(s.bookingdata==null?null:s.bookingdata.status)==="success",(s.bookingdata==null?null:s.bookingdata.status)==="failed")),D(),ve(" ",s.bookingdata==null?null:s.bookingdata.status," "),D(5),j("ngIf",s.members.length>0),D(),j("ngIf",s.members.length>0))},dependencies:[Ae,b0,et,Nt,qe],styles:[".details[_ngcontent-%COMP%]{padding:20px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]{background:linear-gradient(99.41deg,#e1e1e14d 12.07%,#e1e1e133 48.35% 87.93%);margin-top:15%;border-radius:15px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:500;margin:5px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:2px 10px 0}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{color:#7e8083;font-size:16px;font-weight:500}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]   .header_text_color[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;padding:0 10px 20px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{font-size:22px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .text-red[_ngcontent-%COMP%]{color:red;font-size:22px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .text-green[_ngcontent-%COMP%]{color:#48bc1f;font-size:22px}.details[_ngcontent-%COMP%]   .booking[_ngcontent-%COMP%]   .eventpayment[_ngcontent-%COMP%]   .text-black[_ngcontent-%COMP%]{color:#000;font-size:22px}.details[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{background:linear-gradient(99.41deg,#e1e1e14d 12.07%,#e1e1e133 48.35% 87.93%);border-radius:15px;padding:10px;margin-top:20px}.details[_ngcontent-%COMP%]   .memberheading[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.details[_ngcontent-%COMP%]   .memberheading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px;height:30px;border-radius:15px;background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border:none;color:#fff;align-items:center}.details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}.details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:5px;border-radius:10px;cursor:pointer;justify-content:center;align-items:center}.details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:var(--active-tab-gradient, linear-gradient(90deg, #464E5F .28%, rgba(70, 78, 95, .8) 47.84%, rgba(70, 78, 95, .4) 99.72%));color:#fff}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:8%;padding:20px;background:linear-gradient(99.41deg,#e1e1e14d 12.07%,#e1e1e133 48.35% 87.93%);border:1px solid;border-image-source:linear-gradient(99.41deg,rgba(170,170,170,.3) 12.07%,rgba(170,170,170,.2) 48.35%,rgba(170,170,170,.2) 87.93%);border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:.4rem;margin-right:.4rem}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .card2[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.details[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(91.49deg,#e90d35 1.27%,#e90d35cc 47.72%,#e90d3566 98.38%);border:none;height:60px;width:166px;border-radius:30px;margin-left:25%}"]});let t=e;return t})();var TS=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:pT},{path:"home",component:yT},{path:"otp",component:IT},{path:"profile",component:oS},{path:"add-address",component:cS},{path:"member-detail",component:uS},{path:"event-payment",component:Iv},{path:"payment/:id",component:Iv},{path:"payment-successful",component:hS},{path:"patmentfailed",component:wS},{path:"survey-list",component:fS},{path:"event-list",component:pS},{path:"slab/:id",component:mS},{path:"varient/:id",component:gS},{path:"donation",component:_S},{path:"feed",component:yS},{path:"coupon",component:vS},{path:"account",component:bS},{path:"history",component:ES},{path:"PaymentDetail/:BookingId",component:CS}];var I2="@",E2=(()=>{let e=class e{constructor(i,r,s,o,a){this.doc=i,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=K(o0,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-JKJMRTVF.js").then(r=>r)).catch(r=>{throw new je(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(i,r){let s=this.delegate.createRenderer(i,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new Ev(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(i,r);o.use(l),this.scheduler?.notify(9)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Nh()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Ev=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(I2)}};function SS(t="animations"){return Fh("NgAsyncAnimations"),gt([{provide:ol,useFactory:(e,n,i)=>new E2(e,n,i,t),deps:[he,bl,ce]},{provide:Go,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var RS="functions";var Cv=class{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){return g(this,null,function*(){if(this.auth)try{let e=yield this.auth.getToken();return e?.accessToken}catch{return}})}getMessagingToken(){return g(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(e){return g(this,null,function*(){if(this.appCheck){let n=e?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return n.error?null:n.token}return null})}getContext(e){return g(this,null,function*(){let n=yield this.getAuthToken(),i=yield this.getMessagingToken(),r=yield this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:r}})}};var Tv="us-central1";var Sv=class{constructor(e,n,i,r,s=Tv,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Cv(n,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(s);this.customDomain=a.origin,this.region=Tv}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){let n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function C2(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}var AS="@firebase/functions",PS="0.11.6";var T2="auth-internal",S2="app-check-internal",A2="messaging-internal";function P2(t,e){let n=(i,{instanceIdentifier:r})=>{let s=i.getProvider("app").getImmediate(),o=i.getProvider(T2),a=i.getProvider(A2),l=i.getProvider(S2);return new Sv(s,o,a,l,r,t)};It(new tt(RS,n,"PUBLIC").setMultipleInstances(!0)),we(AS,PS,e),we(AS,PS,"esm2017")}function DS(t=en(),e=Tv){let i=Ht(Me(t),RS).getImmediate({identifier:e}),r=Us("functions");return r&&OS(i,...r),i}function OS(t,e,n){C2(Me(t),e,n)}P2(fetch.bind(self));var Mc=class{constructor(e){return e}},xS="functions",Av=class{constructor(){return Pn(xS)}};var Pv=new ie("angularfire2.functions-instances");function R2(t,e){let n=Hn(xS,t,e);return n&&new Mc(n)}function D2(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Mc(i)}}var O2={provide:Av,deps:[[new Le,Pv]]},x2={provide:Mc,useFactory:R2,deps:[[new Le,Pv],$t]};function kS(t,...e){return we("angularfire",tn.full,"fn"),gt([x2,O2,{provide:Pv,useFactory:D2(t),multi:!0,deps:[ce,xe,_n,nn,[new Le,bi],[new Le,Wn],...e]}])}var MS=Fe(DS,!0);var VS="@firebase/installations",xv="0.6.8";var LS=1e4,US=`w:${xv}`,jS="FIS_v2",k2="https://firebaseinstallations.googleapis.com/v1",M2=60*60*1e3,N2="installations",F2="Installations";var V2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ns=new Zt(N2,F2,V2);function BS(t){return t instanceof wt&&t.code.includes("request-failed")}function zS({projectId:t}){return`${k2}/projects/${t}/installations`}function $S(t){return{token:t.token,requestStatus:2,expiresIn:U2(t.expiresIn),creationTime:Date.now()}}function qS(t,e){return g(this,null,function*(){let i=(yield e.json()).error;return ns.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function GS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L2(t,{refreshToken:e}){let n=GS(t);return n.append("Authorization",j2(e)),n}function WS(t){return g(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function U2(t){return Number(t.replace("s","000"))}function j2(t){return`${jS} ${t}`}function B2(i,r){return g(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=zS(t),o=GS(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}let l={fid:n,authVersion:jS,appId:t.appId,sdkVersion:US},u={method:"POST",headers:o,body:JSON.stringify(l)},h=yield WS(()=>fetch(s,u));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:$S(p.authToken)}}else throw yield qS("Create Installation",h)})}function HS(t){return new Promise(e=>{setTimeout(e,t)})}function z2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var $2=/^[cdef][\w-]{21}$/,Ov="";function q2(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=G2(t);return $2.test(n)?n:Ov}catch{return Ov}}function G2(t){return z2(t).substr(0,22)}function Wd(t){return`${t.appName}!${t.appId}`}var KS=new Map;function YS(t,e){let n=Wd(t);QS(n,e),W2(n,e)}function QS(t,e){let n=KS.get(t);if(n)for(let i of n)i(e)}function W2(t,e){let n=H2();n&&n.postMessage({key:t,fid:e}),K2()}var ts=null;function H2(){return!ts&&"BroadcastChannel"in self&&(ts=new BroadcastChannel("[Firebase] FID Change"),ts.onmessage=t=>{QS(t.data.key,t.data.fid)}),ts}function K2(){KS.size===0&&ts&&(ts.close(),ts=null)}var Y2="firebase-installations-database",Q2=1,is="firebase-installations-store",Rv=null;function kv(){return Rv||(Rv=Nr(Y2,Q2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(is)}}})),Rv}function Gd(t,e){return g(this,null,function*(){let n=Wd(t),r=(yield kv()).transaction(is,"readwrite"),s=r.objectStore(is),o=yield s.get(n);return yield s.put(e,n),yield r.done,(!o||o.fid!==e.fid)&&YS(t,e.fid),e})}function XS(t){return g(this,null,function*(){let e=Wd(t),i=(yield kv()).transaction(is,"readwrite");yield i.objectStore(is).delete(e),yield i.done})}function Hd(t,e){return g(this,null,function*(){let n=Wd(t),r=(yield kv()).transaction(is,"readwrite"),s=r.objectStore(is),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield r.done,a&&(!o||o.fid!==a.fid)&&YS(t,a.fid),a})}function Mv(t){return g(this,null,function*(){let e,n=yield Hd(t.appConfig,i=>{let r=X2(i),s=J2(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===Ov?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function X2(t){let e=t||{fid:q2(),registrationStatus:0};return JS(e)}function J2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(ns.create("app-offline"));return{installationEntry:e,registrationPromise:r}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Z2(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eU(t)}:{installationEntry:e}}function Z2(t,e){return g(this,null,function*(){try{let n=yield B2(t,e);return Gd(t.appConfig,n)}catch(n){throw BS(n)&&n.customData.serverCode===409?yield XS(t.appConfig):yield Gd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function eU(t){return g(this,null,function*(){let e=yield NS(t.appConfig);for(;e.registrationStatus===1;)yield HS(100),e=yield NS(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:i}=yield Mv(t);return i||n}return e})}function NS(t){return Hd(t,e=>{if(!e)throw ns.create("installation-not-found");return JS(e)})}function JS(t){return tU(t)?{fid:t.fid,registrationStatus:0}:t}function tU(t){return t.registrationStatus===1&&t.registrationTime+LS<Date.now()}function nU(i,r){return g(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=iU(t,n),o=L2(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}let l={installation:{sdkVersion:US,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},h=yield WS(()=>fetch(s,u));if(h.ok){let p=yield h.json();return $S(p)}else throw yield qS("Generate Auth Token",h)})}function iU(t,{fid:e}){return`${zS(t)}/${e}/authTokens:generate`}function Nv(t,e=!1){return g(this,null,function*(){let n,i=yield Hd(t.appConfig,s=>{if(!ZS(s))throw ns.create("not-registered");let o=s.authToken;if(!e&&oU(o))return s;if(o.requestStatus===1)return n=rU(t,e),s;{if(!navigator.onLine)throw ns.create("app-offline");let a=cU(s);return n=sU(t,a),a}});return n?yield n:i.authToken})}function rU(t,e){return g(this,null,function*(){let n=yield FS(t.appConfig);for(;n.authToken.requestStatus===1;)yield HS(100),n=yield FS(t.appConfig);let i=n.authToken;return i.requestStatus===0?Nv(t,e):i})}function FS(t){return Hd(t,e=>{if(!ZS(e))throw ns.create("not-registered");let n=e.authToken;return lU(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function sU(t,e){return g(this,null,function*(){try{let n=yield nU(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield Gd(t.appConfig,i),n}catch(n){if(BS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield XS(t.appConfig);else{let i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Gd(t.appConfig,i)}throw n}})}function ZS(t){return t!==void 0&&t.registrationStatus===2}function oU(t){return t.requestStatus===2&&!aU(t)}function aU(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+M2}function cU(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function lU(t){return t.requestStatus===1&&t.requestTime+LS<Date.now()}function uU(t){return g(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:i}=yield Mv(e);return i?i.catch(console.error):Nv(e).catch(console.error),n.fid})}function dU(t,e=!1){return g(this,null,function*(){let n=t;return yield hU(n),(yield Nv(n,e)).token})}function hU(t){return g(this,null,function*(){let{registrationPromise:e}=yield Mv(t);e&&(yield e)})}function fU(t){if(!t||!t.options)throw Dv("App Configuration");if(!t.name)throw Dv("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Dv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Dv(t){return ns.create("missing-app-config-values",{valueName:t})}var eA="installations",pU="installations-internal",mU=t=>{let e=t.getProvider("app").getImmediate(),n=fU(e),i=Ht(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},gU=t=>{let e=t.getProvider("app").getImmediate(),n=Ht(e,eA).getImmediate();return{getId:()=>uU(n),getToken:r=>dU(n,r)}};function _U(){It(new tt(eA,mU,"PUBLIC")),It(new tt(pU,gU,"PRIVATE"))}_U();we(VS,xv);we(VS,xv,"esm2017");var vU="/firebase-messaging-sw.js",yU="/firebase-cloud-messaging-push-scope",oA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bU="https://fcmregistrations.googleapis.com/v1",aA="google.c.a.c_id",wU="google.c.a.c_l",IU="google.c.a.ts",EU="google.c.a.e";var Kd=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Kd||{});function Ai(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function CU(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}var Fv="fcm_token_details_db",TU=5,tA="fcm_token_object_Store";function SU(t){return g(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Fv))return null;let e=null;return(yield Nr(Fv,TU,{upgrade:(i,r,s,o)=>g(this,null,function*(){var a;if(r<2||!i.objectStoreNames.contains(tA))return;let l=o.objectStore(tA),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!u){if(r===2){let h=u;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(a=h.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:Ai(h.vapidKey)}}}else if(r===3){let h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ai(h.auth),p256dh:Ai(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ai(h.vapidKey)}}}else if(r===4){let h=u;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Ai(h.auth),p256dh:Ai(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Ai(h.vapidKey)}}}}})})).close(),yield gu(Fv),yield gu("fcm_vapid_details_db"),yield gu("undefined"),AU(e)?e:null})}function AU(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var PU="firebase-messaging-database",RU=1,Nc="firebase-messaging-store",Vv=null;function cA(){return Vv||(Vv=Nr(PU,RU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nc)}}})),Vv}function DU(t){return g(this,null,function*(){let e=lA(t),i=yield(yield cA()).transaction(Nc).objectStore(Nc).get(e);if(i)return i;{let r=yield SU(t.appConfig.senderId);if(r)return yield jv(t,r),r}})}function jv(t,e){return g(this,null,function*(){let n=lA(t),r=(yield cA()).transaction(Nc,"readwrite");return yield r.objectStore(Nc).put(e,n),yield r.done,e})}function lA({appConfig:t}){return t.appId}var OU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Gt=new Zt("messaging","Messaging",OU);function xU(t,e){return g(this,null,function*(){let n=yield zv(t),i=uA(e),r={method:"POST",headers:n,body:JSON.stringify(i)},s;try{s=yield(yield fetch(Bv(t.appConfig),r)).json()}catch(o){throw Gt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Gt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Gt.create("token-subscribe-no-token");return s.token})}function kU(t,e){return g(this,null,function*(){let n=yield zv(t),i=uA(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)},s;try{s=yield(yield fetch(`${Bv(t.appConfig)}/${e.token}`,r)).json()}catch(o){throw Gt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Gt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Gt.create("token-update-no-token");return s.token})}function MU(t,e){return g(this,null,function*(){let i={method:"DELETE",headers:yield zv(t)};try{let s=yield(yield fetch(`${Bv(t.appConfig)}/${e}`,i)).json();if(s.error){let o=s.error.message;throw Gt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(r){throw Gt.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})}function Bv({projectId:t}){return`${bU}/projects/${t}/registrations`}function zv(n){return g(this,arguments,function*({appConfig:t,installations:e}){let i=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})})}function uA({p256dh:t,auth:e,endpoint:n,vapidKey:i}){let r={web:{endpoint:n,auth:e,p256dh:t}};return i!==oA&&(r.web.applicationPubKey=i),r}var NU=7*24*60*60*1e3;function FU(t){return g(this,null,function*(){let e=yield LU(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ai(e.getKey("auth")),p256dh:Ai(e.getKey("p256dh"))},i=yield DU(t.firebaseDependencies);if(i){if(UU(i.subscriptionOptions,n))return Date.now()>=i.createTime+NU?VU(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield MU(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return nA(t.firebaseDependencies,n)}else return nA(t.firebaseDependencies,n)})}function VU(t,e){return g(this,null,function*(){try{let n=yield kU(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield jv(t.firebaseDependencies,i),n}catch(n){throw n}})}function nA(t,e){return g(this,null,function*(){let i={token:yield xU(t,e),createTime:Date.now(),subscriptionOptions:e};return yield jv(t,i),i.token})}function LU(t,e){return g(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:CU(e)})})}function UU(t,e){let n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,r=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&i&&r&&s}function iA(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return jU(e,t),BU(e,t),zU(e,t),e}function jU(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let i=e.notification.body;i&&(t.notification.body=i);let r=e.notification.image;r&&(t.notification.image=r);let s=e.notification.icon;s&&(t.notification.icon=s)}function BU(t,e){e.data&&(t.data=e.data)}function zU(t,e){var n,i,r,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(r=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&r!==void 0?r:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function $U(t){return typeof t=="object"&&!!t&&aA in t}dA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");dA("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function dA(t,e){let n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));return n.join("")}function qU(t){if(!t||!t.options)throw Lv("App Configuration Object");if(!t.name)throw Lv("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let i of e)if(!n[i])throw Lv(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Lv(t){return Gt.create("missing-app-config-values",{valueName:t})}var Uv=class{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=qU(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}};function GU(t){return g(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(vU,{scope:yU}),t.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function WU(t,e){return g(this,null,function*(){if(!e&&!t.swRegistration&&(yield GU(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");t.swRegistration=e}})}function HU(t,e){return g(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=oA)})}function KU(t,e){return g(this,null,function*(){if(!navigator)throw Gt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Gt.create("permission-blocked");return yield HU(t,e?.vapidKey),yield WU(t,e?.serviceWorkerRegistration),FU(t)})}function YU(t,e,n){return g(this,null,function*(){let i=QU(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[aA],message_name:n[wU],message_time:n[IU],message_device_time:Math.floor(Date.now()/1e3)})})}function QU(t){switch(t){case Kd.NOTIFICATION_CLICKED:return"notification_open";case Kd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function XU(t,e){return g(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Kd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(iA(n)):t.onMessageHandler.next(iA(n)));let i=n.data;$U(i)&&i[EU]==="1"&&(yield YU(t,n.messageType,i))})}var rA="@firebase/messaging",sA="0.12.10";var JU=t=>{let e=new Uv(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>XU(e,n)),e},ZU=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:i=>KU(e,i)}};function ej(){It(new tt("messaging",JU,"PUBLIC")),It(new tt("messaging-internal",ZU,"PRIVATE")),we(rA,sA),we(rA,sA,"esm2017")}function $v(){return g(this,null,function*(){try{yield fu()}catch{return!1}return typeof window<"u"&&$a()&&qw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function hA(t=en()){return $v().then(e=>{if(!e)throw Gt.create("unsupported-browser")},e=>{throw Gt.create("indexed-db-unsupported")}),Ht(Me(t),"messaging").getImmediate()}ej();var Fc=class{constructor(e){return e}},fA="messaging",qv=class{constructor(){return Pn(fA)}};var pA="__angularfire_symbol__messagingIsSupported",Gv="__angularfire_symbol__messagingIsSupportedValue";globalThis[pA]||=$v().then(t=>globalThis[Gv]=t).catch(()=>globalThis[Gv]=!1);var Yd={async:()=>globalThis[pA],sync:()=>{let t=globalThis[Gv];if(t===void 0)throw new Error(oI("Messaging"));return t}},Wv=new ie("angularfire2.messaging-instances");function tj(t,e){if(!Yd.sync())return null;let n=Hn(fA,t,e);return n&&new Fc(n)}function nj(t){return(e,n)=>{if(!Yd.sync())return null;let i=e.runOutsideAngular(()=>t(n));return new Fc(i)}}var ij={provide:qv,deps:[[new Le,Wv]]},rj={provide:Fc,useFactory:tj,deps:[[new Le,Wv],$t]};function mA(t,...e){return we("angularfire",tn.full,"fcm"),gt([rj,ij,{provide:Lh,useValue:Yd.async,multi:!0},{provide:Wv,useFactory:nj(t),multi:!0,deps:[ce,xe,_n,nn,...e]}])}var KW=Yd.async;var gA=Fe(hA,!0);var _A={providers:[m0({eventCoalescing:!0}),U0(j0()),Rb(TS),SS(),aI(()=>cI({apiKey:"AIzaSyA9mqYMpobF0WJuA0h-l1Qft5v7PjVwgOI",authDomain:"fyi1-aa2c2.firebaseapp.com",projectId:"fyi1-aa2c2",storageBucket:"fyi1-aa2c2.appspot.com",messagingSenderId:"273891090725",appId:"1:273891090725:web:1a3a2b61ba58a8e632bacc",measurementId:"G-CJ026BL27H"})),rE(()=>oE()),aT(()=>lT()),kS(()=>MS()),mA(()=>gA()),tS(()=>iS())]};function sj(t,e){if(t&1){let n=ke();v(0,"div",1)(1,"button",2),G("click",function(){ue(n);let r=te();return de(r.moveToHome())}),U(2,"img",3),v(3,"span"),E(4,"Home"),y()(),v(5,"button",2),G("click",function(){ue(n);let r=te();return de(r.moveTohistory())}),U(6,"img",4),v(7,"span"),E(8,"History"),y()(),v(9,"button",2),G("click",function(){ue(n);let r=te();return de(r.moveTofeed())}),U(10,"img",5),v(11,"span"),E(12,"Feed"),y()(),v(13,"button",2),G("click",function(){ue(n);let r=te();return de(r.moveTocoupon())}),U(14,"img",6),v(15,"span"),E(16,"Coupon"),y()(),v(17,"button",2),G("click",function(){ue(n);let r=te();return de(r.moveToaccount())}),U(18,"img",7),v(19,"span"),E(20,"Account"),y()()()}if(t&2){let n=te();D(),_t("active",n.currentTab==="home"),D(),j("src",n.currentTab==="home"?"/assets/navbar/home1.svg":"/assets/navbar/home.svg",st),D(3),_t("active",n.currentTab==="donation"),D(),j("src",n.currentTab==="donation"?"/assets/navbar/history1.svg":"/assets/navbar/history.svg",st),D(3),_t("active",n.currentTab==="feed"),D(),j("src",n.currentTab==="feed"?"/assets/navbar/feed1.svg":"/assets/navbar/feed.svg",st),D(3),_t("active",n.currentTab==="coupon"),D(),j("src",n.currentTab==="coupon"?"/assets/navbar/report1.svg":"/assets/navbar/report.svg",st),D(3),_t("active",n.currentTab==="account"),D(),j("src",n.currentTab==="account"?"/assets/navbar/profile1.svg":"/assets/navbar/profile.svg",st)}}var vA=(()=>{let e=class e{constructor(i,r){this.router=i,this.DataProviderService=r,this.hiddenRoutes=["/login","/add-address","/otp","/profile","/member-detail","event-payment","payment","payment-successful","patmentfailed","varient"],this.currentTab="home",this.checkRoute(this.router.url),this.router.events.subscribe(s=>{s instanceof fi&&this.checkRoute(s.urlAfterRedirects)})}moveToHome(){this.currentTab="home",this.router.navigate(["home"])}moveTohistory(){this.currentTab="donation",this.router.navigate(["history"])}moveTofeed(){this.currentTab="feed",this.router.navigate(["feed"])}moveTocoupon(){this.currentTab="coupon",this.router.navigate(["coupon"])}moveToaccount(){this.currentTab="account",this.router.navigate(["account"])}checkRoute(i){this.showNavbar=!this.hiddenRoutes.some(r=>i.includes(r))}};e.\u0275fac=function(r){return new(r||e)(O(ge),O(pt))},e.\u0275cmp=W({type:e,selectors:[["app-navbar"]],standalone:!0,features:[Y],decls:1,vars:1,consts:[["class","navbar",4,"ngIf"],[1,"navbar"],[3,"click"],["alt","Home",3,"src"],["alt","Donation",3,"src"],["alt","Feed",3,"src"],["alt","Coupon",3,"src"],["alt","Account",3,"src"]],template:function(r,s){r&1&&re(0,sj,21,15,"div",0),r&2&&j("ngIf",s.showNavbar)},dependencies:[Ae,Nt],styles:[".navbar[_ngcontent-%COMP%]{border-radius:30px;display:flex;position:fixed;justify-content:space-between;bottom:0;background:#fff;height:80px;width:100%;z-index:1000;padding-left:10px;padding-right:10px}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .3s ease;position:relative}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:10px;transition:all .3s ease}.navbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-top:5px;color:#000;transition:color .3s ease}.navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff}.navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:translateY(-20px);background:linear-gradient(90.32deg,#2f15aa .28%,#2f15aacc 47.84%,#2f15aa66 99.72%);border-radius:30px}.navbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:translateY(-20px);color:#2f15aa}"]});let t=e;return t})();var yA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=He({type:e}),e.\u0275inj=We({imports:[Ae,vp]});let t=e;return t})();function oj(t,e){t&1&&(v(0,"div",1),U(1,"div",2),y())}var bA=(()=>{let e=class e{constructor(i){this.loadingService=i,this.isLoading=this.loadingService.isLoading$}};e.\u0275fac=function(r){return new(r||e)(O(po))},e.\u0275cmp=W({type:e,selectors:[["app-spinner"]],standalone:!0,features:[Y],decls:2,vars:3,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(r,s){r&1&&(re(0,oj,2,0,"div",0),cl(1,"async")),r&2&&j("ngIf",ll(1,1,s.isLoading))},dependencies:[yA,Ae,Nt,I0],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#ffffffb3;display:flex;justify-content:center;align-items:center;z-index:10000}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let t=e;return t})();var wA=(()=>{let e=class e{constructor(){this.title="donor"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=W({type:e,selectors:[["app-root"]],standalone:!0,features:[Y],decls:3,vars:0,template:function(r,s){r&1&&U(0,"app-spinner")(1,"router-outlet")(2,"app-navbar")},dependencies:[Bf,vA,bA]});let t=e;return t})();H0(wA,_A).catch(t=>console.error(t));
